(self.modernJsonp=self.modernJsonp||[]).push([["44775"],{219162:function(e,t,n){n.d(t,{Z:()=>a});var r=n(505633),o=n(935833),i=n(426775);let a=(e,t)=>{t?.disableOriginCheck||(0,i.Z)(e)||(e="/",(0,o.My)("url_reset")),(0,r.Z)(e)}},36796:function(e,t,n){n.d(t,{Z:()=>o,z:()=>i});var r=n(456940);function o(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],n=e&&-1!==e.indexOf(".")?e.split("."):[];if(n.length>=2&&"gmail"===n[0]&&"com"!==n.slice(1).join("."))return!0;let o=(0,r.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===o||2===o))return!0}return!1}function i(e,t){let n=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==n.length)return!1;let o=n[1],i=o&&-1!==o.indexOf(".")?o.split("."):[],a=i[0];if(a===t&&i.length>3)return!0;if(i.length>=2){let e=(0,r.Z)(a,t);return a.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==i.length||a!==t||2!==i[1].length&&"com"!==i[1])&&(i.length,!1)}},884869:function(e,t,n){n.d(t,{BR:()=>a,h7:()=>s,qo:()=>l});var r=n(991166);n(721703);var o=n(183230),i=n(767415);let a=(e=!1)=>e?"0F985541-B543-4B29-A098-4BB9B8E9DEF8":"F5675B21-025B-4843-983C-38D86DEB394B",s="https://iframe.arkoselabs.com",l=({fingerprintData:e,source:t,logContextEvent:n})=>new Promise(l=>{let u;if(!e)return void l(!1);if("string"==typeof(u=e.current.experimentGroup)&&u===r.$L.ENABLED_ARKOSE_IFRAME){let e=document.getElementById("arkoseFrame");e?.contentWindow&&e.contentWindow.postMessage(JSON.stringify({publicKey:a(),eventId:"challenge-open"}),s),l(!0);return}if(e.current.arkoseEnforcement){let s=a(e.current.experimentGroup===r.$L.ENABLED_CHALLENGE),u=e.current.arkoseEnforcement.getConfig();e.current.arkoseEnforcement.setConfig({publicKey:s,onCompleted:o=>{e.current.arkoseSessionToken=o.token,e.current.submitTriggeredTime&&((0,i.LY)(`web_identity_fp_vendors.${t}.submit.time`,performance.now()-e.current.submitTriggeredTime,{tags:{experiment_group:e.current.experimentGroup}}),n({event_type:101,element:18039,component:t===r.Ef.LOGIN?14212:14214,aux_data:{time_in_ms:Math.round(performance.now()-e.current.submitTriggeredTime),is_iframe:!1}})),l(!1)},onReady:()=>{e.current.arkoseEnforcement?.run()},onError:e=>{let t=e&&"error"in e&&"error"in e.error?e.error.error:"unknown";(0,o.T)({name:`arkoseEnforcementError.${t}`,message:"Error setting arkose enforcement config",message_detail:t,stack:e instanceof Error?e.stack:void 0}),l(!1)},onHide:()=>{e.current.arkoseSessionToken&&l(!1),l(!0)}}),u.publicKey===s&&e.current.arkoseEnforcement.run()}else l(!1)})},991166:function(e,t,n){n.d(t,{$L:()=>o,Ef:()=>r});let r={LOGIN:"login",SIGNUP:"signup"},o={ENABLED_ARKOSE:"enabled_arkose",ENABLED_SARDINE:"enabled_sardine",ENABLED_DETECTION:"enabled_detection",ENABLED_CHALLENGE:"enabled_challenge",ENABLED_ARKOSE_ENFORCEMENT:"enabled_arkose_enforcement",ENABLED_SARDINE_ENFORCEMENT:"enabled_sardine_enforcement",ENABLED_ARKOSE_IFRAME:"enabled_arkose_iframe",ENABLED_LOGIN_ONLY:"enabled_login_only",CONTROL:"control",CONTROL_DETECTION:"control_detection"}},384696:function(e,t,n){n.d(t,{Lq:()=>i,NW:()=>a});var r=n(884869),o=n(183230);n(767415);let i=({fingerprintData:e,source:t,logContextEvent:n})=>((({fingerprintData:e,source:t})=>{if(!e)return;if(!e.current?.sardineContext?.updateConfig)return(0,o.T)({name:"updateSardineContext.sardineSdkContextNotFound",message:"Sardine context not found"});let n=(()=>{let e=document?.getElementById("sardine-script")?.getAttribute("data-session-key");return e&&window.performance?`${e}-${performance.now()}`:null})();if(!n)return(0,o.T)({name:"updateSardineContext.sardineSdkSessionKeyNotFound",message:"SessionKey not found on sardine-script"});e.current.sardineContext.updateConfig({flow:t,sessionKey:n}),e.current.sardineSessionKey=n})({fingerprintData:e,source:t}),(0,r.qo)({fingerprintData:e,source:t,logContextEvent:n})),a=e=>{if(!e.fingerprintData?.current)return e;let t={...e};return e.fingerprintData.current.sardineSessionKey&&(t.sardineSessionKey=e.fingerprintData.current.sardineSessionKey),e.fingerprintData.current.arkoseSessionToken&&(t.arkoseSessionToken=e.fingerprintData.current.arkoseSessionToken),t.fingerprintData&&delete t.fingerprintData,t}},990898:function(e,t,n){n.d(t,{Z:()=>c});var r=n(667294),o=n(127078),i=n(47755),a=n(935833),s=n(4533),l=n(34550);async function u({isRegister:e,visitedPages:t,completedSearches:n,clickthroughPins:r}){let o=Array.isArray(t)?t:[],u=Array.isArray(n)?n:[],c=Array.isArray(r)?r:[],_=o.length>0?o.map(({pageType:e,...t})=>t):[],d=c.map(e=>({pin_id:e.pinId,image_signature:e.imageSignature,link:e.link,domain:e.domain,ts:e.ts})),g={is_register:!!e,unauth_visited_pages:JSON.stringify(_),unauth_searches:JSON.stringify(u),unauth_pin_clickthroughs:JSON.stringify(d)};try{(0,a.tj)("landing_signals.flush.data",{tags:{is_register:!!e,has_unauth_visited_pages:_.length>0,has_unauth_searches:n.length>0,has_unauth_pin_clickthroughs:d.length>0}});let t=(await (0,i.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:g})).resource_response.error;(0,a.My)(`landing_signals.flush.${t?"failure":"success"}`)}catch(e){(0,a.My)("landing_signals.flush.caught_exception")}finally{(0,l.M0)().removeItem(s.pm),(0,l.M0)().removeItem(s.ny),(0,l.M0)().removeItem(s.Vb),(0,l.M0)().removeItem(s.Mi)}}function c(){let e=(0,o.EJ)(),t=(0,o.a3)(),n=(0,o.kH)();return(0,r.useCallback)(async({isRegister:r}={})=>{await u({isRegister:r,visitedPages:e,completedSearches:t,clickthroughPins:n})},[e,t,n])}},456940:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){let n,r;if(0===e.length)return t.length;if(0===t.length)return e.length;let o=[];for(n=0;n<=t.length;n+=1)o[n]=[n];for(r=0;r<=e.length;r+=1)o[0][r]=r;for(n=1;n<=t.length;n+=1)for(r=1;r<=e.length;r+=1)t.charAt(n-1)===e.charAt(r-1)?o[n][r]=o[n-1][r-1]:o[n][r]=Math.min(o[n-1][r-1]+1,Math.min(o[n][r-1]+1,o[n-1][r]+1));return o[t.length][e.length]}},174661:function(e,t,n){n.d(t,{Z:()=>i});var r=n(667294),o=n(501010);function i(){let{checkExperiment:e}=(0,o.Z)();return{activatePCUnauthHoldoutExperiments:(0,r.useCallback)(()=>{e("2025_h2_pc_unauth_upsell_holdout"),e("2025_h2_pc_unauth_authentication_holdout")},[e]),userIsEligibleForShippedPCUpsellExperiment:()=>"holdout"!==e("2025_h2_pc_unauth_upsell_holdout").group,userIsEligibleForShippedPCAuthenticationExperiment:()=>"holdout"!==e("2025_h2_pc_unauth_authentication_holdout").group}}},78521:function(e,t,n){n.d(t,{Z:()=>E,l:()=>m});var r=n(686659),o=n(667294),i=n(343669),a=n(213491),s=n(174661),l=n(408660),u=n(101215),c=n(501010),_=n(774838),d=n(935833),g=n(739405),p=n(785893);let{Provider:f,getMaybe:m}=(0,a.Z)("GoogleSignInApi");function E({children:e}){(0,o.useEffect)(()=>{(0,r.Z)("GoogleSignInSDKManager","/app/packages/pinterest-authentication/GoogleSignInSDKManager.tsx")},[]);let t=(()=>{let e=(0,g.HG)(),{checkExperiment:t}=(0,c.Z)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled})(),n=(0,g.HG)(),a=(0,o.useRef)(null),m=(0,o.useRef)(new Set),E=(0,o.useRef)(new Set),h=(0,o.useRef)(null),{userIsEligibleForShippedPCAuthenticationExperiment:k}=(0,s.Z)(),S=k(),{language:N,userAgent:y}=(0,_.B)(),R=n?"dweb":"mweb",{browserName:O,platform:A}=y,v="android"!==A||!(0,i.un)(O??""),w=(0,o.useRef)(!1),I=(0,o.useCallback)(()=>{if(w.current)return;w.current=!0;let e=!1,t=()=>{let t=(0,l.Fm)();t&&(e||(e=!0,(0,u.Z)({type:"loadScript",status:"success"}),(0,u.Z)({type:"apiClient",valid:!!t}),h.current=t,(0,l.OY)({autoSelect:!0,useContinueForContext:S,useFedCMForButton:v},e=>{if((0,u.Z)({type:"response",valid:!!e}),e)if((0,d.My)(`${R}.google_sign_in.select_by.${e.select_by}`),"SIGN_IN_WITH_GOOGLE_BUTTON"===(0,l.PL)(e.select_by)){let t=Array.from(m.current),n=t[t.length-1],r=a.current;n?n(e):r&&r(e)}else a.current?.(e)}),E.current.forEach(e=>{e()}),E.current.clear()))};window.onGoogleLibraryLoad=()=>t(),(0,u.Z)({type:"loadScript",status:"start"}),(0,l.Px)(void 0,N).then(()=>{t()}).catch(()=>{})},[N,S,v,R]);(0,o.useEffect)(()=>{t?(m.current.clear(),E.current.clear()):I()},[t,I]);let C=(0,o.useRef)({ensureInit:(e,t)=>(I(),"button"===e?m.current.add(t):a.current=t,new Promise(e=>{h.current?e(void 0):E.current.add(e)})),removeButtonCallback:e=>{m.current.delete(e)}});return(0,p.jsx)(f,{value:C.current,children:e})}},637539:function(e,t,n){n.d(t,{Ny:()=>_,ZP:()=>g,eD:()=>f,lp:()=>p,nY:()=>m});var r=n(4533),o=n(219162),i=n(413220),a=n(34550),s=n(247387),l=n(935833),u=n(925201),c=n(629724);let _=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6,LOGIN_GOOGLE:7});class d{static defaultLoginRedirectUrl(){return window.location.pathname===s.lfe||window.location.pathname===s.ZEf||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith("/add-account")?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=a.ZP.getItem(r.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=a.ZP.getItem(r.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let n=(new Date().getTime()/1e3).toString();t.push(n);let o=t.join("|");a.ZP.setItem(r.kl,o)}static isFullyLoggedIn(e,t){return e&&t===i.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,c.Z)();if(t){let n=t.next;n&&(e=n,delete t.next),e=(0,u.Z)(e||"/",t)}}(0,o.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){(0,a.M0)().setItem(r.F6,Date.now()),!t&&e&&"/"!==e?d.handleRedirect(e):d.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(()=>{(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,l.My)("multi_step_login"),d.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let g=d;function p(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":e.qr_token?"qr_code":e.recipient?"otp":"other"}function f(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":p(e)}function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":e.qr_token?"qr_code":e.recipient?"otp":"other"}},281183:function(e,t,n){n.d(t,{M3:()=>c,PE:()=>s,Q:()=>_,lv:()=>l,r8:()=>a,rl:()=>i,yW:()=>u});var r=n(4533),o=n(34550);let i=()=>(0,o.M0)().getItem(r.uo)??Object.freeze({}),a=e=>(0,o.M0)().setItem(r.uo,e),s=()=>null!==(0,o.M0)().getItem(r.uo),l=()=>Object.keys(i()).length,u=()=>(0,o.M0)().getItem(r.R1),c=e=>(0,o.M0)().setItem(r.R1,e),_=()=>({multipleAccountMap:i(),multipleAccountGroupId:u()})},919492:function(e,t,n){n.d(t,{E_:()=>l,Eh:()=>i,du:()=>s,yV:()=>a});var r=n(841270),o=n(899681);let i=(e,t)=>{if("DEPRECATED_CHECK_EXISTS"===t)return"facebook_id"in e&&"facebook"||"google_open_id_token"in e&&"google"||"line_id_token"in e&&"line"||"sso_id_token"in e&&"sso"||"email";if("DEPRECATED_CHECK_TRUTHY"===t)if(e.facebook_id)return"facebook";else if(e.google_open_id_token)return"google";else if(e.line_id_token)return"line";else if(e.sso_id_token)return"sso";else return"email";return e.type},a=e=>{let t=i(e,"DEPRECATED_CHECK_TRUTHY");return"google"===t?"google_one_tap":t},s=e=>o.rT.includes(e)||o.ZR.has(e)||((e="")=>e in r.i5)(e),l={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk",SSO:"sso"}},101215:function(e,t,n){n.d(t,{Z:()=>l});var r=n(465925),o=n(935833);let i=e=>(0,o.dy)({event:e,provider:"google"}),a=e=>(0,r.RP)("google_autologin",e),s=e=>(0,r.M3)("google_autologin",e),l=e=>{switch(e.type){case"loadScript":"start"===e.status?(i("start"),i("load_script_start"),s("autoLoginGoogleStart")):"success"===e.status?i("load_script_success"):i("load_script_failure");break;case"apiClient":e.valid?(i("initialize_library"),s("autoLoginGoogleInitEnd")):(a("noAccountFound"),i("global_object_not_found"));break;case"response":e.valid?(i("receive_credential_response_from_provider"),(0,o.EX)({event:"receive_credential_response_from_provider",provider:"google"})):(a("noResponse"),(0,o.EX)({event:"receive_no_credential_response_from_provider",provider:"google"}));break;case"autologin":"start"===e.status?(i("pinterest_login_start"),(0,o.NC)("press_google_one_tap_other"),(0,r.M3)("google_autologin","autoLoginGoogleEnd"),(0,r.PA)("google_autologin")):("success"===e.status?i("pinterest_login_success"):i("pinterest_login_failure"),i("end"));break;case"manualLoginAttempt":(0,o.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,r.PA)("google_autologin")}}},552764:function(e,t,n){n.d(t,{Z:()=>i});var r=n(667294),o=n(501010);let i=()=>{let e=(0,o.Z)();return(0,r.useCallback)(()=>{e.flush()},[e])}},11908:function(e,t,n){n.d(t,{Z:()=>a});var r=n(667294),o=n(607162),i=n(935833);function a(){return(0,r.useCallback)(e=>{e.action&&e.event?(0,i.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,o.Z)()}):(0,i.My)("pinner_conversion.missing_tags")},[])}},144690:function(e,t,n){n.d(t,{AA:()=>_,iE:()=>m,vI:()=>f});var r=n(667294),o=n(230201),i=n(213491),a=n(236269),s=n(47755),l=n(774838),u=n(767415),c=n(785893);let _={LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"},d={0:"US_FL_SIGNUP_CONSENT",1:"KR_SIGNUP_CONSENT",2:"IT_SIGNUP_CONSENT"},g=e=>d[e],{Provider:p,get:f}=(0,i.Z)("ComplianceManager"),m=({children:e})=>{let t=(0,r.useRef)(!1),{isBot:n}=(0,l.B)(),{logContextEvent:i}=(0,o.u)(),[d,f]=(0,r.useState)({state:_.LOADING}),m=(0,r.useCallback)(async({viewType:e})=>{try{if(n)return void f({state:_.ERROR});let t=performance.now(),r=await (0,s.Z)({url:"/v3/compliance_requirements/",callOptions:{timeout:3e3}});if(r.resource_response.data){let{requirements:n}=r.resource_response.data,o=n.map(e=>g(e)),a=performance.now();e&&i({view_type:e,event_type:16679,aux_data:{time_in_ms:a-t,compliance_requirements:o.toString()}}),f({state:_.LOADED,requirements:n})}}catch(n){let t=(0,a.Z)(n,"message_detail")||(0,a.Z)(n,"message")||"";e&&("timeout"===(0,a.Z)(n,"type")?i({view_type:e,event_type:16681}):i({view_type:e,event_type:16680,aux_data:{status_code:(0,a.Z)(n,"httpStatus")||"-1",api_error_code:(0,a.Z)(n,"api_error_code")||"-1"}})),(0,u.nP)("complianceManager.fetchConfiguration.failure",{sampleRate:1,tags:{errorMessage:t,httpStatus:(0,a.Z)(n,"httpStatus")||"",apiErrorCode:(0,a.Z)(n,"api_error_code")||"",errorCode:(0,a.Z)(n,"code")||"",type:(0,a.Z)(n,"type")}}),f({state:_.ERROR})}},[n,!0,i]),E=(0,r.useCallback)(({requirement:e,viewType:t})=>{t&&i({event_type:16682,view_type:t,aux_data:{feature_key:g(e)}})},[!0,i]),h=(0,r.useCallback)(({requirementEnum:e,viewType:n})=>{switch(d.state===_.LOADING&&!t.current&&(t.current=!0,m({viewType:n})),d.state){case _.LOADED:return d.requirements.includes(e);case _.LOADING:case _.ERROR:default:return E({requirement:e,viewType:n}),!1}},[d,m,E]),k=(0,r.useMemo)(()=>({state:d.state,isRequirementEnabled:h}),[d.state,h]);return(0,c.jsx)(p,{value:k,children:e})}},363815:function(e,t,n){n.d(t,{I9:()=>l,OY:()=>c,ZP:()=>s,tb:()=>u});var r=n(4533),o=n(36796),i=n(34550),a=n(496883);function s(e){return!(!e.match(a.CU)||(0,o.Z)(e)||(0,o.z)(e,"yahoo")||(0,o.z)(e,"hotmail"))}let l=()=>{i.ZP.setItem(r.Z4,!0)},u=()=>{i.ZP.setItem(r.Z4,!1)};function c(e){let t=e.isAuth&&e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected,n=e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected,r=e.isAuth&&e.hasPassword;return t&&!n&&!r}},899681:function(e,t,n){n.d(t,{EU:()=>a,IO:()=>i,ZR:()=>s,rT:()=>o,zu:()=>r});let r="OPEN_UNAUTH",o=["US","CA","NZ","AU"],i=new Set(["GB","IE"]),a=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),s=new Set(["BR","MX","AR","CL","CO","PE"])},278277:function(e,t,n){n.d(t,{C:()=>a,O:()=>i});var r=n(4533),o=n(34550);let i=()=>(0,o.M0)().getItem(r.Mi)??"",a=e=>{(0,o.M0)().setItem(r.Mi,e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/44775-fe26bd778ce6a8aa.mjs.map