(self.modernJsonp=self.modernJsonp||[]).push([["29983"],{441579:function(e,o,t){t.d(o,{w:()=>E,Z:()=>j});var s=t(686659),i=t(667294),a=t(20256),n=t(582226),l=t(24246),r=t(935833),c=t(785893);function d({onClose:e,socialButtons:o}){(0,i.useEffect)(()=>{(0,s.Z)("LoginAssistanceGoogleModal","/app/packages/desktopAccountRecovery/LoginAssistanceGoogleModal.tsx")},[]);let t=(0,l.Z)();(0,i.useEffect)(()=>{(0,r.My)("unauth.dweb.login_assistance_google_modal.view")},[]);let d=t.bt("Возникли сложности со входом?", "Having trouble logging in?", "dweb.accountRecovery.loginAssistance.googleModal.heading", undefined, true);return(0,c.jsx)(n.Z,{heading:d,headingNode:(0,c.jsxs)(a.xu,{marginTop:10,children:[(0,c.jsx)(a.xu,{marginEnd:2,marginTop:-14,position:"absolute",right:!0,children:(0,c.jsx)(a.hU,{accessibilityLabel:t.bt("Кнопка закрытия модального окна", "Dismiss modal button", "dismiss button accessibilityLabel", undefined, true),bgColor:"transparent",icon:"cancel",onClick:()=>{e()},size:"sm"})}),(0,c.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"600",children:d})]}),onDismiss:e,size:"sm",children:(0,c.jsx)(a.xu,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,c.jsxs)(a.kC,{alignItems:"center",direction:"column",width:429,children:[(0,c.jsx)(a.xu,{marginBottom:4,children:(0,c.jsx)(a.xv,{align:"center",children:t.bt("Похоже, ваш аккаунт связан с Google. Войдите через Google, чтобы получить доступ к аккаунту.", "Looks like your account is connected to Google. Log in with Google to get back into your account.", "dweb.accountRecovery.loginAssistance.googleModal.text", undefined, true)})}),(0,c.jsx)(a.xu,{paddingX:16,width:"100%",children:o})]})})})}var _=t(419114),u=t(47755);function h({callBack:e,color:o,email:t,inline:n,overrideText:r}){(0,i.useEffect)(()=>{(0,s.Z)("ResetPasswordButton","/app/packages/desktopAccountRecovery/ResetPasswordButton.tsx")},[]);let d=(0,l.Z)(),_=r||d.bt("Сбросить пароль", "Reset password", "Request a password reset email", undefined, true);return(0,c.jsx)(a.zx,{accessibilityLabel:_,color:o||"red",fullWidth:n,onClick:()=>{(0,u.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:t,type:"reset"}}).then(()=>e())},text:_})}var p=t(216975);function g({email:e,onClose:o,onPasswordResetSent:t,socialButtons:r}){(0,i.useEffect)(()=>{(0,s.Z)("LoginAssistanceModal","/app/packages/desktopAccountRecovery/LoginAssistanceModal.tsx")},[]);let d=(0,l.Z)();return(0,c.jsx)(n.Z,{heading:d.bt("Похоже, вам не удается войти в систему.", "Looks like you’re having trouble logging in", "Modal heading for user who have attempted to login three times", undefined, true),onDismiss:o,size:"sm",children:(0,c.jsx)(a.xu,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,c.jsxs)(a.kC,{alignItems:"center",direction:"column",width:290,children:[(0,c.jsx)(a.xu,{marginBottom:6,children:(0,c.jsx)(a.xv,{align:"center",children:(0,p.nk)(d.bt("Мы отправили письмо на адрес {{ email }} с инструкциями для возвращения.", "We sent an email to {{ email }} to help you get back in.", " - ", undefined, true),{email:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"emailAddress")})})}),(0,c.jsx)(a.xu,{marginBottom:8,width:"100%",children:(0,c.jsx)(h,{callBack:t,color:"red",email:e,inline:!0,overrideText:d.bt("Отправить еще раз", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,c.jsx)(a.xv,{children:d.bt("Либо войдите через Facebook или Google", "Or log in with Facebook or Google", "Upsell to use Facebook or Google for login", undefined, true)}),(0,c.jsx)(a.xu,{marginBottom:12,marginTop:4,width:"100%",children:r}),(0,c.jsx)(a.xu,{marginBottom:12,width:"100%",children:(0,c.jsx)(_.Z,{onClick:o})})]})})})}var m=t(258426);function x({email:e,loginWith:o,onClose:t,onPasswordResetSent:r}){(0,i.useEffect)(()=>{(0,s.Z)("LoginWithFailedModal","/app/packages/desktopAccountRecovery/LoginWithFailedModal.tsx")},[]);let d=(0,l.Z)();return(0,c.jsx)(n.Z,{heading:d.bt("Ой, произошла ошибка", "Oops! Something went wrong", "Modal heading", undefined, true),onDismiss:t,size:"md",children:(0,c.jsxs)(a.xu,{marginBottom:4,paddingX:6,children:[(0,c.jsx)(a.xu,{marginBottom:6,children:"facebook"===o?(0,c.jsx)(a.xv,{children:d.bt("Этот аккаунт Facebook не связан ни с одним аккаунтом Pinterest. Попробуйте сбросить пароль.", "We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)}):(0,c.jsx)(a.xv,{children:d.bt("Этот аккаунт Google не связан ни с одним аккаунтом Pinterest. Попробуйте сбросить пароль.", "We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)})}),(0,c.jsx)(h,{callBack:r,email:e,inline:!0}),(0,c.jsx)(a.xu,{marginTop:2,children:(0,c.jsx)(_.Z,{onClick:t})})]})})}var w=t(924591),f=t(247387);function b({email:e,onClose:o}){(0,i.useEffect)(()=>{(0,s.Z)("PasswordResetSentModal","/app/packages/desktopAccountRecovery/PasswordResetSentModal.tsx")},[]);let t=(0,l.Z)(),[r,d]=(0,i.useState)(!1);return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(n.Z,{heading:t.bt("Письмо с указаниями по сбросу пароля отправлено", "Password reset email sent", "Modal label for confirmation of password reset send", undefined, true),onDismiss:o,children:(0,c.jsxs)(a.xu,{marginBottom:4,paddingX:6,children:[(0,c.jsx)(a.xv,{overflow:"normal",children:(0,p.nk)(t.bt("Мы отправили инструкции по выбору нового пароля на адрес {{ email }}.", "We sent instructions to pick a new password to {{ email }}.", "Statement that a password reset email has been sent to the user", undefined, true),{email:(0,c.jsx)(a.xv,{inline:!0,overflow:"normal",weight:"bold",children:e},"emailAddress")})}),(0,c.jsx)(a.xu,{paddingY:4,children:(0,c.jsx)(h,{callBack:()=>d(!r),color:"gray",email:e,inline:!0,overrideText:t.bt("Отправить еще раз", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{marginBottom:4,children:(0,c.jsx)(a.xv,{children:(0,p.nk)(t.bt("Не получили письмо? См. {{ tips }}", "Didn’t get the email? Try these {{ tips }}", "Direction to help center if the password reset email failed", undefined, true),{tips:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(a.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails?source=account_recovery",onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:t.bt("советы из справочного центра", "tips from our Help Center", "Link text to go to help center", undefined, true)},"helpCenterLink")},"helpCenter")})})}),(0,c.jsx)(a.xu,{marginBottom:4,children:(0,c.jsx)(a.xv,{children:(0,p.nk)(t.bt("Это не ваш адрес электронной почты? {{ tryAgain }}", "Not your email address? {{ tryAgain }}", "Link to password reset flow for users who make an incorrect password reset request", undefined, true),{tryAgain:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(a.rU,{display:"inlineBlock",href:f.lfe,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:t.bt("Указать другой", "Try another", "Link text to enter the password reset flow for a different email address/username", undefined, true)},"passwordResetLink")},"tryAgain")})})})]}),(0,c.jsx)(a.xu,{children:(0,c.jsx)(_.Z,{color:"red",onClick:o})})]})}),r&&(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,c.jsx)(w.Z,{duration:3500,onHide:()=>d(!r),text:t.bt("Сообщение отправлено!", "Email sent!", " - ", undefined, true)})})]})}function k({email:e,onClose:o,onPasswordResetSent:t,socialButtons:r}){(0,i.useEffect)(()=>{(0,s.Z)("SoftBannedModal","/app/packages/desktopAccountRecovery/SoftBannedModal.tsx")},[]);let d=(0,l.Z)();return(0,c.jsx)(n.Z,{heading:d.bt("Мы защитили ваш аккаунт", "We protected your account", "Modal heading for user who need to recover their accounts", undefined, true),onDismiss:o,size:480,children:(0,c.jsxs)(a.xu,{marginBottom:8,paddingX:12,children:[(0,c.jsx)(a.xu,{marginBottom:4,paddingX:4,children:(0,c.jsx)(a.xv,{align:"center",children:d.bt("В целях безопасности мы сбросили пароль к вашему аккаунту Pinterest и завершили сеансы на всех устройствах и во всех браузерах.", "For security purposes we've reset your Pinterest account password and logged you out on all devices and browsers.", "softBannedAccountModal.modal.description", undefined, true)})}),(0,c.jsx)(a.xu,{marginBottom:4,paddingX:4,children:(0,c.jsx)(a.xv,{align:"center",children:d.bt("Сбросьте пароль или войдите через Facebook или Google, чтобы вернуться к аккаунту.", "Reset your password or log in with Facebook or Google to get back into your account.", "Prompt to take action to reset password or upsell login with Facebook/Google", undefined, true)})}),(0,c.jsxs)(a.xu,{paddingX:12,children:[(0,c.jsx)(a.xu,{paddingY:2,children:(0,c.jsx)(h,{callBack:t,email:e,inline:!0})}),r,(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(_.Z,{onClick:o})})]})]})})}var y=t(588154),P=t(826265),v=t(424868),A=t(637539),C=t(856639);let E={[v.OW]:A.Ny.RATE_LIMITED,[v.bd]:A.Ny.RATE_LIMITED,[v.$j]:A.Ny.SOFT_BANNED,[v.an]:A.Ny.SUSPENDED,[v.RL]:A.Ny.LOGIN_ASSISTANCE,[v.yV]:A.Ny.SOFT_BANNED,[C.Ej]:A.Ny.RATE_LIMITED,[v.q1]:A.Ny.LOGIN_GOOGLE},L=({onLoginWithMfa:e,onLoginWithSuspended:o,onLoginWithVoluntarilyDeactivated:t,updateAccountRecoveryModal:s})=>(0,c.jsx)(a.xu,{children:(0,c.jsx)(P.Z,{container:"account_recovery",onLoginWithMfa:e,onLoginWithSuspended:o,onLoginWithVoluntarilyDeactivated:e=>{s(null),t?.(e)},showLoginRateLimited:()=>s(A.Ny.RATE_LIMITED),socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>s(A.Ny.PREVENT_GOOGLE_REGISTER)}})});function j({email:e,modalType:o,onLoginWithMfa:t,onLoginWithSuspended:a,onLoginWithVoluntarilyDeactivated:n,updateAccountRecoveryModal:l}){(0,i.useEffect)(()=>{(0,s.Z)("AccountRecovery","/app/packages/desktopAccountRecovery/AccountRecovery.tsx")},[]);let r=()=>l(null),_=()=>l(A.Ny.PASSWORD_RESET_SENT),u=(0,c.jsx)(L,{onLoginWithMfa:t,onLoginWithSuspended:a,onLoginWithVoluntarilyDeactivated:n,updateAccountRecoveryModal:l});switch(o){case A.Ny.SUSPENDED:return(0,c.jsx)(y.Z,{onClose:r});case A.Ny.LOGIN_ASSISTANCE:return(0,c.jsx)(g,{email:e,onClose:r,onPasswordResetSent:_,socialButtons:u});case A.Ny.RATE_LIMITED:return(0,c.jsx)(m.Z,{onClose:r});case A.Ny.SOFT_BANNED:return(0,c.jsx)(k,{email:e,onClose:r,onPasswordResetSent:_,socialButtons:u});case A.Ny.PREVENT_FACEBOOK_REGISTER:case A.Ny.PREVENT_GOOGLE_REGISTER:return(0,c.jsx)(x,{email:e,loginWith:o===A.Ny.PREVENT_FACEBOOK_REGISTER?"facebook":"google",onClose:r,onPasswordResetSent:_});case A.Ny.PASSWORD_RESET_SENT:return(0,c.jsx)(b,{email:e,onClose:r});case A.Ny.LOGIN_GOOGLE:return(0,c.jsx)(d,{onClose:r,socialButtons:u});default:return null}}},419114:function(e,o,t){t.d(o,{Z:()=>r});var s=t(686659),i=t(667294),a=t(20256),n=t(24246),l=t(785893);function r({color:e,onClick:o,overrideText:t}){(0,i.useEffect)(()=>{(0,s.Z)("AcknowledgeButton","/app/packages/desktopAccountRecovery/AcknowledgeButton.tsx")},[]);let r=(0,n.Z)(),c=t||r.bt("Понятно!", "Got it", "Acknowledge protected account modal message", undefined, true);return(0,l.jsx)(a.zx,{accessibilityLabel:c,color:e||"gray",fullWidth:!0,onClick:o,text:c})}},582226:function(e,o,t){t.d(o,{Z:()=>d});var s=t(686659),i=t(667294),a=t(20256),n=t(42538),l=t(609252),r=t(564377),c=t(785893);function d({children:e,headingNode:o,heading:t,onDismiss:d,size:_}){return(0,i.useEffect)(()=>{(0,s.Z)("DesktopLoginModalAlertDialog","/app/packages/desktopAccountRecovery/DesktopLoginModalAlertDialog.tsx")},[]),(0,i.useEffect)(()=>(l.Z.pause(),function(){l.Z.resume()}),[]),(0,c.jsx)(a.mh,{zIndex:n.C,children:(0,c.jsx)(r.Z,{allowEsc:!0,children:(0,c.jsx)(a.u_,{accessibilityModalLabel:t,heading:o||t,onDismiss:()=>{l.Z.resume(),d()},padding:"none",role:"alertdialog",size:_||"md",children:e})})})}},258426:function(e,o,t){t.d(o,{Z:()=>c});var s=t(686659),i=t(667294),a=t(20256),n=t(582226),l=t(24246),r=t(785893);function c({onClose:e}){(0,i.useEffect)(()=>{(0,s.Z)("LoginRateLimitedModal","/app/packages/desktopAccountRecovery/LoginRateLimitedModal.tsx")},[]);let o=(0,l.Z)();return(0,r.jsxs)(n.Z,{heading:o.bt("Ой! Слишком много попыток входа", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true),headingNode:(0,r.jsxs)(a.xu,{children:[(0,r.jsx)(a.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,r.jsx)(a.JO,{accessibilityLabel:o.bt("Логотип Pinterest", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"primary",icon:"pinterest",size:40})}),(0,r.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"600",children:o.bt("Ой! Слишком много попыток входа", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true)})]}),onDismiss:e,size:"sm",children:[(0,r.jsx)(a.xu,{marginBottom:12,marginTop:4,paddingX:12,children:(0,r.jsx)(a.xv,{align:"center",children:o.bt("Вы совершили максимально допустимое количество попыток входа. Повторите попытку через 30 минут.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,r.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:12,children:(0,r.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:e,text:o.bt("Хорошо", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},588154:function(e,o,t){t.d(o,{Z:()=>u});var s=t(686659),i=t(667294),a=t(20256),n=t(419114),l=t(582226),r=t(413808),c=t(24246),d=t(216975),_=t(785893);function u({onClose:e}){(0,i.useEffect)(()=>{(0,s.Z)("SuspendedModal","/app/packages/desktopAccountRecovery/SuspendedModal.tsx")},[]);let o=(0,c.Z)(),t=o.bt("Распространенные причины деактивации аккаунта:", "Common reasons for account deactivation include:", " - ", undefined, true),u=o.bt("{{ help_link }}, если у вас есть вопросы или вы хотите повторно активировать аккаунт.", "{{ help_link }} if you have questions or would like to reactivate your account.", " - ", undefined, true),h=[o.bt("Нарушение правил сообщества Pinterest.", "Violating Pinterest Community Guidelines.", "One example reason for account deactivation", undefined, true),o.bt("Мы заметили необычную активность в вашем аккаунте.", "We noticed unusual activity on your account.", "One example reason for account deactivation", undefined, true),o.bt("Вы запросили закрытие аккаунта.", "You requested an account closure.", "One example reason for account deactivation", undefined, true)];return(0,_.jsx)(l.Z,{heading:o.bt("Ваш аккаунт деактивирован", "Your account has been deactivated", "Modal heading for user who have attempted to login with a deactivated account", undefined, true),onDismiss:e,size:"md",children:(0,_.jsxs)(a.xu,{marginBottom:4,paddingX:6,children:[(0,_.jsxs)(a.xu,{marginBottom:4,children:[(0,_.jsxs)(a.xv,{children:[" ",t," "]}),(0,_.jsx)(a.xu,{paddingY:2,children:(0,_.jsx)(i.Fragment,{children:h.map(e=>(0,_.jsx)(a.xv,{children:"• "+e},`reasons-${e}`))})}),(0,_.jsx)(a.xv,{inline:!0,children:(0,d.nk)(u,{help_link:(0,_.jsx)(r.q,{},"suspended user help_link")})})]}),(0,_.jsx)(a.xu,{marginTop:4,children:(0,_.jsx)(n.Z,{color:"red",onClick:e,overrideText:o.bt("Понятно", "Got it", "Acknowledge suspended account modal message", undefined, true)})})]})})}},413808:function(e,o,t){t.d(o,{q:()=>r});var s=t(686659),i=t(667294),a=t(20256),n=t(24246),l=t(785893);let r=()=>{(0,i.useEffect)(()=>{(0,s.Z)("SuspendedUsers","/app/packages/desktopAccountRecovery/SuspendedUsers.tsx")},[]);let e=(0,n.Z)();return(0,l.jsx)(a.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/contact?current_page=about_you_page&appeals=account_suspension",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"auto",children:e.bt("Связаться с нами", "Contact us", "link text shown to redirect to help.pinterest.com for appealing a suspension", undefined, true)})}},227852:function(e,o,t){t.d(o,{Z:()=>l});var s=t(686659),i=t(667294),a=t(24246),n=t(785893);function l(){(0,i.useEffect)(()=>{(0,s.Z)("AlternativesSeparator","/app/packages/desktopLoginModal/AlternativesSeparator.tsx")},[]);let e=(0,a.Z)();return(0,n.jsx)("p",{style:{marginBottom:"8px",marginTop:"8px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold"},children:e.bt("ИЛИ", "OR", " - ", undefined, true)})}},197997:function(e,o,t){t.d(o,{Z:()=>u});var s=t(686659),i=t(667294),a=t(20256),n=t(230201),l=t(24246),r=t(247387),c=t(935833),d=t(739405),_=t(785893);function u(){(0,i.useEffect)(()=>{(0,s.Z)("FacebookRecoverMessage","/app/packages/desktopLoginModal/FacebookRecoverMessage.tsx")},[]);let e=(0,l.Z)(),o=(0,d.HG)(),{logContextEvent:t}=(0,n.u)(),u=o?"dweb":"mweb";return(0,_.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:2,marginEnd:"auto",children:[(0,_.jsx)(a.xv,{color:"default",size:"100",children:e.bt("Больше нельзя войти через Facebook", "Facebook login is no longer available", "unauth.login_form.facebook_login_no_longer_available", undefined, true)}),(0,_.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,_.jsx)(a.Tg,{href:`${r.lfe}?lookup=true`,onTap:({dangerouslyDisableOnNavigation:e})=>{(0,c.My)(`${u}.fb_login_no_longer_available.v2.click`),o&&e(),t({event_type:15392,element:10881})},children:(0,_.jsx)(a.xv,{color:"default",size:"100",weight:"bold",children:e.bt("Обновить способ входа", "Update login method", "unauth.login_form.update_login_method", undefined, true)})})})]})}},157459:function(e,o,t){t.d(o,{Z:()=>c});var s=t(686659),i=t(667294),a=t(20256),n=t(24246),l=t(739405),r=t(785893);function c(){(0,i.useEffect)(()=>{(0,s.Z)("FacebookSignupErrorBanner","/app/packages/desktopLoginModal/FacebookSignupErrorBanner.tsx")},[]);let e=(0,n.Z)(),o=(0,l.HG)();return(0,r.jsx)(a.xu,{marginTop:o?4:void 0,padding:o?4:void 0,children:(0,r.jsxs)(a.xu,{alignItems:"center",color:"errorWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:o?4:void 0,children:[(0,r.jsx)(a.xu,{marginEnd:4,children:(0,r.jsx)(a.JO,{accessibilityLabel:e.bt("ошибка регистрации через Facebook", "error in Facebook signup", "facebook_signup_error_banner.icon", undefined, true),color:"default",icon:"workflow-status-problem",size:20})}),(0,r.jsx)(a.xu,{children:(0,r.jsx)(a.xv,{children:e.bt("Новые пользователи не могут входить в аккаунт Facebook. Продолжите с помощью электронной почты или Google:", "Facebook login isn't available for new users. Continue with email or Google:", "facebook_signup_error_banner.copy_2", undefined, true)})})]})})}},826265:function(e,o,t){t.d(o,{Z:()=>E});var s=t(686659),i=t(667294),a=t(20256),n=t(124617),l=t(222126),r=t(254977),c=t(470935),d=t(483359),_=t(220854),u=t(832633),h=t(24246),p=t(483423),g=t(424868),m=t(380261),x=t(408660),w=t(78521),f=t(637539),b=t(444382),k=t(501010),y=t(774838),P=t(935833),v=t(893957),A=t(785893);let C=({container:e,isAccountSwitch:o,nextUrlParam:t,onLoginWithMfa:s,onLoginWithSuspended:r,onLoginWithVoluntarilyDeactivated:k,showResponseMessageModal:C,socialSignupCallbacks:E,tooltip:L,showLoginRateLimited:j,onClick:S,logoCentered:z=!1,buttonStatic:T=!1,handleGoogleConnectResponseOverride:R})=>{let{viewer:{type:Z}}=(0,n.Py)(),M=(0,d.Z)(),B=(0,u.a2)(),F=(0,h.Z)(),I=(0,w.l)(),O=(0,i.useRef)(null),{locale:N}=(0,y.B)(),D=(0,i.useRef)(!1);return(0,v.Z)(()=>(window.googleConnectButtonContainer=e||"",()=>{delete window.googleConnectButtonContainer})),(0,v.Z)(()=>{let i=({credential:i,select_by:a})=>{if(R)return void R();let n=(0,x.mK)((0,x.PL)(a));M({creds:{google_open_id_token:i},loggingOptions:{loggingData:{container:window.googleConnectButtonContainer,page:B?.pageType,trigger:n},loginAttemptContextEvent:{event_type:7534,element:12981,aux_data:{...(0,_.Z)(Z),signup_login_method:b.Z.GPLUS}}},isAccountSwitch:o}).then(s=>{let i=s?.resource_response.data?.user;o&&i&&(0,p.Z)(i,"google",e),C?C(!1):f.ZP.handleRedirect(t||f.ZP.defaultSocialLoginRedirectUrl())},e=>{switch(g.ik.includes(e.api_error_code??0)&&j?.(),e.api_error_code){case g.E6:k?.(e.message);break;case g.Zn:s?.({google_open_id_token:i},{phoneNumberEnd:e.data?.phone_number_end});break;case g.xN:if("ACCOUNT_RECOVERY"===E.type)E.switchToAccountRecoverySignupFlow("google");else{(0,P.Rp)({event:"start",provider:"google"});let e=(0,m.Z)(i),o={container:window.googleConnectButtonContainer,page:B?.pageType,trigger:n},t={type:"google",google_open_id_token:i,first_name:e.given_name,last_name:e.family_name,image_url:e.picture};E.switchToSocialSignupWithAgeFlow({type:"google",context:o,signupOptions:{...t}})}break;case g.iU:(0,l.x)(e.message||"");break;default:e.api_error_code===g.an&&r?r():(0,l.x)(F.bt("При входе в систему произошла ошибка.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true))}})};return(async()=>{await I?.ensureInit("button",i)})(),()=>{I?.removeButtonCallback(i)}}),(0,i.useEffect)(()=>{O.current&&(0,x.Fm)()&&!D.current&&((0,x.ru)({buttonRef:O,locale:N,isDesktop:!0,logo_alignment:z?"center":"left",onClick:S}),D.current=!0)},[N,z,S]),(0,A.jsxs)(a.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,A.jsx)(a.xu,{height:44,children:(0,A.jsx)(a.xu,{ref:O,position:T?"static":"absolute",width:"100%"})}),!!L&&(0,A.jsx)(c.Z,{anchor:O.current,message:L})]})};function E(e){(0,i.useEffect)(()=>{(0,s.Z)("GoogleConnectButton","/app/packages/desktopLoginModal/GoogleConnectButton.tsx")},[]);let{checkExperiment:o}=(0,k.Z)(),{anyEnabled:t}=o("web_google_disabled");return t?(0,A.jsx)(r.Z,{tooltip:e.tooltip}):(0,A.jsx)(C,{...e})}},254977:function(e,o,t){t.d(o,{Z:()=>_});var s=t(686659),i=t(667294),a=t(20256),n=t(919561),l=t(470935),r=t(260397),c=t(24246),d=t(785893);function _(e){(0,i.useEffect)(()=>{(0,s.Z)("GoogleConnectButtonWithDisabledSDK","/app/packages/desktopLoginModal/GoogleConnectButtonWithDisabledSDK.tsx")},[]);let o=(0,c.Z)(),{tooltip:t,onClick:_,textOption:u}=e,[h,p]=(0,i.useState)(),g=(0,i.useRef)(null),m=(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(a.xu,{height:24,marginTop:1,width:24,children:(0,d.jsx)(r.Z,{size:20})}),(0,d.jsx)(a.xu,{marginStart:2,children:(0,d.jsxs)(a.xv,{weight:"bold",children:["alternativeAuth"===u&&o.bt("Привязать аккаунт к Google", "Link account to Google", "googleSocialConnectButtonWithDisabledSDK.buttonText", undefined, true),"accountRecovery"===u&&o.bt("Настроить вход через Google", "Set up Google login", "unauthGoogleConnectButtonForAccRecovery.buttonText", undefined, true),!u&&o.bt("Подключиться через Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)]})})]});return(0,d.jsxs)(a.xu,{ref:g,"data-test-id":"google-connect-button",position:"relative",children:[(0,d.jsx)(a.iP,{onTap:_?_():()=>p(!0),children:"alternativeAuth"===u?(0,d.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:44,justifyContent:"center",marginTop:2,paddingX:4,position:"relative",rounding:5,width:"100%",children:m}):(0,d.jsx)(a.xu,{alignItems:"center",color:"secondary",display:"flex",height:"accountRecovery"===u?48:40,justifyContent:"center",marginTop:2,position:"relative",rounding:5,width:"100%",children:m})}),!!t&&(0,d.jsx)(l.Z,{anchor:g.current,message:t}),h&&(0,d.jsx)(n.Z,{onDismiss:()=>p(!1),type:"google"})]})}},749474:function(e,o,t){t.d(o,{Z:()=>d});var s=t(686659),i=t(667294),a=t(20256),n=t(419025),l=t(24246),r=t(36776),c=t(785893);let d=({useDefaultText:e})=>{(0,i.useEffect)(()=>{(0,s.Z)("LimitedLoginSubheader","/app/packages/desktopLoginModal/LimitedLoginSubheader.tsx")},[]);let{limitedLoginModalSubheader:o}=(0,r.m)(),t=(0,l.Z)();return(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:e||!o?(0,n.lt)(t):o.text})}},40848:function(e,o,t){t.d(o,{ZP:()=>ey});var s=t(686659),i=t(667294),a=t(312048),n=t(20256),l=t(987704),r=t(230201),c=t(746868),d=t(562400),_=t(441579),u=t(227852),h=t(198617),p=t(24246),g=t(935833),m=t(893957),x=t(785893);function w({onClick:e}){(0,i.useEffect)(()=>{(0,s.Z)("ContinueWithPasswordButton","/app/packages/desktopLoginModal/ContinueWithPasswordButton.tsx")},[]);let o=(0,p.Z)();return(0,m.Z)(()=>{(0,g.My)("dweb.desktop_login_modal.continue_with_password_button.view")}),(0,x.jsx)(n.zx,{accessibilityLabel:"Continue with password button",color:"gray",fullWidth:!0,onClick:()=>{(0,g.My)("dweb.desktop_login_modal.continue_with_password_button.click"),e?.()},text:o.bt("Продолжить с паролем", "Continue with password", "unauth.loginForm.continueWithPasswordButton", undefined, true)})}var f=t(124617),b=t(222126),k=t(315567);function y(e){(0,i.useEffect)(()=>{(0,s.Z)("LoginPillTooltip","/app/packages/desktopLoginModal/LoginPillTooltip.tsx")},[]);let[o,t]=(0,i.useState)(!1);return!o&&e.message?(0,x.jsx)(n.J2,{anchor:e.anchor,color:"darkGray",idealDirection:"right",onDismiss:()=>t(!0),shouldFocus:!1,size:"md",children:(0,x.jsx)(n.xu,{padding:3,children:(0,x.jsx)(n.xv,{color:"light",overflow:"noWrap",size:"200",weight:"bold",children:e.message})})}):null}var P=t(919561),v=t(483359),A=t(220854),C=t(832633),E=t(236269),L=t(935059),j=t(483423),S=t(424868),z=t(160125),T=t(460958),R=t(951608),Z=t(637539),M=t(444382),B=t(501010),F=t(774838),I=t(736328),O=t(481889),N=t(363815);function D(e,o,t){var s;return(o="symbol"==typeof(s=function(e,o){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,o||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(o,"string"))?s:s+"")in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class G extends i.Component{constructor(...e){super(...e),D(this,"state",{showModal:!1}),D(this,"unsubscribeThisButton",null),D(this,"loginWithFacebook",({facebookConnectData:e,isAccountSwitch:o,handlePostSuccessConnect:t,loadingIndicatorCallback:s})=>{let{checkExperiment:i,container:a,desktopCoreLoginContext:{getDeviceAppTypeString:n},i18n:l,login:r,disableFBSignup:c,nextUrlParam:d,onLoginWithMfa:_,onLoginWithSuspended:u,pageContext:h,showResponseMessageModal:p,showLoginRateLimited:m,socialSignupCallbacks:x}=this.props,w={container:a,page:h?.pageType},f="PROFILE"===e.type?{facebook_id:e.profile.id}:{facebook_id:e.id,facebook_token:e.access_token};r({creds:f,loggingOptions:{loggingData:w,loginAttemptContextEvent:this.signupLoginContextEvent(7534)},isAccountSwitch:o}).then(e=>{let s=e?.resource_response.data?.user;o&&s&&(0,j.Z)(s,"facebook",a),(0,g.My)("login.facebook."+n()),p?p(!0):(i("dweb_arr_modal_post_fb_login").anyEnabled&&(0,N.I9)(),Z.ZP.handleRedirect(d||Z.ZP.defaultSocialLoginRedirectUrl())),t?.()},e=>{let o=(0,E.Z)(e,"api_error_code");o===S.Zn?(s?.(!1),(0,g.My)("login.facebook."+n()),_?.(f,{phoneNumberEnd:e.data?.phone_number_end})):o===S.xN||o===S.lg?(c?.(),"ACCOUNT_RECOVERY"===x.type&&x.switchToAccountRecoverySignupFlow("facebook")):S.ik.includes(o??0)?m?.():o===S.iU?(0,b.x)((0,E.Z)(e,"message")||""):(o&&(0,g.My)(`facebook_button.failed_login_${o}`),o===S.an&&u?u():(0,b.x)(l.bt("При входе в систему произошла ошибка.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true)))})}),D(this,"statusChangeCallback",e=>{let o;this.props.onClick?.();let{connectErrorMessage:t,handlePostSuccessConnect:s,isAccountSwitch:i,loadingIndicatorCallback:a}=this.props;if((0,g.EX)({event:"start",provider:"facebook"}),"connected"===e.status){let{authResponse:t}=e;(0,g.My)("web.facebook_connect_button.login_status.connected"),a?.(!0),this.loginWithFacebook({facebookConnectData:{type:"ACCESS_TOKEN",id:t.userID,access_token:t.accessToken},isFromStatusChange:!0,isAccountSwitch:i,handlePostSuccessConnect:s,loadingIndicatorCallback:a}),o="success"}else"not_authorized"===e.status?((0,g.My)("web.facebook_connect_button.cancel.not_authorized"),(0,b.x)(t),o="not_authorized"):((0,g.My)("web.facebook_connect_button.cancel.unknown"),(0,b.x)(t),o="other_error");let{handlePostConnectClick:n}=this.props;n?.(o)})}componentDidMount(){if(this.props.webFacebookDisabled)return;"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=()=>this.checkLoginState(),window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1);let{requestContext:{userAgent:{platform:e}}}=this.props;if(["ios","ipad"].includes(e))if(window.fb_init!==T.Z.STARTED&&window.fb_init!==T.Z.FINISHED)this.initializeFB();else if(window.fb_init===T.Z.FINISHED&&window.FB.XFBML)window.FB.XFBML.parse();else{let e=setInterval(()=>{window.fb_init===T.Z.FINISHED&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(e))},100)}else setTimeout(()=>{window.__branchRedirectToStore||!window.__branchPinterestStarted?this.initializeFB():window.onbeforeunload=()=>{window.__branchRedirectToStore&&this.initializeFB()}},50);this.props.isRerequest&&(this.props.loadingIndicatorCallback?.(!1),this.props.showSignupWelcomeLoadingFn?.(!1)),(0,g.My)("pcons.dweb.facebook_connect_button_rendered")}componentDidUpdate(){window.nextUrlParam=this.props.nextUrlParam}componentWillUnmount(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){let e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam)}}initializeFB(){let{requestContext:{locale:e}}=this.props;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=()=>(0,z.sl)(),((o,t)=>{let s="script",i=o.getElementsByTagName(s)[0];if(o.getElementById(t))return;let a=o.createElement(s);a.id=t,a.src=(0,R.Z)(e),i&&i.parentNode&&i.parentNode.insertBefore(a,i)})(document,"facebook-jssdk")))}checkLoginState(){window.FB.getLoginStatus(e=>{this.statusChangeCallback&&this.statusChangeCallback(e)})}signupLoginContextEvent(e){let{desktopCoreLoginContext:{viewer:o}}=this.props;return{event_type:e,aux_data:{...(0,A.Z)(o.type),signup_login_method:M.Z.FACEBOOK}}}renderProfilePicButtonWithFallback(){let{i18n:e,isRerequest:o,showFallback:s,container:i,checkExperiment:a}=this.props,l=a("dweb_unauth_turn_on_personalized_fb_button").anyEnabled?"true":void 0;return(0,x.jsxs)(n.xu,{ref:e=>{this._fallbackButton=e},"data-test-id":"facebook-connect-button",children:[(0,x.jsx)(n.iP,{onTap:()=>{let{connectErrorMessage:e,desktopCoreLoginContext:{getDeviceAppTypeString:o},i18n:s,webFacebookDisabled:i,viewer:a,trackInteraction:n,trackConversionUpsell:l}=this.props;if(i)return void this.setState({showModal:!0});n({action:"click",item:"facebook-connect-button"}),(0,g.NC)("press_facebook_login_fallback"),(0,g.My)(`unauth_web.social_connect.facebook.${o()}`),(0,g.EX)({event:"start",provider:"facebook"}),l({eventType:14689,element:13505}),this.unsubscribeThisButton?.();let{unsubscribe:r}=(({onError:e,onEventReceived:o,onSuccess:s,rerequestFacebookEmail:i,viewer:a})=>{let n=null,l=t=>{let i=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(t.origin!==i||"social-connect-complete"!==t.data.type&&"social-connect-error"!==t.data.type)return;let a=t.data;"facebook"===a.network&&(o(),n&&clearInterval(n),"social-connect-error"===a.type?e("OTHER_ERROR"):s({type:"PROFILE",profile:a.profile}))};if(window.addEventListener("message",l),i)t.e("57259").then(t.bind(t,180961)).then(({default:o})=>{o(o=>{o?.login(o=>{"connected"===o.status&&(o.authResponse.grantedScopes?.split(",")||[]).includes("email")?s({type:"ACCESS_TOKEN",id:o.authResponse.userID,access_token:o.authResponse.accessToken}):e("OTHER_ERROR")},{scope:"email",auth_type:"rerequest",return_scopes:!0})},a)});else{let o=(0,k.Z)(),t=window.open("/connect/facebook/","",o);t?n=setInterval(()=>{t.closed&&(n&&clearInterval(n),e("OTHER_ERROR"))},1e3):e("POPUP_DISABLED")}return{unsubscribe:()=>{window.removeEventListener("message",l)}}})({onSuccess:e=>{(0,g.My)("unauth_web.facebook_connect.manual.success"),this.loginWithFacebook({facebookConnectData:e,isFromStatusChange:!1})},onError:o=>{(0,g.My)("unauth_web.facebook_connect.manual.failure"),(0,b.x)("POPUP_DISABLED"===o?s.bt("Необходимо включить всплывающие окна!", "You must enable popups!", " - ", undefined, true):e)},onEventReceived:()=>{this.unsubscribeThisButton?.()},rerequestFacebookEmail:this.rerequestFacebookEmail,viewer:a});this.unsubscribeThisButton=()=>{r(),this.unsubscribeThisButton=null}},children:(0,x.jsx)(n.xu,{alignItems:"center",color:"infoBase",dangerouslySetInlineStyle:{__style:{padding:"0px 0px 0px 8px"}},display:"flex",height:40,justifyContent:"revamped_business_login_page"===i?"center":"start",marginTop:0,position:s?"relative":"absolute",rounding:1,width:"100%",children:(0,x.jsxs)(n.kC,{alignItems:"center",justifyContent:"revamped_business_login_page"===i?"center":"start",children:[(0,x.jsx)(n.xu,{"aria-hidden":!0,color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:5}},height:24,marginStart:1,paddingX:1,rounding:1,width:24,children:(0,x.jsx)(n.JO,{accessibilityLabel:"",color:"info",icon:"facebook",inline:!0,size:19})}),(0,x.jsx)(n.xu,{display:"inlineBlock",margin:6,marginStart:2,paddingY:1,width:"revamped_business_login_page"===i?void 0:"88%",children:(0,x.jsx)(n.xv,{color:"light",size:"300",weight:"bold",children:e.bt("Войти через Facebook", "Continue with Facebook", " - ", undefined, true)})})]})})}),!s&&(0,x.jsx)(n.xu,{ref:e=>{this.profilePicButton=e},dangerouslySetInlineStyle:{__style:{textAlign:"revamped_business_login_page"===i?"center":"left"}},height:40,children:(0,x.jsx)("div",{className:"fb-login-button","data-auth-type":o?"rerequest":void 0,"data-button-type":"continue_with","data-layout":"default","data-onlogin":"checkLoginState","data-scope":(0,z._V)().join(","),"data-size":"large","data-use-continue-as":l,"data-width":"268px"})})]})}render(){let{tooltip:e}=this.props;return(0,x.jsxs)(n.xu,{position:"relative",children:[this.renderProfilePicButtonWithFallback(),(0,x.jsx)(y,{anchor:this._fallbackButton??null,message:e??null}),this.state.showModal&&(0,x.jsx)(P.Z,{onDismiss:()=>this.setState({showModal:!1}),type:"facebook"})]})}}function U(e){(0,i.useEffect)(()=>{(0,s.Z)("FacebookConnectButton","/app/packages/desktopLoginModal/FacebookConnectButton.tsx")},[]);let o=(0,p.Z)(),t=(0,F.B)(),a=(0,f.Py)(),n=(0,C.a2)(),{checkExperiment:l}=(0,B.Z)(),r=(0,L.Z)(),c=(0,I.Z)(),{trackConversionUpsell:d}=(0,O.Z)(),{anyEnabled:_}=l("web_facebook_disabled");return(0,x.jsx)(G,{...e,checkExperiment:l,connectErrorMessage:o.bt("Не удалось установить соединение. Необходимо предоставить Pinterest доступ.", "Couldn't connect. You must authorize Pinterest.", " - ", undefined, true),desktopCoreLoginContext:a,i18n:o,login:(0,v.Z)(),pageContext:n,requestContext:t,trackConversionUpsell:d,trackInteraction:c,viewer:r,webFacebookDisabled:_})}var W=t(197997),V=t(826265);function q({onClick:e}){(0,i.useEffect)(()=>{(0,s.Z)("MagicLinkLoginButton","/app/packages/desktopLoginModal/MagicLinkLoginButton.tsx")},[]);let[o,t]=(0,i.useState)(!1),a=(0,p.Z)(),{checkExperiment:l}=(0,B.Z)();(0,m.Z)(()=>{(0,g.My)("dweb.desktop_login_modal.magic_link_button.view")});let r=a.bt("Использовать одноразовую ссылку", "Use one-time link", "unauth.loginForm.magicLinkLoginButton", undefined, true);return l("dweb_unauth_magic_link_login_exp_v0",{dangerouslySkipActivation:!0}).anyEnabled&&(r=a.bt("Войти в аккаунт без пароля", "Log in without password", "unauth.loginForm.magicLinkLoginButton2", undefined, true)),"enabled_pwd_email_button_copy"===l("dweb_unauth_magic_link_login_primary",{dangerouslySkipActivation:!0}).group&&(r=a.bt("Отправить ссылку для входа на эл. почту", "Email a login link", "unauth.loginForm.magicLinkLoginButton3", undefined, true)),(0,x.jsx)(n.iP,{accessibilityHaspopup:!0,accessibilityLabel:"Magic link login button",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),onTap:()=>{(0,g.My)("dweb.magic_link_login_button.click"),e?.()},children:(0,x.jsxs)(n.xu,{alignItems:"center",borderStyle:"sm",color:o?"secondary":"default",display:"flex",height:40,justifyContent:"between",marginBottom:2,marginTop:2,position:"relative",rounding:1,width:"100%",children:[(0,x.jsx)(n.xu,{height:24,marginEnd:-5,marginStart:3,marginTop:1,width:24,children:(0,x.jsx)(n.JO,{accessibilityLabel:a.bt("значок электронной почты", "email icon", "desktopLoginModal.magicLinkButtonIcon.accessibilityLabel", undefined, true),color:"default",icon:"gmail",size:20})}),(0,x.jsx)(n.xu,{marginEnd:"auto",marginStart:"auto",width:232,children:(0,x.jsx)(n.xv,{align:"center",weight:"bold",children:r})})]})})}function H({onClick:e}){(0,i.useEffect)(()=>{(0,s.Z)("OneTimeCodeLoginButton","/app/packages/desktopLoginModal/OneTimeCodeLoginButton.tsx")},[]);let[o,t]=(0,i.useState)(!1),a=(0,p.Z)();return(0,m.Z)(()=>{(0,g.My)("dweb.otp_login_button.view")}),(0,x.jsx)(n.iP,{accessibilityHaspopup:!0,accessibilityLabel:a.bt("Кнопка входа с одноразовым паролем", "One-time passcode login button", "desktopLoginModal.otpButton.accessibilityLabel", undefined, true),onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),onTap:()=>{(0,g.My)("dweb.otp_login_button.click"),e?.()},children:(0,x.jsxs)(n.xu,{alignItems:"center",borderStyle:"sm",color:o?"secondary":"default",display:"flex",justifyContent:"between",marginBottom:2,marginTop:2,minHeight:40,paddingY:1,position:"relative",rounding:1,width:"100%",children:[(0,x.jsx)(n.xu,{height:24,marginEnd:-5,marginStart:3,marginTop:1,width:24,children:(0,x.jsx)(n.JO,{accessibilityLabel:a.bt("значок электронной почты", "email icon", "desktopLoginModal.magicLinkButtonIcon.accessibilityLabel", undefined, true),color:"default",icon:"gmail",size:20})}),(0,x.jsx)(n.xu,{marginEnd:"auto",marginStart:"auto",width:200,children:(0,x.jsx)(n.xv,{align:"center",children:a.bt("Отправить код для входа на эл. почту", "Email a login code", "desktopLoginModal.otpButton.text", undefined, true)})})]})})}function Y({onClickHandler:e}){(0,i.useEffect)(()=>{(0,s.Z)("QRCodeLoginButton","/app/packages/desktopLoginModal/QRCodeLoginButton.tsx")},[]);let[o,t]=(0,i.useState)(!1),a=(0,p.Z)();return(0,x.jsx)(n.iP,{accessibilityHaspopup:!0,accessibilityLabel:"QR code login button",dataTestId:"qr-code-login-button",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),onTap:()=>{(0,g.My)("dweb.qr_code_login_button.click"),e?.()},children:(0,x.jsxs)(n.xu,{alignItems:"center",borderStyle:"sm",color:o?"secondary":"default",display:"flex",height:40,marginBottom:2,marginTop:1,padding:3,position:"relative",rounding:1,width:"100%",children:[(0,x.jsx)(n.JO,{accessibilityLabel:"QR code",color:"default",icon:"qr-code",inline:!0,size:"18"}),(0,x.jsx)(n.xu,{marginEnd:"auto",marginStart:"auto",children:(0,x.jsx)(n.xv,{align:"center",size:"300",children:a.bt("Использовать QR-код", "Use QR code", "unauth.desktopWeb.loginForm.qrCodeLoginButton", undefined, true)})})]})})}var $=t(745500),X=t(653978),K=t(818244),J=t(470205),Q=t(47755),ee=t(609252),eo=t(936367),et=t(216975),es=t(174661),ei=t(190970),ea=t(943982),en=t(904278),el=t(64606),er=t(856639),ec=t(825605),ed=t(247387),e_=t(46677),eu=t(577356),eh=t(104402),ep=t(106338),eg=t(496883);function em(e,o,t){var s;return(o="symbol"==typeof(s=function(e,o){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,o||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(o,"string"))?s:s+"")in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}let ex=(0,i.lazy)(()=>t.e("5212").then(t.bind(t,639976))),ew=ed.lfe,ef="loginmodal",eb="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1";class ek extends i.Component{constructor(e){super(e),em(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),em(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e&&e(!1),this.setState({accountRecoveryModalType:_.w[S.an],loading:!1})}),em(this,"onloadCallback",()=>{try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:eb,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:eb,callback:"verifyCaptcha"})}catch(e){}}),em(this,"handleButtonClick",async(e,o,t)=>{let{authenticateWithSso:s,desktopCoreLoginContext:{viewer:i},email:a,handleSsoRedirect:n,navigate:l,logContextEvent:r}=this.props,{isSsoEmail:c,exchangeCodeToTokenUrl:d,existingUserSso:_,existingUserIsSso:u,ssoAuthorizationUri:h}=this.state;if(c){if(!_&&a){n&&n(),(0,ea.i)(a,l);return}else if(u){r({event_type:101,element:14367,aux_data:{...(0,A.Z)(i.type),signup_login_method:M.Z.SSO}}),s({callbacks:{success:e=>{let{authCode:s,state:i}=e;a&&s&&this.loginUser("sso",{sso_user_email:a??"",sso_auth_code:s,sso_state:i},o,t)},error:e=>{(0,g.My)(`unauth.login.sso.error.${ef}`,{code:e.api_error_code,message:e.message}),this.handleLoginFailure("sso",{api_error_code:0},{sso_user_email:"",sso_auth_code:"",sso_state:""})}},exchangeCodeToTokenUrl:d,isLogin:!0,modalUrl:h??""});return}}r({event_type:101,element:30,aux_data:{...(0,A.Z)(i.type),signup_login_method:M.Z.EMAIL}}),this.setState({googleValidationError:null,hideFBGoogleToolTip:!1});let p=(0,ep.Z)(this.props.email??"",this.emailValidators);if(p)this.setState({emailValidationError:p}),(0,g.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${ef}`);else{this.setState({emailValidationError:null}),p=await (0,ep.U)(this.props.password,this.passwordValidators);let e=(0,ep.Z)(this.props.password,this.asciiValidators);p?(this.setState({passwordValidationError:p}),(0,g.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${ef}`)):e?(this.setState({passwordValidationError:e}),(0,g.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${ef}`)):(this.setState({passwordValidationError:null}),this.loginUser("email",void 0,o,t))}}),em(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),em(this,"loadRecaptchaView",()=>{if("undefined"!=typeof document&&document.head)if(document.getElementById("recaptcha-jssdk"))this.onloadCallback();else{let e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}}),em(this,"handleLoginFailure",(e,o,t)=>{let{email:s,i18n:i,loadingIndicatorCallback:a,setPassword:l,requestContext:r}=this.props;if((0,g.My)(`unauth.login.error.LOGIN_FAILURE.${e}`,{apiErrorCode:o.api_error_code,httpStatus:o.httpStatus,isArkoseChallengeRequired:o.isArkoseChallengeRequired??!1,message:o.message}),a(!1),o.isArkoseChallengeRequired)return;this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token();let c=o.http_status||o.httpStatus,d=c===er.Ej?er.Ej:o.api_error_code;if(d===S.Zn)return void Z.ZP.handleLoginMfa(t,{phoneNumberEnd:o.data?.phone_number_end},this.props.onLoginWithMfa);if(c===er.Ej&&d===S.bd&&o.message&&"!"!==o.message[o.message.length-1]&&!Z.ZP.isExceedRecaptchaLocalLimit()||d===S._K&&c===er.AB&&!Z.ZP.isExceedRecaptchaLocalLimit()){this.loadRecaptchaView(),this.setState({passwordValidationError:i.bt("Ой! Вход выполнен слишком быстро. Повторите попытку с reCAPTCHA.", "Oops! You logged in too quickly. Please try again with the reCAPTCHA.", "Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha", undefined, true),loading:!1});return}if(c===er.Rl&&d===S.q1){(0,g.My)("unauth.dweb.login_form.error.invalid_password_google_user");let e=r.experimentsClient.checkExperiment("dweb_unauth_assist_google_connected_users",{dangerouslySkipActivation:!0}).group.includes("modal");this.setState({passwordValidationError:o.message,googleValidationError:e?null:i.bt("Войдите с помощью кнопки Google", "Log in with Google button", "dweb.login.badPassword.googleConnected.tooltip", undefined, true),accountRecoveryModalType:e?Z.Ny.LOGIN_GOOGLE:null,loading:!1});return}if(c===er.Rl&&d===S.nY){(0,g.My)("unauth.dweb.login_form.error.invalid_password_fb_user"),this.setState({passwordValidationError:(0,x.jsx)(n.xv,{color:"error",size:"200",children:(0,et.nk)(i.bt("Ваш аккаунт подключен к Facebook, но вход через Facebook больше недоступен. {{ accountRecoveryLink }}", "Your account is connected to Facebook, but Facebook login is no longer available. {{ accountRecoveryLink }}", "unauth.desktopWeb.loginForm.errorMessage.fbLoginUnavailable", undefined, true),{accountRecoveryLink:(0,x.jsx)(n.xu,{display:"inlineBlock",children:(0,x.jsx)(n.rU,{href:ed.lfe,target:"blank",children:(0,x.jsx)(n.xv,{color:"error",size:"200",underline:!0,children:i.bt("Восстановить аккаунт", "Recover your account", "unauth.desktopWeb.loginForm.errorMessage.fbLoginUnavailable.accountRecoveryLink", undefined, true)},"err_text")})})})}),loading:!1});return}let u=(0,ei.Z)({error:o,source:"login",onClickPasswordReset:()=>{(0,g.My)("unauth_password_reset_link_tapped"),(0,Q.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:s||"",type:"reset"}}).then(()=>this.updateAccountRecoveryModal(Z.Ny.PASSWORD_RESET_SENT))}});u?(this.setState({...u,accountRecoveryModalType:d?_.w[d]:void 0,loading:!1}),u.passwordValidationError&&l("")):((0,g.My)("unauth.login.error.LOGIN_FAILURE.unknow_error",{loginMethod:e,error:o}),(0,b.x)(i.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setState({loading:!1}))}),em(this,"verifyCaptcha",()=>{let e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);Z.ZP.updateRecaptchaTimeStamp(),this.handleButtonClick(void 0,e),Z.ZP.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),em(this,"handleEmailChange",e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.debouncedCheckIfSsoUser(),this.setState({hideFBGoogleToolTip:!0})}),em(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),em(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:o}=this.props,t=await o(e??"");this.setState({exchangeCodeToTokenUrl:t.exchangeCodeToTokenUrl??"",isSsoEmail:t.isSso,existingUserSso:!!t.existingUser,existingUserIsSso:!!t.existingUserIsSso,ssoAuthorizationUri:t.authorizationUri??""})}),em(this,"debouncedCheckIfSsoUser",(0,d.Z)(()=>{(0,ep.Z)(this.props.email??"",this.emailValidators)?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),em(this,"sendOneTimeCodeEmailOnPasswordStep",async()=>{(0,g.My)("dweb.desktop_login_modal.otp_email_send.click");let{email:e,showToast:o,i18n:t,setOneTimeCodeLoginStepAndSignupFlow:s}=this.props;try{(0,g.My)("dweb.desktop_login_modal.otp_email_send.request"),await (0,Q.Z)({url:"/v3/verifications/send/",method:"POST",data:{channel:"email",recipient:e||void 0}}),s?.({step:"codeInput",email:e}),(0,g.My)("dweb.desktop_login_modal.otp_email_send.success")}catch(s){let e=(0,E.Z)(s,"api_error_code");(0,g.My)(`dweb.desktop_login_modal.otp_email_send.error.${e}`),o(({hideToast:e})=>(0,x.jsx)(X.Z,{onHide:e,text:(0,E.Z)(s,"message")??t.bt("Произошла техническая ошибка. Повторите попытку или воспользуйтесь другим способом входа", "Something went wrong on our end, please try again or try another login method", "error.desktop_login_modal_otp.generic", undefined, true),type:"error",zIndex:h.kb}))}}),em(this,"sendMagicLinkEmailOnPasswordStep",async()=>{(0,g.My)("dweb.desktop_login_modal.magic_link.send_link.click");let{email:e,showToast:o,i18n:t,handleMagicLinkSendSuccess:s}=this.props;try{(0,g.My)("dweb.desktop_login_modal.magic_link_send.request"),await (0,Q.Z)({url:"/v3/users/magic_link/",method:"POST",data:{email:e||""}}),s?.(),(0,g.My)("dweb.desktop_login_modal.magic_link_send.success")}catch(s){let e=(0,E.Z)(s,"api_error_code");(0,g.My)(`dweb.desktop_login_modal.magic_link_send.error.${e}`),o(e===S.iZ?({hideToast:e})=>(0,x.jsx)(X.Z,{onHide:e,text:t.bt("Этот адрес электронной почты не связан с аккаунтом Pinterest. Зарегистрируйтесь или повторите попытку", "This email isn’t associated with a Pinterest account. Please sign up or try again", "dweb.desktopLoginModal.magicLink.noUser", undefined, true),type:"error",zIndex:h.kb}):e===S.m8?({hideToast:e})=>(0,x.jsx)(X.Z,{duration:h.xi,onHide:e,text:t.bt("Вход с помощью ссылки не поддерживается для аккаунтов, использующих двухфакторную аутентификацию. Попробуйте войти другим способом", "Magic link isn’t supported for accounts using two-factor authentication. Try another login method", "error.desktop_login_modal_magic_link.mfa_not_supported", undefined, true),zIndex:h.kb}):({hideToast:e})=>(0,x.jsx)(X.Z,{onHide:e,text:(0,E.Z)(s,"message")??t.bt("Произошла техническая ошибка. Повторите попытку", "Something went wrong on our end, please try again", "dweb.desktopLoginModal.magicLink.general_error", undefined, true),type:"error",zIndex:h.kb}))}}),em(this,"handleBlur",()=>{this.setState({googleValidationError:null});let e=(0,ep.Z)(this.props.email??"",this.asciiValidators);e&&(0,g.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${ef}`),(e=(0,ep.Z)(this.props.password,this.asciiValidators))&&(0,g.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${ef}`)}),em(this,"logContinueButtonClick",e=>{this.props.trackConversionUpsell({element:e,eventType:14689})}),em(this,"renderSocialButtons",()=>{if(this.state.isSsoEmail)return null;let{disablePostSignupNextUrl:e,hideFacebookButton:o,hideLineButton:t,hideGoogleButton:s,isAccountSwitch:a,isPersonalizedLoginFlyout:l,isFBManualLoginDeprecationEnabled:r,loadingIndicatorCallback:c,nextUrlParam:d,onLoginWithMfa:_,onFBPhoneOnlyConnectVerified:u,onFBMissingEmail:h,shouldHideFBButtonForSignup:p,disableFBSignup:g,container:m="unknown",socialSignupCallbacks:w,showResponseMessageModal:f,isLineAuthenticationEnabled:b,oneTimeCodeLoginPrimaryExpGroup:k}=this.props,{hideFBGoogleToolTip:y}=this.state,P="ACCOUNT_RECOVERY"===w.type?{...w,type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:e=>{"facebook"===e?this.updateAccountRecoveryModal(Z.Ny.PREVENT_FACEBOOK_REGISTER):"google"===e&&this.updateAccountRecoveryModal(Z.Ny.PREVENT_GOOGLE_REGISTER),w.switchToAccountRecoverySignupFlow(e)}}:w,v=!(r||p||o)&&(0,x.jsx)(U,{container:m,disableFBSignup:g,disablePostSignupNextUrl:e,isAccountSwitch:a,loadingIndicatorCallback:c,nextUrlParam:d,onClick:()=>{this.logContinueButtonClick(13505)},onFBMissingEmail:h,onFBPhoneOnlyConnectVerified:u,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(Z.Ny.RATE_LIMITED),showResponseMessageModal:f,socialSignupCallbacks:P,tooltip:null}),A=!s&&(0,x.jsx)(V.Z,{container:m,isAccountSwitch:a,logoCentered:"revamped_business_login_page"===m,nextUrlParam:d,onClick:()=>{this.logContinueButtonClick(13504)},onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(Z.Ny.RATE_LIMITED),showResponseMessageModal:f,socialSignupCallbacks:P,tooltip:!y&&"string"==typeof this.state.googleValidationError&&this.state.googleValidationError||null}),C=!t&&b&&(0,x.jsx)(J.Z,{name:"SafeSuspense_LineConnectButton",children:(0,x.jsx)(ec.Z,{children:(0,x.jsx)(ex,{container:m,isAccountSwitch:a,loadingIndicatorCallback:c,nextUrlParam:d,onClick:()=>{this.logContinueButtonClick(13507)},onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(Z.Ny.RATE_LIMITED),showResponseMessageModal:f,socialSignupCallbacks:P})})}),E=o||s?"0px":"8px";return(0,x.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:l?"9px":"10px"}},"data-test-id":"login-options",children:[v,!k?.startsWith("enabled")&&(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:l?E:"10px"}}}),A,!t&&b&&(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:l?E:"10px"}}}),C]})]})}),em(this,"renderMagicLinkSendButton",()=>"emailPassword"===this.props.magicLinkLoginStep?(0,x.jsx)(q,{onClick:this.sendMagicLinkEmailOnPasswordStep}):null),em(this,"renderOneTimeCodeSendButton",()=>"emailPassword"===this.props.oneTimeCodeLoginStep&&this.props.oneTimeCodeLoginPrimaryExpGroup?.startsWith("enabled_pwd")?(0,x.jsx)(H,{onClick:this.sendOneTimeCodeEmailOnPasswordStep}):null),em(this,"renderContinueWithPasswordButton",()=>"codeInput"===this.props.oneTimeCodeLoginStep&&this.props.oneTimeCodeLoginPrimaryExpGroup?.startsWith("enabled_auto")?(0,x.jsx)(w,{onClick:()=>this.props.setOneTimeCodeLoginStepAndSignupFlow?.({step:"emailPassword"})}):null),em(this,"renderQRCodeButton",()=>!this.state.isSsoEmail&&(0,x.jsx)(Y,{onClickHandler:()=>{this.props.qrCodeLoginButtonClickHandler?.(),this.logContinueButtonClick(18232)}})),em(this,"renderOneTimeCodeButton",()=>!this.state.isSsoEmail&&!this.props.isAccountSwitch&&"login"===this.props.oneTimeCodeLoginStep&&(0,x.jsx)(H,{onClick:()=>this.props.setOneTimeCodeLoginStepAndSignupFlow?.({step:"emailInput"})})),em(this,"renderRegisterForm",()=>{let{container:e,disableEmailLogin:o,email:t,hideEmailField:s,hideFacebookButton:a,hideGoogleButton:l,hidePasswordField:r,i18n:c,isAccountSwitch:d,loginButtonTextOverride:_,password:u,suppressFocus:h,logContextEvent:p,requestContext:{isRTL:m},desktopCoreLoginContext:{viewer:w},viewType:f,viewParameter:b,component:k,attributionLabel:y}=this.props,{emailValidationError:P,loading:v,passwordValidationError:C,isSsoEmail:E,existingUserSso:L,existingUserIsSso:j}=this.state,S=E&&(!L||L&&j),z=_||c.bt("Войти", "Log in", "Copy on the button to log in", undefined, true);S&&(z=c.bt("Продолжить с помощью единого входа", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true));let T=C&&(0,i.isValidElement)(C)?null:(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{float:m?"right":"left"}},marginBottom:3,marginTop:2,children:(0,x.jsx)(n.xv,{size:"200",weight:"bold",children:(0,x.jsx)(n.rU,{href:ew+(t?`?ue=${t}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,g.My)("login_modal_forget_account"),(0,g.NC)("click_forget_password"),p({event_type:101,element:10881,aux_data:{...(0,A.Z)(w.type)}})},children:c.bt("Забыли пароль?", "Forgot your password?", "Desktop login modal link for users to recover their account", undefined, true)})})});return(0,x.jsx)($.Z,{attributionLabel:y,buttonText:z,component:k,container:e,disableEmailLogin:o,email:t,emailText:c.bt("Адрес электронной почты", "Email", "Placeholder text for email field", undefined, true),emailValidationError:P,hideEmailField:s,hideFacebookButton:a,hideGoogleButton:l,hidePasswordField:r,isSsoEmail:S,loading:v&&!d,onButtonClick:(e,o)=>{this.handleButtonClick(void 0,void 0,o)},onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:u,passwordResetLink:T,passwordText:c.bt("Пароль", "Password", " - ", undefined, true),passwordValidationError:C,suppressFocus:h,viewParameter:b,viewType:f})}),em(this,"renderPasswordlessRegisterForm",()=>{let{disableEmailLogin:e,email:o,i18n:t,isAccountSwitch:s,loginButtonTextOverride:a,magicLinkLoginStep:l,oneTimeCodeLoginStep:r,password:c,suppressFocus:d,logContextEvent:_,requestContext:{isRTL:h},desktopCoreLoginContext:{viewer:p},viewType:m,viewParameter:w,component:f,attributionLabel:b}=this.props,{emailValidationError:k,loading:y,passwordValidationError:P,isSsoEmail:v,existingUserSso:C,existingUserIsSso:E}=this.state,L=v&&(!C||C&&E),j=a||t.bt("Войти", "Log in", "loginButtonTextOverride.magic_link", undefined, true);L&&(j=t.bt("Продолжить с помощью единого входа", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true));let S=P&&(0,i.isValidElement)(P)||"emailSent"===l||"codeInput"===r?null:(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{float:h?"right":"left"}},marginBottom:3,marginTop:2,children:(0,x.jsx)(n.xv,{size:"200",weight:"bold",children:(0,x.jsx)(n.rU,{href:ew+(o?`?ue=${o}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,g.My)("login_modal_forget_account"),(0,g.NC)("click_forget_password"),_({event_type:101,element:10881,aux_data:{...(0,A.Z)(p.type)}})},children:t.bt("Забыли пароль?", "Forgot your password?", "Desktop login modal link for users to recover their account", undefined, true)})})});return(0,x.jsxs)(n.xu,{children:[("emailSent"===l||"codeInput"===r)&&(0,x.jsx)(u.Z,{}),("emailPassword"===l||"emailPassword"===r)&&(0,x.jsx)(n.xu,{marginBottom:2,children:(0,x.jsx)(n.xv,{align:"center",children:o})}),(0,x.jsx)($.Z,{attributionLabel:b,buttonText:j,component:f,container:"select"!==r?"loginMagicLink":"loginOtp",disableEmailLogin:e,email:o,emailText:t.bt("Адрес электронной почты", "Email", "registerForm.label.email", undefined, true),emailValidationError:k,hideEmailField:!0,hideFacebookButton:!0,hideGoogleButton:!0,hidePasswordField:!1,isSsoEmail:L,loading:y&&!s,onButtonClick:(e,o)=>{this.handleButtonClick(void 0,void 0,o)},onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:c,passwordResetLink:S,passwordText:t.bt("Пароль", "Password", "registerForm.label.password", undefined, true),passwordValidationError:P||k,suppressFocus:d,viewParameter:w,viewType:m})]})}),em(this,"renderOriginalForm",()=>{let{hideFacebookButton:e,hideGoogleButton:o,hidePasswordField:t,shouldExpandQRCode:s,isAccountSwitch:a,magicLinkLoginStep:n,magicLinkPrimaryExpGroup:l,requestContext:r,isEligibleForShippedPCAuthenticationExperiment:c,oneTimeCodeLoginStep:d,oneTimeCodeLoginPrimaryExpGroup:_,handleMagicLinkSendSuccess:h,qrCodeLoginButtonClickHandler:p,setOneTimeCodeLoginStepAndSignupFlow:g}=this.props,m=l?.endsWith("lite")&&"emailSent"===n,w=!t&&(!o||!e)&&!this.state.isSsoEmail&&!m,f=("emailInput"!==n&&"emailSent"!==n&&"emailPassword"!==n||!l?.startsWith("enabled"))&&("emailInput"!==d&&"codeInput"!==d&&"emailPassword"!==d||!_?.startsWith("enabled")),b="emailPassword"===n||"emailPassword"===d||"emailSent"===n&&l?.startsWith("enabled_auto");return(0,x.jsxs)(i.Fragment,{children:[f&&this.renderRegisterForm(),b&&this.renderPasswordlessRegisterForm(),!s&&(w||d)&&(0,x.jsx)(u.Z,{}),h&&this.renderMagicLinkSendButton(),g&&this.renderOneTimeCodeSendButton(),g&&this.renderContinueWithPasswordButton(),!m&&this.renderSocialButtons(),!m&&r.experimentsClient.checkExperiment("dweb_unauth_otp_login_v1").anyEnabled&&g&&this.renderOneTimeCodeButton(),!a&&c&&p&&!m&&!s&&this.renderQRCodeButton()]})}),em(this,"renderButtons",()=>this.renderOriginalForm()),em(this,"renderTextAndLinkToSignup",()=>{let{onRedirectToSignup:e=()=>{}}=this.props;return(0,x.jsxs)(n.xu,{display:"flex",paddingY:6,children:[(0,x.jsx)(n.xv,{size:"300",weight:"normal",children:this.props.i18n.bt("У вас еще нет бизнес-аккаунта?", "Don’t have a business account?", "businessAccountCreate.signupLink.text", undefined, true)}),(0,x.jsx)(n.xu,{marginStart:1,children:(0,x.jsx)(n.rU,{display:"inlineBlock",href:"#",onClick:({event:o,dangerouslyDisableOnNavigation:t})=>{o.preventDefault(),t(),e()},children:(0,x.jsx)(n.xv,{size:"300",weight:"normal",children:this.props.i18n.bt("Создать бесплатно", "Create one for free", "businessAccountCreate.signupLink.CTA", undefined, true)})},0)})]})}),this.state={accountRecoveryModalType:null,emailValidationError:null,passwordValidationError:null,googleValidationError:null,loading:!1,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:o}=e,t=o.bt("Вы кое-что забыли! Укажите свой адрес электронной почты.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true),s=o.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm...that doesn't look like an email address.", " - ", undefined, true),a=o.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Login.password.onlyASCII", undefined, true);this.emailValidators=[(0,eg.aH)({message:t}),(0,eg.GT)({message:s})];let l=o.bt("Неправильный пароль.", "The password you entered is incorrect.", " - ", undefined, true);this.passwordValidators=[(0,eh.Z)({shortPassStr:l,samePasswordStr:l,blackPassStr:l})],this.asciiValidators=[(0,eg.oR)({message:a})]}componentDidMount(){(0,s.Z)("Login","/app/packages/desktopLoginModal/Login.tsx");let{isAccountSwitch:e,email:o,nextUrlParam:t,requestContext:i,showResponseMessageModal:a}=this.props;Z.ZP.isFullyLoggedIn(i.isAuthenticated,i.loginState)&&!e&&(a?a(!1):Z.ZP.handleRedirect(t)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1,o&&this.checkIfSsoUser()}componentWillUnmount(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}loginUser(e,o,t,s){let{container:i="unknown",email:a,flushContextEvents:n,isAccountSwitch:l,loadingIndicatorCallback:r,login:c,pageContext:d,showResponseMessageModal:_,desktopCoreLoginContext:{viewer:u}}=this.props;this.setState({loading:!0}),r(!0);let h=o||{username_or_email:a||"",password:this.props.password},p={container:i,page:d?d.pageType:void 0},g=M.Z.EMAIL;"facebook"===e?g=M.Z.FACEBOOK:"google"===e?g=M.Z.GPLUS:"sso"===e&&(g=M.Z.SSO),ee.Z.pause(eo.LU),n(),c({creds:h,loggingOptions:{loggingData:p,loginAttemptContextEvent:{event_type:7534,element:"google"===e?12981:void 0,aux_data:{...(0,A.Z)(u.type),signup_login_method:g}}},isAccountSwitch:l,recaptchaV2Token:t,recaptchaV3Token:this.props.recaptchaV3Token||"default",fingerprintData:s}).then((e={})=>{Z.ZP.storeLoginCredentialsToBrowser(h);let o=this.props.nextUrlParam||Z.ZP.defaultLoginRedirectUrl();if(l&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){let{user:t}=e.resource_response.data;(0,j.Z)(t,"email",i),o="/"+t.username}else Z.ZP.storeLoginCredentialsToBrowser(h);_?_(!1):Z.ZP.handleRedirect(o)},o=>this.handleLoginFailure(e,o,h))}render(){let{email:e,container:o,magicLinkPrimaryExpGroup:t,hideTermsOfService:s,isFBManualLoginDeprecationEnabled:i,isBusiness:a,shouldExpandQRCode:l}=this.props,r="revamped_business_login_page"===o;return(0,x.jsxs)(n.kC,{alignItems:"center",direction:"column",children:[(0,x.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:l||r?"100%":268,children:[(0,x.jsx)(_.Z,{email:e||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),r&&this.renderTextAndLinkToSignup()]}),(0,x.jsxs)(n.xu,{paddingY:4*!!t?.endsWith("lite"),width:r?"100%":h.N,children:[a&&i&&(0,x.jsx)(W.Z,{}),!s&&(!i||a)&&(0,x.jsx)(e_.Z,{})]})]})}}function ey(e){(0,i.useEffect)(()=>{(0,s.Z)("Login","/app/packages/desktopLoginModal/Login.tsx")},[]);let o=(0,p.Z)(),{flushContextEvents:t,logContextEvent:n}=(0,r.u)(),d=(0,C.a2)(),_=(0,a.s0)(),{recaptchaV3Token:u,refreshToken:h}=(0,el.D)(),g=(0,f.Py)(),{country:m}=(0,F.B)(),w=(0,v.Z)(),[b,k]=(0,i.useState)(""),{viewType:y,viewParameter:P}=(0,c.SU)(),A=(0,K.g)(),{trackConversionUpsell:E}=(0,O.Z)(),{authenticateWithSso:L,verifySsoUser:j}=(0,en.ZP)(),S=(0,I.Z)(),{userIsEligibleForShippedPCAuthenticationExperiment:z}=(0,es.Z)(),T=z();e.requestContext.experimentsClient.checkExperiment("qr_code_login_disable_ip_check");let{showToast:R}=(0,eu.dI)(),{isLoadingFingerprintContext:Z}=(0,l.f)()??{isLoadingFingerprintContext:!1};return(0,i.useEffect)(()=>{e.loadingIndicatorCallback(Z)},[Z]),(0,x.jsx)(ek,{...e,authenticateWithSso:L,desktopCoreLoginContext:g,flushContextEvents:t,i18n:o,isEligibleForShippedPCAuthenticationExperiment:T,isLineAuthenticationEnabled:"JP"===m,logContextEvent:n,login:w,navigate:_,pageContext:d,password:b,recaptchaV3Token:u,refreshRecaptchaV3Token:h,setPassword:k,showToast:R,trackConversionUpsell:E,trackInteraction:S,unauthDesktopSignupModalPageContext:A,verifySsoUser:j,viewParameter:P,viewType:y})}},745500:function(e,o,t){t.d(o,{Z:()=>S});var s=t(686659),i=t(667294),a=t(20256),n=t(973935),l=t(230201),r=t(884869),c=t(991166),d=t(893957),_=t(631517),u=t(785893);let h={width:0,height:0,display:"none",border:"none"},p={display:"flex",height:"100%",width:"100%",position:"fixed",top:0,left:0,zIndex:10001,inset:0,border:"none"};function g({component:e,experimentGroup:o,startTimeMs:t,onChallengeCompleted:a}){(0,i.useEffect)(()=>{(0,s.Z)("ArkoseIframe","/app/common/react/components/head/fingerprint/ArkoseIframe.tsx")},[]);let g=o===c.$L.ENABLED_ARKOSE_IFRAME,[m,x]=(0,i.useState)(!1),{logContextEvent:w}=(0,l.u)();if((0,d.Z)(()=>{g&&window.addEventListener("message",o=>{if(!o.data||"object"==typeof o.data||o.origin!==r.h7)return;let s=JSON.parse(o.data);switch(s.eventId){case"challenge-loaded":w({event_type:8109,component:e,element:18039,aux_data:{time_in_ms:Math.round(performance.now()-t),is_iframe:!0}});break;case"challenge-complete":s.payload?.sessionToken&&a(s.payload.sessionToken),x(!1);break;case"challenge-show":x(!0);break;case"challenge-hide":x(!1)}})}),g){let e=document.getElementById(_.dV);return e&&(0,n.createPortal)((0,u.jsx)("iframe",{id:"arkoseFrame",src:`${r.h7}/${(0,r.BR)()}/lightbox.html`,style:m?p:h,title:"Arkose Challenge"}),e)}return null}var m=t(987704);let x=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"];var w=t(863715),f=t(139654),b=t(24246),k=t(216975),y=t(456940),P=t(165419),v=t(877725),A=t(501010),C=t(935833),E=t(481889),L=t(739405),j=t(613231);function S({buttonText:e,buttonTextLabel:o,container:t="",disableEmailLogin:n,email:r,emailFieldHasError:c,emailLabel:_,emailText:h,emailValidationError:p,hideEmailField:S,hideFacebookButton:z,hideGoogleButton:T,hidePasswordField:R,isSsoEmail:Z,onButtonClick:M,onEmailBlur:B,onEmailChange:F,onPasswordChange:I,password:O,passwordResetLink:N,passwordText:D,passwordValidationError:G,signupForm:U,suppressFocus:W,component:V}){(0,i.useEffect)(()=>{(0,s.Z)("RegisterForm","/app/packages/desktopLoginModal/RegisterForm/RegisterForm.tsx")},[]);let q=(0,b.Z)(),[H,Y]=(0,i.useState)(!!U),[$,X]=(0,i.useState)(null),[K,J]=(0,i.useState)(""),{trackConversionUpsell:Q}=(0,E.Z)(),{checkExperiment:ee}=(0,A.Z)(),{logContextEvent:eo}=(0,l.u)(),et=(0,L.HG)(),es=ee("web_strong_password").anyEnabled,ei=(0,i.useRef)(performance.now()),{fingerprintData:ea,setupFingerprintSdks:en}=(0,m.f)()??{};(0,d.Z)(()=>{en?.()});let el=async()=>{if(B?.(),U)if(r)try{let{userExists:e,fieldsValidationResponse:o}=await (0,v.Z)({email:r,checkExperiment:ee,isDesktop:et});e?((0,C.My)("web.unauth.signup.email_entered"),H&&Y(!1)):(H||Y(!0),o||await U.checkEmailValidation(r))}catch(e){Y(!0)}else Y(!0);let e=e=>{J(e),r===e?X(null):(X(e),(0,C.My)("unauth.email_domain_typo_suggestion.shown"))},o=r&&-1!==r.indexOf("@")?r.split("@"):[];if(r&&r!==K||X(null),r&&o&&r.length<60){if(2===o.length){let t=o[1],s=t&&-1!==t.indexOf(".")?t.split("."):[];s.length>=2&&"gmail"===s[0]&&("com"!==s.slice(1).join(".")?e(o[0]+"@gmail.com"):X(null))}let t=o[1]&&x.includes(o[1])?null:o[1]&&x.map(e=>{let t=(0,y.Z)(e,o[1]);return 2===t||1===t?e:null}).filter(e=>"string"==typeof e);t&&t.length&&e(t[0]?`${o[0]}@${t[0]}`:"")}},er=p;!er&&(R||n)&&(z||T?!z&&T?er=q.bt("Ваш аккаунт связан с Facebook. Войдите с помощью кнопки Facebook", "Your account is connected to Facebook - use the Facebook button to log in", "Customized desktop login for users with Facebook", undefined, true):z&&!T&&(er=q.bt("Ваш аккаунт связан с Google. Войдите с помощью кнопки Google", "Your account is connected to Google - use the Google button to log in", "Customized desktop login for users with Google", undefined, true)):er=q.bt("Ваш аккаунт связан с Facebook и Google. Войдите с помощью кнопок", "Your account is connected to Facebook and Google - use the buttons to log in", "Customized desktop login for users with FB and Google", undefined, true));let ec=R||Z,ed="revamped_business_login_page"===t;return(0,u.jsxs)(i.Fragment,{children:[void 0!==ea&&(0,u.jsx)(g,{component:V,experimentGroup:ea.current.experimentGroup,onChallengeCompleted:e=>{ea.current.arkoseSessionToken=e},startTimeMs:ei.current}),(0,u.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),ea&&!ea.current.submitTriggeredTime&&(ea.current.submitTriggeredTime=performance.now()),es&&eo({event_type:16896,component:13096,element:31,aux_data:{score_source:"zxcvbn",score:(0,j.tc)(O),surface:"SET_PASSWORD_ARR"}}),M(e,ea)},children:[!S&&(0,u.jsx)(a.xu,{marginBottom:ed?4:1,marginStart:2,children:!ee("dweb_unauth_login_signup_form_vr").anyEnabled&&(0,u.jsx)(a.__,{htmlFor:"email",children:(0,u.jsx)(a.xv,{size:ed?"300":"200",children:q.bt("Адрес электронной почты", "Email", "registerForm.label.email", undefined, true)})})}),!S&&(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:ed?36:7}},children:(0,u.jsx)(f.Z,{autoComplete:"email",dataTestId:"emailInputField",disabled:!!U?.registerRestricted,domainError:$?(0,k.nk)(q.bt("Возможно, вы имели в виду {{ newEmail }}?", "Did you mean {{ newEmail }}?", " - ", undefined, true),{newEmail:(0,u.jsx)(a.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:$},"err_text")}):void 0,focused:!W,hasError:!!p||!!c,id:"email",inputLabel:q.bt("Адрес электронной почты", "Email", "registerForm.label.email", undefined, true),label:_,name:"id",onBlur:el,onChange:F,placeholder:h,tooltip:er,type:"email",value:r})}),!ec&&(0,u.jsx)(a.xu,{marginBottom:ed?4:1,marginStart:2,marginTop:4*!!ed,children:!ee("dweb_unauth_login_signup_form_vr").anyEnabled&&(0,u.jsx)(a.__,{htmlFor:"password",children:(0,u.jsx)(a.xv,{size:ed?"300":"200",children:q.bt("Пароль", "Password", "registerForm.label.password", undefined, true)})})}),!ec&&(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(f.Z,{autoComplete:"new-password",dataTestId:"passwordInputField",disabled:!!n||!!U?.registerRestricted,focused:!!S&&!W,hasError:!!G,id:"password",inputLabel:q.bt("Пароль", "Password", "registerForm.label.password", undefined, true),label:es?q.bt("Пароль должен содержать не менее 8 букв, цифр и специальных символов", "Use 8 or more letters, numbers and symbols", "passwordStrengthMeter.description", undefined, true):void 0,name:"password",onChange:I,onFocus:()=>{(0,C.NC)("focus_password")},placeholder:D,tooltip:G,type:"password",value:O}),(0,u.jsx)(a.xu,{"data-test-id":"password-reset-button",children:N??null}),U&&(0,u.jsx)(P.default,{password:O})]}),window.recaptchaCount&&window.recaptchaCount>0?(0,u.jsx)("div",{className:"g-recaptcha",id:`recaptcha_placeholder_${window.recaptchaCount}`,style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,U&&!Z&&(0,u.jsx)(w.Z,{...U.birthdayProps}),U?.registerRestricted&&(0,u.jsx)(a.xu,{marginTop:2,children:(0,u.jsx)(a.xv,{color:"error",size:"100",children:q.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Signup.AgeStep.underageError", undefined, true)})}),!R&&(0,u.jsx)(a.xu,{"data-test-id":"registerFormSubmitButton",marginBottom:Z?2:void 0,marginTop:ed?7:2,children:(0,u.jsx)(a.zx,{accessibilityLabel:o,color:"red",disabled:n||!!U?.registerRestricted,fullWidth:!0,onClick:()=>{Q({element:14214===V?12019:30,eventType:14689}),H?((0,C.NC)("press_signup_continue"),(0,C.Rp)({event:"start",provider:"email"})):((0,C.EX)({event:"start",provider:"email"}),(0,C.NC)("press_login_continue"))},text:e,type:"submit"})})]})]})}},863715:function(e,o,t){t.d(o,{Z:()=>d});var s=t(686659),i=t(667294),a=t(20256),n=t(42538),l=t(24246),r=t(935833),c=t(785893);function d({birthday:e,birthdayValidationError:o,disabled:t,setBirthdayValidationError:d,onBirthdayChange:_}){(0,i.useEffect)(()=>{(0,s.Z)("RegisterFormBirthdaySection","/app/packages/desktopLoginModal/RegisterForm/RegisterFormBirthdaySection.tsx")},[]);let u=(0,l.Z)(),h=u.bt("Чтобы позаботиться о безопасности сообщества Pinterest, нам нужно знать дату вашего рождения. Зная вашу дату рождения, мы можем предоставлять вам более персонализированные рекомендации и актуальные объявления. Мы не передаем эту информацию без вашего разрешения, и она не будет видна в вашем профиле.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "registerForm.label.birthdate.tooltipDescription", undefined, true);return(0,i.useEffect)(()=>{(0,r.My)("dweb.signup_age_step",{type:"email",format:"birthday"})},[]),(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(a.xu,{marginBottom:1,marginStart:2,marginTop:2,children:(0,c.jsxs)(a.kC,{children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(a.__,{htmlFor:"birthdate",children:(0,c.jsx)(a.xv,{size:"200",children:u.bt("Дата рождения", "Birthdate", "registerForm.label.birthdate", undefined, true)})})}),(0,c.jsx)(a.u,{accessibilityLabel:"",idealDirection:"right",text:h,zIndex:n.C,children:(0,c.jsx)(a.xu,{tabIndex:0,children:(0,c.jsx)(a.JO,{accessibilityLabel:h,icon:"info-circle"})})})]})}),(0,c.jsx)(a.xu,{"data-test-id":"signup-birthdate-field",children:(0,c.jsx)(a.nv,{autoComplete:"bday",disabled:t,errorMessage:o,id:"birthdate",onChange:e=>{_(e),d("")},size:"lg",type:"date",value:e||""})})]})}},919561:function(e,o,t){t.d(o,{Z:()=>c});var s=t(686659),i=t(667294),a=t(20256),n=t(465784),l=t(24246),r=t(785893);function c({type:e,onDismiss:o}){(0,i.useEffect)(()=>{(0,s.Z)("SocialAuthDisabledModal","/app/packages/desktopLoginModal/SocialAuthDisabledModal.tsx")},[]);let t=(0,l.Z)(),c="facebook"===e?t.bt("Ой! Facebook не работает", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):t.bt("Ой! Google не работает", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),d="facebook"===e?t.bt("Похоже, Facebook сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):t.bt("Похоже, Google сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,r.jsx)(n.ZP,{accessibilityModalLabel:c,footer:(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(a.xu,{"data-test-id":"SocialAuthDisabledModal",paddingX:1,children:(0,r.jsx)(a.zx,{color:"red",onClick:o,size:"md",text:t.bt("ОК", "OK", "socialAuthDisabled.okButton", undefined, true)})})}),heading:c,isOpen:!0,onDismiss:o,children:(0,r.jsx)(a.xu,{paddingX:5,children:(0,r.jsx)(a.xv,{align:"center",children:d})})})}},139654:function(e,o,t){t.d(o,{Z:()=>d});var s=t(686659),i=t(667294),a=t(20256),n=t(797502),l=t(59111),r=t(774838),c=t(785893);function d({label:e,autoComplete:o="on",disabled:t,domainError:d,focused:_,hasError:u,helperText:h,id:p,inputLabel:g,name:m,onBlur:x,onChange:w,onFocus:f,placeholder:b,tooltip:k,type:y,useExperimentalTextfield:P,value:v,dataTestId:A}){(0,i.useEffect)(()=>{(0,s.Z)("TextInputField","/app/packages/desktopLoginModal/TextInputField.tsx")},[]);let C=(0,i.useRef)(_),E=(0,i.useRef)(null),L=(0,i.useRef)(u),j=(0,r.B)(),S=j.experimentsClient.checkExperiment("dweb_unauth_login_signup_form_vr").anyEnabled;return(0,i.useEffect)(()=>{C.current&&E.current?.focus()},[]),(0,i.useEffect)(()=>{!1===L.current&&u&&E.current?.focus(),L.current=u},[u]),(0,c.jsxs)(a.xu,{"data-test-id":"textFieldWrapper",position:"relative",children:[(0,c.jsx)(a.xu,{display:"visuallyHidden",children:(0,c.jsx)(a.__,{htmlFor:p,children:e??b??""})}),j.userAgent.browserName?.includes("Edge")&&(0,c.jsx)(l.Z,{unsafeCSS:n.Kz}),(0,c.jsx)(a.nv,{ref:E,autoComplete:P?void 0:o,dataTestId:A,disabled:t,errorMessage:k?P&&d||k:"",helperText:P?void 0:h,id:p,label:S?g:void 0,name:m,onBlur:x,onChange:({event:e})=>w(e),onFocus:f,placeholder:b,size:P?void 0:"lg",type:y,value:v||""})]})}},653978:function(e,o,t){t.d(o,{Z:()=>r});var s=t(686659),i=t(667294),a=t(20256),n=t(924591),l=t(785893);function r({zIndex:e,...o}){return(0,i.useEffect)(()=>{(0,s.Z)("ToastForDesktopLoginModal","/app/packages/desktopLoginModal/ToastForDesktopLoginModal.tsx")},[]),(0,l.jsx)(a.mh,{children:(0,l.jsx)(a.xu,{bottom:!0,display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:e,children:(0,l.jsx)(n.Z,{...o})})})}},470935:function(e,o,t){t.d(o,{Z:()=>l});var s=t(686659),i=t(667294),a=t(20256),n=t(785893);function l({message:e,anchor:o}){(0,i.useEffect)(()=>{(0,s.Z)("Tooltip","/app/packages/desktopLoginModal/Tooltip.tsx")},[]);let[t,l]=(0,i.useState)(!0);return t?(0,n.jsx)(a.pl,{anchor:o,idealDirection:"right",onDismiss:()=>l(!1),children:(0,n.jsx)(a.xu,{padding:3,children:(0,n.jsx)(a.xv,{color:"light",size:"200",weight:"bold",children:e})})}):null}},198617:function(e,o,t){t.d(o,{Kf:()=>a,N:()=>_,QN:()=>l,hU:()=>r,kb:()=>d,xi:()=>c,xp:()=>n});var s=t(20256),i=t(646028);let a=new s.H3([i.Z]),n={attributionLabel:"unauth_hybrid_banner",source:"login",container:"bottom.right.upsell.email",reason:"CLICK_LOGIN_OR_SIGNUP"},l=350,r=286,c=5e3,d=new s.Ry(10001),_=320},220854:function(e,o,t){t.d(o,{Z:()=>i});var s=t(413220);let i=e=>"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?s.Z.LIMITED:s.Z.DEFAULT}},832633:function(e,o,t){t.d(o,{Mi:()=>s,a2:()=>i});let{Provider:s,getMaybe:i}=(0,t(213491).Z)("pageContext")},943982:function(e,o,t){t.d(o,{i:()=>n});var s=t(505633),i=t(925201),a=t(145626);let n=(e,o,t)=>{let n=window.location.origin,l=`/signup/sso-business-account?email=${e}`;t&&(l=(0,i.Z)(l,t)),n===a.C0?o(l):(0,s.Z)(`${a.C0}${l}`)}},190970:function(e,o,t){t.d(o,{Z:()=>p});var s=t(686659),i=t(667294),a=t(20256),n=t(24246),l=t(216975),r=t(424868),c=t(785893);function d({apiErrorCode:e,errorMessage:o,onClickPasswordReset:t}){(0,i.useEffect)(()=>{(0,s.Z)("PasswordResetErrorMessage","/app/packages/desktopLoginModal/PasswordResetErrorMessage.tsx")},[]);let d=(0,n.Z)(),_=({text:e})=>(0,c.jsx)(a.xu,{display:"inlineBlock",children:(0,c.jsx)(a.iP,{onTap:t,children:(0,c.jsx)(a.xv,{color:"error",size:"200",underline:!0,children:e},"err_text")})}),u=(e=>{switch(e){case r.yV:case r.$j:return(0,l.nk)(d.bt("Мы заметили странные действия в вашем аккаунте. {{ resetPasswordLink }} или войдите с помощью Facebook либо Google, чтобы вернуться в аккаунт.", "We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.", "Error message when user is soft banned", undefined, true),{resetPasswordLink:(0,c.jsx)(_,{text:d.bt("сбросьте пароль", "Reset your password", "Link text for password reset", undefined, true)})});case r.iK:return(0,l.nk)(d.bt("Ваш аккаунт уже привязан к Google. Чтобы войти с помощью электронной почты, {{ resetPasswordLink }}.", "Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,c.jsx)(_,{text:d.bt("установите пароль.", "set a password.", "Link text to set password for user with account with only google auth", undefined, true)})});case r.nY:return(0,l.nk)(d.bt("Ваш аккаунт уже привязан к Facebook. Чтобы войти с помощью электронной почты, {{ resetPasswordLink }}.", "Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,c.jsx)(_,{text:d.bt("установите пароль.", "set a password.", "Link text to set password for user with account with only facebook auth", undefined, true)})});case r.nf:return(0,l.nk)(d.bt("Ваш аккаунт подключен к Apple. Эта функция работает только в приложении Pinterest для iOS. Чтобы войти в Pinterest здесь, вам нужно {{ resetPasswordLink }}.", "Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}", "unauth.web.emailLogin", undefined, true),{resetPasswordLink:(0,c.jsx)(_,{text:d.bt("установить пароль", "set a password.", "Link text to set password for user with account with only apple auth", undefined, true)})});case r.oP:return(0,l.nk)(d.bt("Вы ввели неправильный пароль. Повторите попытку или {{ resetPasswordLink }}.", "The password you entered is incorrect. Try again or {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,c.jsx)(_,{text:d.bt("сбросьте пароль", "Reset your password", "Link text for password reset", undefined, true)})});default:return[o]}})(e);return(0,c.jsx)(a.xu,{"data-test-id":"touchableErrorMessage",children:u.map((e,o)=>(0,c.jsx)(a.xv,{color:"error",inline:!0,size:"200",children:e},`err_message_${o}`))})}var _=t(856639),u=t(935833);let h=[...r.ZP,_.Ej,r.oP,r.nf].filter(e=>e!==r.RL&&e!==r.an);function p({error:e,onClickPasswordReset:o,source:t}){(0,u.My)("unauth.login.error.GENERIC_FAILURE",{apiErrorCode:e.api_error_code,httpStatus:e.httpStatus,isArkoseChallengeRequired:e.isArkoseChallengeRequired??!1,message:e.message?.toString(),source:t});let s=e.api_error_code;(e.http_status||e.httpStatus)===_.Ej&&(s=_.Ej);let i=s&&h.includes(s)?(0,c.jsx)(d,{apiErrorCode:s,errorMessage:e.message??"",onClickPasswordReset:o}):e.message;if(i)switch(s){case r.oP:case r.RL:return{passwordValidationError:i};case r.nY:return{facebookValidationError:i};case r.iK:return{googleValidationError:i};case r.hU:return{emailValidationError:i};case r._K:return{passwordValidationError:i};default:return{emailValidationError:i}}return(0,u.My)(`unauth.login.error.SERVER_ERROR.unknown.${String(s)}.${t}`),null}},104402:function(e,o,t){t.d(o,{Z:()=>s});let s=e=>async()=>{let{Password:o}=await Promise.all([t.e("91062"),t.e("32792")]).then(t.bind(t,54605));return o(e)}},106338:function(e,o,t){async function s(e,o){let t;for(let s of o){let o=s(e);if(o instanceof Promise){let s=(await o)(e);if(s.errors.length>0){t=s.errors[0];break}}else if(o.errors.length>0){t=o.errors[0];break}}return t}t.d(o,{U:()=>s,Z:()=>i});let i=(e,o)=>{let t;return o.some(o=>{let s=o(e);return s.errors.length>0&&(t=s.errors[0],!0)}),t}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/29983.ru_RU-1a7f7a4051574783.mjs.map