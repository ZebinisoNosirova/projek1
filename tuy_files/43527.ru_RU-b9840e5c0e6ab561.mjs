(self.modernJsonp=self.modernJsonp||[]).push([["43527"],{987704:function(e,s,t){t.d(s,{f:()=>r}),t(667294),t(230201),t(746868);var a=t(213491);t(384696),t(501010),t(739405),t(785893);let{Provider:o,getMaybe:r}=(0,a.Z)("fingerprintContext",{fingerprintData:{current:{sardineSessionKey:null,arkoseSessionToken:null,arkoseEnforcement:null,sardineContext:null,submitTriggeredTime:null,experimentGroup:"control"}},setupFingerprintSdks:e=>{e?.()},isLoadingFingerprintContext:!1})},165419:function(e,s,t){t.r(s),t.d(s,{default:()=>f});var a=t(686659),o=t(667294),r=t(20256),n=t(839603),i=t(24246),l=t(59111),c=t(613231),d=t(785893);let h=`
.passwordStrengthMeter__a11yMessage:not(:focus):not(:active) {
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
`,_=({score:e})=>{let{color:s,percentage:t}=(()=>{let s,t;switch(e){case 1:s=n._r,t="23%";break;case 2:case 3:s=n.zk,t="57%";break;case 4:s=n.tO,t="100%";break;default:s=n.xP,t="13%"}return{color:s,percentage:t}})();return(0,d.jsx)(r.xu,{"aria-labelledby":"password-strength-message","aria-valuemax":4,"aria-valuemin":0,"aria-valuenow":e,dangerouslySetInlineStyle:{__style:{backgroundColor:n.HG}},height:8,role:"meter",rounding:"pill",width:"100%",children:(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:s,transition:".5s"}},"data-test-id":"password-strength-progress",height:"8px",rounding:"pill",width:t})})},u=({id:e,password:s})=>{(0,o.useEffect)(()=>{(0,a.Z)("PasswordStrengthMeter","/app/packages/gestalt-compliant/PasswordStrengthMeter.tsx")},[]);let t=(0,i.Z)(),n=(0,c.tc)(s),u=(0,c.eD)({score:n,i18n:t}),[p,g]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{!p&&s.length>0&&g(!0)},[p,s]),(0,d.jsxs)(r.xu,{"aria-atomic":!0,children:[p&&(0,d.jsxs)(r.xu,{marginBottom:1,children:[(0,d.jsx)(r.xu,{marginBottom:3,children:(0,d.jsx)(_,{score:n})}),(0,d.jsx)(r.xv,{color:"subtle",id:"password-strength-message",size:"100",weight:"bold",children:u}),(0,d.jsxs)("span",{"aria-live":"polite",className:"passwordStrengthMeter__a11yMessage",children:[(0,d.jsx)(l.Z,{unsafeCSS:h}),(()=>{switch(n){case 1:return t.bt("Ваш пароль достаточно надежный, но его можно улучшить.", "Your password’s strength is OK, but it could be stronger.", "passwordStrengthMeter.a11y.message.score1", undefined, true);case 2:case 3:return t.bt("Ваш пароль достаточно надежный. ", "Your password strength looks pretty good. ", "passwordStrengthMeter.a11y.message.score2", undefined, true);case 4:return t.bt("Это надежный пароль. Отлично!", "This is a strong password. Perfect!", "passwordStrengthMeter.a11y.message.score4", undefined, true);default:return t.bt("Усложните пароль, чтобы продолжить.", "Make your password more complicated to continue.", "passwordStrengthMeter.a11y.message.score0", undefined, true)}})()]})]}),(0,d.jsx)(r.xv,{color:"subtle",id:`${e}-helperText`,size:"100",children:t.bt("Пароль должен содержать не менее 8 букв, цифр и специальных символов", "Use 8 or more letters, numbers and symbols", "passwordStrengthMeter.description", undefined, true)})]})};var p=t(465784),g=t(501010),m=t(739405);let f=({password:e})=>{(0,o.useEffect)(()=>{(0,a.Z)("PasswordStrengthWrapper","/app/packages/PasswordStrengthWrapper.tsx")},[]);let s=(0,i.Z)(),t=(0,m.HG)(),n=(0,g.Z)(),l=!t&&n.checkExperiment("mweb_strong_password").anyEnabled||t&&n.checkExperiment("web_strong_password").anyEnabled,[c,h]=(0,o.useState)(!1),[_,f]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{!_&&e.length>0&&f(!0)},[_,e]),l)?(0,d.jsxs)(r.xu,{marginTop:_?6:2,children:[(0,d.jsx)(r.xu,{marginBottom:2,paddingX:3,children:(0,d.jsx)(u,{id:"password",password:e})}),(0,d.jsx)(r.kC,{alignItems:"start",children:(0,d.jsx)(r.ZP,{color:"transparent",dataTestId:"view-reporting-button",href:"",iconEnd:"info-circle",onClick:({dangerouslyDisableOnNavigation:e,event:s})=>{e(),s.preventDefault(),h(!0)},text:s.bt("Советы по созданию пароля", "Password tips", "PasswordStrengthWrapper.passwordTips.button", undefined, true)})}),(0,d.jsx)(p.ZP,{accessibilityModalLabel:s.bt("Окно с советами по созданию пароля", "Password tips modal", "PasswordStrengthWrapper.passwordTips.modal.accessibilityLabel", undefined, true),align:"start",isOpen:c,layerZIndex:new r.Ry(10002),onDismiss:()=>h(!1),role:"dialog",size:"md",zIndex:new r.Ry(10002),children:(0,d.jsxs)(r.xu,{marginBottom:5,marginTop:5,paddingX:4,children:[(0,d.jsx)(r.xu,{marginBottom:5,children:(0,d.jsx)(r.X6,{align:"start",size:"300",children:s.bt("Советы по созданию пароля", "Password tips", "PasswordStrengthWrapper.passwordTips.modal.headerTitle", undefined, true)})}),(0,d.jsx)(r.xu,{marginBottom:3,paddingX:1,children:(0,d.jsx)(r.xv,{size:"200",children:s.bt("Надежный пароль помогает защитить ваш аккаунт. Такой пароль должен содержать не менее 8 букв, цифр и специальных символов.", "A strong password helps keep your account safe. Use at least 8 letters, numbers and symbols.", "PasswordStrengthWrapper.passwordTips.modal.body1", undefined, true)})}),(0,d.jsx)(r.xu,{marginBottom:5,children:(0,d.jsxs)(r.aV,{label:(0,d.jsx)(r.xv,{size:"200",weight:"bold",children:s.bt("Не используйте:", "What to avoid", "PasswordStrengthWrapper.passwordTips.modal.subhead", undefined, true)}),size:"200",spacing:"condensed",type:"unordered",children:[(0,d.jsx)(r.aV.Item,{text:s.bt("распространенные пароли, слова и имена;", "Common passwords, words and names", "PasswordStrengthWrapper.passwordTips.modal.subhead.item1", undefined, true)}),(0,d.jsx)(r.aV.Item,{text:s.bt("недавние или значимые для вас даты;", "Recent dates or dates associated with you", "PasswordStrengthWrapper.passwordTips.modal.subhead.item2", undefined, true)}),(0,d.jsx)(r.aV.Item,{text:s.bt("простые сочетания и повторяющиеся слова.", "Simple patterns and repeated text", "PasswordStrengthWrapper.passwordTips.modal.subhead.item3", undefined, true)})]})}),(0,d.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:()=>h(!1),size:"lg",text:s.bt("ОК", "Okay", "PasswordStrengthWrapper.passwordTips.modal.okayButton", undefined, true)})]})})]}):null}},673434:function(e,s,t){t.d(s,{Z:()=>a});let a=e=>Math.floor(new Date(e).getTime()/1e3)},374217:function(e,s,t){t.d(s,{Z:()=>a});function a(e,s){let t=e.split("@")[0],a="";return(a=(a=t.includes(".")?t.replace("."," "):t.includes("_")?t.replace("_"," "):t).replace(/[0-9]/g,""),"GB"===s)?"User_"+a.split("").sort(()=>.5-Math.random()).join(""):a.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}},251821:function(e,s,t){t.d(s,{Z:()=>E});var a=t(686659),o=t(667294),r=t(692334),n=t(581722),i=t(312048),l=t(230201),c=t(147712),d=t(104999),h=t(236269),_=t(47755),u=t(924591),p=t(24246),g=t(577356),m=t(785893);let f=({view_type:e,view_parameter:s})=>{let t=(0,d.Z)(),[a,r]=(0,o.useState)(),[n,i]=(0,o.useState)(!1),l=(0,o.useCallback)(async({recipient:a,channel:o,onSuccess:n,onFailure:l,onFinally:c})=>{i(!0),r(void 0);try{await (0,_.Z)({url:"/v3/verifications/send/",method:"POST",data:{recipient:a,channel:o}}),t({view_type:e,view_parameter:s,event_type:17507,aux_data:{recipient:a}}),n?.()}catch(o){r((0,h.Z)(o,"message")??""),t({view_type:e,view_parameter:s,event_type:17508,aux_data:{recipient:a,status_code:(0,h.Z)(o,"httpStatus"),api_error_code:(0,h.Z)(o,"api_error_code")}}),l?.()}finally{i(!1),c?.()}},[t,s,e]);return{clearError:(0,o.useCallback)(()=>{r(void 0)},[]),error:a,isFetching:n,sendVerification:l}},x=c.z.object({resource_response:c.z.object({data:c.z.object({progress_token:c.z.string().nullable()})})}),w=()=>{let{showToast:e}=(0,g.dI)(),s=(0,p.Z)();return{showNewCodeSentToast:(0,o.useCallback)(()=>{e(({hideToast:e})=>(0,m.jsx)(u.Z,{onHide:e,text:s.bt("Отправлено! Проверьте почту.", "Sent! Check your email.", "Email.Verification.NewCodeSent.Toast", undefined, true)}))},[s,e])}};var b=t(20256),y=t(59355),P=t(739405),T=t(441276);function v({heading:e,description:s,isLoading:t,onClearError:r,onSendNewCode:n,onSubmit:i,recipient:c,verificationError:d,viewType:h}){(0,o.useEffect)(()=>{(0,a.Z)("VerificationCodeForm","/app/packages/one-time-passcode/VerificationCodeForm.tsx")},[]);let _={view_type:h,view_parameter:4095,aux_data:{recipient:c}};(0,y.Q)(_);let{logContextEvent:u}=(0,l.u)(),g=(0,P.HG)(),f=(0,p.Z)(),[x,w]=(0,o.useState)("");return(0,m.jsxs)(o.Fragment,{children:[t&&(0,m.jsx)(T.Z,{}),(0,m.jsxs)(b.kC,{"data-test-id":"verification-code-form",direction:"column",gap:{row:0,column:2},children:[(0,m.jsx)(b.X6,{accessibilityLevel:2,align:g?"start":"center",size:g?"700":"600",children:e}),(0,m.jsx)(b.xv,{align:g?"start":"center",color:"subtle",size:"300",children:s}),(0,m.jsx)(b.xu,{marginTop:g?8:3,children:(0,m.jsx)(b.Ki,{autoComplete:"off",dataTestId:"verification-code-form-input",errorMessage:d,id:"code",onChange:({event:e})=>{d&&r?.(),w(e.target.value)},size:"lg"})}),(0,m.jsx)(b.xu,{marginTop:g?8:6,children:(0,m.jsx)(b.xv,{align:"center",children:(0,m.jsx)(b.zx,{color:"transparent",onClick:()=>{u({..._,event_type:g?101:102,element:16033}),n()},size:"lg",text:f.bt("Отправить новый код", "Send new code", "profile.Settings.Verification.Code.SendAgain", undefined, true)})})}),(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{marginTop:g?"32px":"110px"}},display:"flex",justifyContent:g?"end":"center",children:(0,m.jsx)(b.zx,{color:"red",dataTestId:"verification-code-form-submit-button",disabled:6!==x.length,fullWidth:!g,onClick:()=>{u({..._,event_type:g?101:102,element:12019}),i({otp:x})},size:"lg",text:f.bt("Продолжить", "Continue", "profile.Settings.Verification.Code.Continue", undefined, true)})})]})]})}var S=t(554092),z=t(218504),k=t(157498),A=t(663549);function j({passcode:e,recipient:s,viewType:t,...r}){(0,o.useEffect)(()=>{(0,a.Z)("EmailUpdateVerification","/app/packages/one-time-passcode/EmailUpdateVerification.tsx")},[]);let c={view_type:t,view_parameter:4095,aux_data:{recipient:s}},d=(0,P.HG)(),h=(0,i.s0)(),_=(0,n.I0)(),x=(0,k.LO)(),{logContextEvent:b}=(0,l.u)(),{showNewCodeSentToast:y}=w(),{showEmailUpdatedToast:T}=(()=>{let{showToast:e}=(0,g.dI)(),s=(0,p.Z)();return{showEmailUpdatedToast:(0,o.useCallback)(()=>{e(({hideToast:e})=>(0,m.jsx)(u.Z,{onHide:e,text:s.bt("Ваш адрес электронной почты обновлен", "Your email has been updated", "Email.Verification.EmailUpdated.Toast", undefined, true)}))},[s,e])}})(),{handleSave:j,emailUpdateWithOtp:C}=(0,A.Cy)()??{},[I,E]=(0,o.useState)(!1),[Z,M]=(0,o.useState)(),{clearError:U,error:O,isFetching:L,sendVerification:V}=f(c),W=()=>{b({...c,event_type:16284}),T(),h("/settings/account-settings/")};return(0,m.jsx)(v,{...r,isLoading:I||L,onClearError:()=>{M(void 0),U()},onSendNewCode:()=>{V({recipient:s,channel:"email",onSuccess:()=>{y()}})},onSubmit:({otp:t})=>{E(!0),d?(j&&C&&j({...C.newSaveState,otp:t}),E(!1)):_((0,z._L)({field:"email",value:s,passcode:e,otp:t,onSettingSavedHn:W,showErrorHn:e=>{let{aux_data:s,...t}=c;b({...t,event_type:16285,aux_data:{...s,status_code:e?.httpStatus,api_error_code:e?.api_error_code}}),e?.message&&M(e.message)},onFinallyHn:()=>E(!1),surfaceTag:S.i.SETTINGS,userId:x?.id??""}))},recipient:s,verificationError:Z||O||C?.errorMessage,viewType:t})}var C=t(893957);function I({isLoading:e=!1,progressToken:s,recipient:t,viewType:r,onClearError:n,onCodeVerified:i,verificationError:l,...c}){(0,o.useEffect)(()=>{(0,a.Z)("EmailVerification","/app/packages/one-time-passcode/EmailVerification.tsx")},[]);let b={view_type:r,view_parameter:4095,aux_data:{recipient:t}},{clearError:y,error:P,isFetching:T,sendVerification:S}=f(b),{clearError:z,checkVerificationCode:k,error:A,isFetching:j}=(({view_type:e,view_parameter:s})=>{let t=(0,d.Z)(),[a,r]=(0,o.useState)(),[n,i]=(0,o.useState)(!1);return{checkVerificationCode:(0,o.useCallback)(async({code:a,progress_token:o,recipient:n,onSuccess:l,onFailure:c,onFinally:d})=>{i(!0),r(void 0);try{let r=await (0,_.Z)({url:"/v3/verifications/check/",method:"POST",data:{progress_token:o,code:a,recipient:n}}),i=x.parse(r);t({view_type:e,view_parameter:s,event_type:16284,aux_data:{recipient:n}}),l({progressToken:i.resource_response.data.progress_token})}catch(a){r((0,h.Z)(a,"message")??""),t({view_type:e,view_parameter:s,event_type:16285,aux_data:{recipient:n,status_code:(0,h.Z)(a,"httpStatus"),api_error_code:(0,h.Z)(a,"api_error_code")}}),c?.()}finally{i(!1),d?.()}},[t,s,e]),clearError:(0,o.useCallback)(()=>{r(void 0)},[]),error:a,isFetching:n}})(b),{showNewCodeSentToast:I}=w(),{showEmailConfirmedToast:E}=(()=>{let{showToast:e}=(0,g.dI)(),s=(0,p.Z)();return{showEmailConfirmedToast:(0,o.useCallback)(()=>{e(({hideToast:e})=>(0,m.jsx)(u.Z,{onHide:e,text:s.bt("Адрес электронной почты подтвержден", "Email confirmed", "Email.Verification.EmailConfirmed.Toast", undefined, true)}))},[s,e])}})();(0,C.Z)(()=>{S({recipient:t,channel:"email"})});let Z=()=>{y(),z(),n?.()};return(0,m.jsx)(v,{...c,isLoading:e||T||j,onClearError:Z,onSendNewCode:()=>{Z(),S({recipient:t,channel:"email",onSuccess:()=>{I()}})},onSubmit:({otp:e})=>{Z(),k({code:e,progress_token:s,recipient:t,onSuccess:e=>{i(e),E()}})},recipient:t,verificationError:l||P||A,viewType:r})}function E({verificationComponentProps:e,verificationVariant:s}){switch((0,o.useEffect)(()=>{(0,a.Z)("VerificationFlow","/app/packages/one-time-passcode/VerificationFlow.tsx")},[]),s){case r.Q.SIGNUP:case r.Q.VERIFICATION:return(0,m.jsx)(I,{...e});case r.Q.SETTINGS:return(0,m.jsx)(j,{...e});default:return null}}},692334:function(e,s,t){t.d(s,{Q:()=>a});let a={SIGNUP:"signup",SETTINGS:"settings",VERIFICATION:"verification"}},877725:function(e,s,t){t.d(s,{Z:()=>d});var a=t(147712),o=t(47755);let r=a.z.object({birthdate_validation:a.z.object({is_valid:a.z.boolean().nullable(),missing_age:a.z.boolean().nullable(),overage:a.z.boolean().nullable(),underage:a.z.boolean().nullable()}).nullable(),email_verification_required:a.z.boolean().nullable(),exists:a.z.boolean(),is_valid:a.z.boolean(),progress_token:a.z.string().nullable()});async function n({email:e,birthdate:s}){let t=await (0,o.Z)({url:"/v3/register/progress_token/",method:"POST",data:{email:e,birthdate:s}}),a=r.safeParse(t.resource_response.data);if(!a.success)throw a.error;return a.data}async function i(e){let s=await (0,o.Z)({url:"/v3/register/exists/",data:{email:e}});return!!s.resource_response?.data}async function l({birthday:e,email:s}){try{let{exists:t,progress_token:a,email_verification_required:o,birthdate_validation:r,is_valid:i}=await n({birthdate:e,email:s});return{fieldsValidationResponse:{birthdate:r?{isValid:r.is_valid??!1,isOverage:r.overage??!1,isUnderage:r.underage??!1}:null,email:{isValid:i,isOTPRequired:o??!1}},progressToken:a,userExists:t}}catch(e){return Promise.reject(e)}}async function c(e){try{return{userExists:await i(e),progressToken:null}}catch(e){return Promise.reject(e)}}let d=async function(e){let{birthday:s,checkExperiment:t,email:a,isBusiness:o=!1,isDesktop:r,submitValidation:n=!0}=e;return!function({checkExperiment:e,isBusiness:s,isDesktop:t,submitValidation:a}){return!!a&&!s&&(t?e("web_identity_otp_signup").anyEnabled:e("mweb_identity_otp_signup").anyEnabled)}({checkExperiment:t,isBusiness:o,isDesktop:r,submitValidation:n})?c(a):l({birthday:s,email:a})}},904278:function(e,s,t){t.d(s,{ZP:()=>c});var a=t(147712),o=t(966502),r=t(470967),n=t(935833),i=t(575820);let l=a.z.object({authorization_uri:a.z.string().nullable(),existing_user:a.z.boolean().nullable(),existing_user_is_sso:a.z.boolean().nullable(),is_sso:a.z.boolean(),redirect_uri:a.z.string().nullable(),exchange_code_to_token_info_url:a.z.string().nullable(),state_param:a.z.string().nullable().optional(),nonce_param:a.z.string().nullable().optional()});function c(){let e="undefined"!=typeof window;return{verifySsoUser:async e=>{try{let s=await fetch("/secure/sso_info",{headers:{"Content-Type":"application/json","x-csrftoken":`${String(r.U2(o.fS))}`},method:"POST",body:JSON.stringify({email:e})}),t=await s.json(),{authorization_uri:a,existing_user:n,existing_user_is_sso:i,is_sso:c,redirect_uri:d,exchange_code_to_token_info_url:h}=l.parse(t.data);return{authorizationUri:a,exchangeCodeToTokenUrl:h,existingUser:n,existingUserIsSso:i,isSso:c,redirectUri:d}}catch(e){return(0,n.My)("coreSso.verifyUser.error",{code:e.api_error_code,message:e.message,http_status:e.http_status}),{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null}}},authenticateWithSso:({callbacks:s,exchangeCodeToTokenUrl:t,isLogin:a,modalUrl:l})=>{let c;if(!e)return void s.error?.({api_error_code:0,message:"Window is undefined"});let d=async e=>{if(!e.isTrusted)return;let l=(({origin:e,data:s})=>(e=>{let{hostname:s}=(0,i.Qc)(e);return s&&(s.startsWith("www.pinterest")||s.endsWith(".pinterest.com")||s.endsWith(".pinterdev.com"))})(e)?String(s):null)(e),h=(0,i.mB)(l);if(h.code){if(a){s.success({authCode:h.code,state:h.state}),window.removeEventListener("message",d);return}try{(0,n.My)("coreSso.authenticateWithSso.companyParam",{company:h.company||"undefined",hasCompany:!!h.company,state:h.state||"undefined",hasState:!!h.state});let e=await fetch("/secure/sso_exchange",{headers:{"Content-Type":"application/json","x-csrftoken":`${String(r.U2(o.fS))}`},method:"POST",body:JSON.stringify({code:h.code,company:h.company,state:h.state,exchangeCodeToTokenUrl:t})});if(!e.ok){let s=`HTTP ${e.status}: Failed to exchange SSO code`;throw{api_error_code:void 0,message:s,http_status:e.status}}let{sso_id:a,sso_id_token:i,sso_email:l,sso_user_name:c}=(await e.json()).data;a&&i&&l&&c?s.success({ssoId:a,ssoIdToken:i,ssoEmail:l,ssoUserName:c}):((0,n.My)("coreSso.authenticateWithSso.noTokens",{sso_id:!!a,sso_id_token:!!i,sso_email:!!l,sso_user_name:!!c}),s.error?.({api_error_code:0,message:"No tokens returned"}))}catch(e){(0,n.My)("coreSso.authenticateWithSso.error",{code:e.api_error_code,message:e.message,http_status:e.http_status}),s.error?.(e)}finally{window.removeEventListener("message",d),c&&!c.closed&&c.close()}}};window.addEventListener("message",d),c=window.open(l,"_blank","width=600,height=600")}}}a.z.object({resource_response:a.z.object({data:l})})},133080:function(e,s,t){t.d(s,{Z:()=>g});var a=t(686659),o=t(667294),r=t(20256),n=t(230201),i=t(924591),l=t(24246),c=t(216975),d=t(236906),h=t(739405),_=t(785893);let u={terms:"terms",collectionUsePersonalInfo:"collectionUsePersonalInfo",thirdPartyProvisionPersonalInfo:"thirdPartyProvisionPersonalInfo",overseasTransferPersonalInfo:"overseasTransferPersonalInfo"},p="optionalMarketingConsent";function g({isBusiness:e,isRegistering:s,onBackButtonClick:t,onSubmitHandler:g,removeSpacing:m,showConsistentSteps:f,validationError:x}){(0,o.useEffect)(()=>{(0,a.Z)("ConsentStep","/app/packages/signupConsentStep/ConsentStep.tsx")},[]);let w=(0,l.Z)(),b=(0,h.HG)(),{logContextEvent:y}=(0,n.u)(),[P,T]=(0,o.useState)([]),[v,S]=(0,o.useState)(!1),z=[{name:w.bt("Обязательно", "Required", "consentStep.sections.required.title", undefined, true),description:w.bt("Я соглашаюсь с условиями этих документов и процедур:", "I consent to the following:", "consentStep.sections.required.description", undefined, true),checkboxes:[{key:u.terms,text:e?w.bt("Условия предоставления бизнес-услуг.", "Business Terms of Service.", "consentStep.sections.required.checkbox.termOfService.text.business", undefined, true):w.bt("Условия предоставления услуг.", "Terms of Service.", "consentStep.sections.required.checkbox.termOfService.text", undefined, true),learnMore:{text:w.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.termOfService.learnMore", undefined, true),url:e?"https://business.pinterest.com/business-terms-of-service":"https://policy.pinterest.com/terms-of-service"}},{key:u.collectionUsePersonalInfo,text:w.bt("Сбор и использование личной информации.", "Collection and Use of Personal Information.", "consentStep.sections.required.checkbox.collectionUsePersonalInfo.text", undefined, true),learnMore:{text:w.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.collectionUsePersonalInfo.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-1-collection-and-use-of-personal-information"}},{key:u.thirdPartyProvisionPersonalInfo,text:w.bt("Предоставление персональных данных третьим сторонам.", "Third Party Provision of Personal Information.", "consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.text", undefined, true),learnMore:{text:w.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-2-third-party-provision-of-personal-information"}},{key:u.overseasTransferPersonalInfo,text:w.bt("Передача персональных данных в другие страны.", "Overseas Transfer of Personal Information.", "consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.text", undefined, true),learnMore:{text:w.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-3-overseas-transfer-of-personal-information"}}]},{name:w.bt("Необязательно", "Optional", "consentStep.sections.optional.title", undefined, true),checkboxes:[{key:p,text:w.bt("Устанавливая флажок, я даю согласие на получение маркетинговой информации и использование моей личной информации для отправки рекламных сообщений. Вы можете в любой момент изменить это положение в настройках.", "By checking, I consent to the receipt of marketing information and use of personal information for sending marketing communications. You may change this at any time by visiting your settings.", "consentStep.sections.required.checkbox.optionalMarketingConsent.text", undefined, true),learnMore:{text:w.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.optionalMarketingConsent.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-4-receipt-of-marketing-information-and-use-of-personal-information-for-sending-marketing-information"}}]}],k=z.flatMap(e=>e.checkboxes.map(e=>e.key));(0,o.useEffect)(()=>{y({event_type:13,view_type:10,view_parameter:4038}),x&&S(!0)},[x]);let A=()=>Object.values(u).every(e=>P.includes(e)),j=({checked:e,id:s})=>{let t=[];"agreeToAll"===s&&e?t=["agreeToAll",...k]:"agreeToAll"!==s&&(t=e?[...P,s]:P.filter(e=>e!==s),!e&&t.includes("agreeToAll")?t=t.filter(e=>"agreeToAll"!==e):t.length!==k.length||t.includes("agreeToAll")||(t=["agreeToAll",...t])),T(t)},C=(0,_.jsx)(r.zx,{color:"red",dataTestId:"consent-step-next-button",disabled:!A(),fullWidth:!0,onClick:()=>{A()&&(y({element:96,event_type:b?101:102,view_type:10,view_parameter:4038}),g({kr_privacy_consent_opt_in:!0,marketing_notifs_opt_out:!P.includes(p)}))},size:"lg",text:w.bt("Далее", "Next", "consentStep.button.next", undefined, true),type:"button"}),{paddingY:I,paddingX:E}=m?{paddingY:0,paddingX:0}:{paddingY:b?10:8,paddingX:10*!!b};return(0,_.jsxs)(r.xu,{marginTop:5*!!f,paddingX:E,paddingY:f?0:I,children:[s&&(0,_.jsx)(d.Z,{rounding:8}),(0,_.jsxs)(r.xu,{marginBottom:9,paddingX:8*!f,children:[(0,_.jsx)(r.xu,{marginBottom:f?6:4,children:(0,_.jsxs)(r.kC,{direction:"column",gap:{column:f?1:4,row:0},children:[(0,_.jsx)(r.kC,{justifyContent:f?"start":"center",children:(0,_.jsx)(r.X6,{accessibilityLevel:2,size:f?"600":"400",children:w.bt("Согласие", "Consents", "consentStep.title", undefined, true)})}),(0,_.jsx)(r.xv,{color:"subtle",size:"300",children:w.bt("Прежде чем создать аккаунт, вам нужно принять обязательные условия ниже.", "Before you can create an account, you'll need to agree to the required terms below.", "consentStep.description", undefined, true)})]})}),(0,_.jsx)(r.xu,{children:(0,_.jsxs)(r.kC,{direction:"column",gap:{column:4,row:0},justifyContent:"start",children:[(0,_.jsx)(r.xu,{marginBottom:4,children:(0,_.jsx)(r.XZ,{checked:P.includes("agreeToAll"),id:"agreeToAll",label:w.bt("Принять все", "Agree to all", "consentStep.checkbox.agreeToAll.text", undefined, true),name:"agreeToAll",onChange:({checked:e})=>j({checked:e,id:"agreeToAll"})})}),(0,_.jsx)(r.kC,{direction:"column",gap:{column:6,row:0},children:z.map(e=>(0,_.jsx)(r.pg,{legend:e.name,legendDisplay:"hidden",children:(0,_.jsxs)(r.kC,{direction:"column",gap:{column:2,row:0},children:[(0,_.jsxs)(r.xu,{children:[(0,_.jsx)(r.xv,{align:"start",color:"subtle",size:"100",children:e.name}),e.description?(0,_.jsx)(r.xu,{marginBottom:2,marginTop:2,children:(0,_.jsx)(r.xv,{align:"start",size:"300",children:e.description})}):null]}),e.checkboxes.map((e,s)=>(0,_.jsx)(r.xu,{marginTop:2*(0!==s),children:(0,_.jsxs)(r.kC,{gap:{column:0,row:2},children:[(0,_.jsx)(r.XZ,{checked:P.includes(e.key),id:e.key,name:e.key,onChange:({checked:s})=>j({checked:s,id:e.key})}),(0,_.jsx)(r.__,{htmlFor:e.key,children:(0,_.jsx)(r.xv,{children:e.learnMore?(0,c.nk)(`${e.text} {{ learnMoreLink }}`,{learnMoreLink:(0,_.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(r.rU,{display:"inline",href:e.learnMore.url,target:"blank",underline:"always",children:e.learnMore.text})},`${e.key}-learnMore`)}):e.text})})]})},e.key))]})},e.name))})]})})]}),b?(0,_.jsxs)(r.kC,{gap:{column:0,row:2},justifyContent:"end",children:[(0,_.jsx)(r.xu,{width:117,children:(0,_.jsx)(r.zx,{dataTestId:"consent-step-back-button",fullWidth:!0,onClick:()=>{t&&t()},size:"lg",text:w.bt("Назад", "Back", "consentStep.buttons.back", undefined, true),type:"button"})}),(0,_.jsx)(r.xu,{width:94,children:C})]}):C,v&&(0,_.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,_.jsx)(i.Z,{duration:3500,onHide:()=>S(!v),text:x})})]})}},473614:function(e,s,t){t.d(s,{Z:()=>u});var a=t(686659),o=t(667294),r=t(20256),n=t(24246),i=t(216975),l=t(692334),c=t(251821),d=t(739405),h=t(767415),_=t(785893);function u({clearValidationError:e,onContinue:s,progressToken:t,userEmail:u,validationError:p,isLoading:g=!1}){(0,o.useEffect)(()=>{(0,a.Z)("OtpStep","/app/packages/signupOtpStep/OtpStep.tsx")},[]);let m=(0,n.Z)(),f=(0,d.HG)();return(0,_.jsx)(r.xu,{marginTop:5,paddingX:f?13:2,paddingY:9*!f,width:"100%",children:(0,_.jsx)(c.Z,{verificationComponentProps:{description:(0,i.nk)(m.bt("Мы отправили 6-значный код на {{ userEmail }} для подтверждения аккаунта и завершения регистрации", "We sent a 6-digit code to {{ userEmail }} for you to confirm your account and finish signup", "otpStep.subTitle", undefined, true),{userEmail:u}),heading:m.bt("Введите код", "Enter the code", "otpStep.title", undefined, true),isLoading:g,onClearError:()=>{e?.()},onCodeVerified:e=>{t&&(0,h.nP)("otp_step.code_verified.with_progress_token",{tags:{has_empty_progress_token:""===e.progressToken}}),s({progressToken:e.progressToken??""})},progressToken:t,recipient:u,verificationError:p,viewType:10},verificationVariant:l.Q.SIGNUP})})}},659856:function(e,s,t){t.d(s,{l:()=>i,Z:()=>l});var a=t(667294),o=t(24246),r=t(216975),n=t(496883);let i=8,l=()=>{let e=(0,o.Z)(),s=(0,r.Wc)(e.bt("Слишком короткий пароль. Он должен содержать не менее {{minPasswordLength}} символов.", "Your password is too short! You need {{minPasswordLength}}+ characters.", "passwordValidation.minLength", undefined, true),{minPasswordLength:"6"}),l=(0,r.Wc)(e.bt("Слишком короткий пароль. Он должен содержать не менее {{minPasswordLength}} символов.", "Your password is too short! You need {{minPasswordLength}}+ characters.", "passwordValidation.minLength", undefined, true),{minPasswordLength:i.toString()}),c=e.bt("Пароль не должен совпадать с именем пользователя.", "Please make your username and password different.", "passwordValidation.passwordEqualsToUsername", undefined, true),d=e.bt("Выберите более сложный пароль.", "Please make a stronger password.", "passwordValidation.strongerPassword", undefined, true),h=e.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "passwordValidation.onlyASCII", undefined, true);return(0,a.useCallback)(({existingPassword:e,username:a})=>{let o;return e?[(0,n.oR)({message:h}),(0,n.aH)({message:s}),(0,n.Gy)({min:6,minErrorString:s})]:[(0,n.oR)({message:h}),(0,n.aH)({message:l}),(o={shortPassStr:l,samePasswordStr:c,blackPassStr:d,minPasswordLength:i,strongPasswordErrorMsg:d,username:a},async()=>{let{NewPassword:e}=await Promise.all([t.e("91062"),t.e("32792")]).then(t.bind(t,54605));return e(o)})]},[h,s,l,c,d])}},441276:function(e,s,t){t.d(s,{Z:()=>_});var a=t(686659),o=t(667294),r=t(20256),n=t(24246),i=t(785893);let l=new r.Ry(671),c=new r.H3([l]),d=()=>((0,o.useEffect)(()=>{(0,a.Z)("Overlay","/app/partner/catalogsV3/common/Overlay/Overlay.tsx")},[]),(0,i.jsx)(r.xu,{color:"default",height:"100%",left:!0,opacity:.8,position:"absolute",top:!0,width:"100%",zIndex:c})),h=new r.H3([c]),_=({size:e})=>{(0,o.useEffect)(()=>{(0,a.Z)("OverlaySpinner","/app/partner/catalogsV3/common/Overlay/OverlaySpinner.tsx")},[]);let s=(0,n.Z)();return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(d,{}),(0,i.jsx)(r.xu,{height:"100%",left:!0,position:"absolute",top:!0,width:"100%",zIndex:h,children:(0,i.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,i.jsx)(r.xH,{accessibilityLabel:s.bt("Значок загрузки", "Loading Icon", "Catalogs.Spinner", undefined, true),show:!0,size:e})})})]})}},663549:function(e,s,t){t.d(s,{Cy:()=>r,jY:()=>a,xx:()=>o});let{Provider:a,get:o,getMaybe:r}=(0,t(213491).Z)("UserSettingsPageContext")}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/43527.ru_RU-b9840e5c0e6ab561.mjs.map