(self.modernJsonp=self.modernJsonp||[]).push([["38456"],{703655:function(e,t,o){var i=o(332792);function a(e){this.mode=i.MODE_8BIT_BYTE,this.data=e}a.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=a},827321:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var o=0;o<t;o++)this.putBit((e>>>t-o-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},249381:function(e){e.exports={L:1,M:0,Q:3,H:2}},632832:function(e,t,o){var i=o(611518);function a(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var o=0;o<e.length&&0==e[o];)o++;this.num=Array(e.length-o+t);for(var i=0;i<e.length-o;i++)this.num[i]=e[i+o]}a.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),o=0;o<this.getLength();o++)for(var l=0;l<e.getLength();l++)t[o+l]^=i.gexp(i.glog(this.get(o))+i.glog(e.get(l)));return new a(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=i.glog(this.get(0))-i.glog(e.get(0)),o=Array(this.getLength()),l=0;l<this.getLength();l++)o[l]=this.get(l);for(var l=0;l<e.getLength();l++)o[l]^=i.gexp(i.glog(e.get(l))+t);return new a(o,0).mod(e)}},e.exports=a},114450:function(e,t,o){var i=o(703655),a=o(917611),l=o(827321),s=o(493160),n=o(632832);function r(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var d=r.prototype;d.addData=function(e){var t=new i(e);this.dataList.push(t),this.dataCache=null},d.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},d.getModuleCount=function(){return this.moduleCount},d.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=a.getRSBlocks(e,this.errorCorrectLevel),o=new l,i=0,n=0;n<t.length;n++)i+=t[n].dataCount;for(var n=0;n<this.dataList.length;n++){var r=this.dataList[n];o.put(r.mode,4),o.put(r.getLength(),s.getLengthInBits(r.mode,e)),r.write(o)}if(o.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},d.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[o][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},d.setupPositionProbePattern=function(e,t){for(var o=-1;o<=7;o++)if(!(e+o<=-1)&&!(this.moduleCount<=e+o))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(0<=o&&o<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=i&&i<=4?this.modules[e+o][t+i]=!0:this.modules[e+o][t+i]=!1)},d.getBestMaskPattern=function(){for(var e=0,t=0,o=0;o<8;o++){this.makeImpl(!0,o);var i=s.getLostPoint(this);(0==o||e>i)&&(e=i,t=o)}return t},d.createMovieClip=function(e,t,o){var i=e.createEmptyMovieClip(t,o);this.make();for(var a=0;a<this.modules.length;a++)for(var l=+a,s=0;s<this.modules[a].length;s++){var n=+s;this.modules[a][s]&&(i.beginFill(0,100),i.moveTo(n,l),i.lineTo(n+1,l),i.lineTo(n+1,l+1),i.lineTo(n,l+1),i.endFill())}return i},d.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},d.setupPositionAdjustPattern=function(){for(var e=s.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var o=0;o<e.length;o++){var i=e[t],a=e[o];if(null==this.modules[i][a])for(var l=-2;l<=2;l++)for(var n=-2;n<=2;n++)-2==l||2==l||-2==n||2==n||0==l&&0==n?this.modules[i+l][a+n]=!0:this.modules[i+l][a+n]=!1}},d.setupTypeNumber=function(e){for(var t=s.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var i=!e&&(t>>o&1)==1;this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=i}for(var o=0;o<18;o++){var i=!e&&(t>>o&1)==1;this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=i}},d.setupTypeInfo=function(e,t){for(var o=this.errorCorrectLevel<<3|t,i=s.getBCHTypeInfo(o),a=0;a<15;a++){var l=!e&&(i>>a&1)==1;a<6?this.modules[a][8]=l:a<8?this.modules[a+1][8]=l:this.modules[this.moduleCount-15+a][8]=l}for(var a=0;a<15;a++){var l=!e&&(i>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=l:a<9?this.modules[8][15-a-1+1]=l:this.modules[8][15-a-1]=l}this.modules[this.moduleCount-8][8]=!e},d.mapData=function(e,t){for(var o=-1,i=this.moduleCount-1,a=7,l=0,n=this.moduleCount-1;n>0;n-=2)for(6==n&&n--;;){for(var r=0;r<2;r++)if(null==this.modules[i][n-r]){var d=!1;l<e.length&&(d=(e[l]>>>a&1)==1),s.getMask(t,i,n-r)&&(d=!d),this.modules[i][n-r]=d,-1==--a&&(l++,a=7)}if((i+=o)<0||this.moduleCount<=i){i-=o,o=-o;break}}},r.PAD0=236,r.PAD1=17,r.createData=function(e,t,o){for(var i=a.getRSBlocks(e,t),n=new l,d=0;d<o.length;d++){var c=o[d];n.put(c.mode,4),n.put(c.getLength(),s.getLengthInBits(c.mode,e)),c.write(n)}for(var _=0,d=0;d<i.length;d++)_+=i[d].dataCount;if(n.getLengthInBits()>8*_)throw Error("code length overflow. ("+n.getLengthInBits()+">"+8*_+")");for(n.getLengthInBits()+4<=8*_&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*_)&&(n.put(r.PAD0,8),!(n.getLengthInBits()>=8*_));)n.put(r.PAD1,8);return r.createBytes(n,i)},r.createBytes=function(e,t){for(var o=0,i=0,a=0,l=Array(t.length),r=Array(t.length),d=0;d<t.length;d++){var c=t[d].dataCount,_=t[d].totalCount-c;i=Math.max(i,c),a=Math.max(a,_),l[d]=Array(c);for(var u=0;u<l[d].length;u++)l[d][u]=255&e.buffer[u+o];o+=c;var g=s.getErrorCorrectPolynomial(_),p=new n(l[d],g.getLength()-1).mod(g);r[d]=Array(g.getLength()-1);for(var u=0;u<r[d].length;u++){var h=u+p.getLength()-r[d].length;r[d][u]=h>=0?p.get(h):0}}for(var m=0,u=0;u<t.length;u++)m+=t[u].totalCount;for(var y=Array(m),f=0,u=0;u<i;u++)for(var d=0;d<t.length;d++)u<l[d].length&&(y[f++]=l[d][u]);for(var u=0;u<a;u++)for(var d=0;d<t.length;d++)u<r[d].length&&(y[f++]=r[d][u]);return y},e.exports=r},917611:function(e,t,o){var i=o(249381);function a(e,t){this.totalCount=e,this.dataCount=t}a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var o=a.getRsBlockTable(e,t);if(void 0==o)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=o.length/3,l=[],s=0;s<i;s++)for(var n=o[3*s+0],r=o[3*s+1],d=o[3*s+2],c=0;c<n;c++)l.push(new a(r,d));return l},a.getRsBlockTable=function(e,t){switch(t){case i.L:return a.RS_BLOCK_TABLE[(e-1)*4+0];case i.M:return a.RS_BLOCK_TABLE[(e-1)*4+1];case i.Q:return a.RS_BLOCK_TABLE[(e-1)*4+2];case i.H:return a.RS_BLOCK_TABLE[(e-1)*4+3];default:return}},e.exports=a},611518:function(e){for(var t={glog:function(e){if(e<1)throw Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},o=0;o<8;o++)t.EXP_TABLE[o]=1<<o;for(var o=8;o<256;o++)t.EXP_TABLE[o]=t.EXP_TABLE[o-4]^t.EXP_TABLE[o-5]^t.EXP_TABLE[o-6]^t.EXP_TABLE[o-8];for(var o=0;o<255;o++)t.LOG_TABLE[t.EXP_TABLE[o]]=o;e.exports=t},332792:function(e){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},493160:function(e,t,o){var i=o(332792),a=o(632832),l=o(611518),s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;s.getBCHDigit(t)-s.getBCHDigit(s.G15)>=0;)t^=s.G15<<s.getBCHDigit(t)-s.getBCHDigit(s.G15);return(e<<10|t)^s.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;s.getBCHDigit(t)-s.getBCHDigit(s.G18)>=0;)t^=s.G18<<s.getBCHDigit(t)-s.getBCHDigit(s.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return s.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,o){switch(e){case 0:return(t+o)%2==0;case 1:return t%2==0;case 2:return o%3==0;case 3:return(t+o)%3==0;case 4:return(Math.floor(t/2)+Math.floor(o/3))%2==0;case 5:return t*o%2+t*o%3==0;case 6:return(t*o%2+t*o%3)%2==0;case 7:return(t*o%3+(t+o)%2)%2==0;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new a([1],0),o=0;o<e;o++)t=t.multiply(new a([1,l.gexp(o)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw Error("mode:"+e)}if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw Error("mode:"+e)}if(t<41)switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw Error("mode:"+e)}throw Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),o=0,i=0;i<t;i++)for(var a=0;a<t;a++){for(var l=0,s=e.isDark(i,a),n=-1;n<=1;n++)if(!(i+n<0)&&!(t<=i+n))for(var r=-1;r<=1;r++)!(a+r<0)&&!(t<=a+r)&&(0!=n||0!=r)&&s==e.isDark(i+n,a+r)&&l++;l>5&&(o+=3+l-5)}for(var i=0;i<t-1;i++)for(var a=0;a<t-1;a++){var d=0;e.isDark(i,a)&&d++,e.isDark(i+1,a)&&d++,e.isDark(i,a+1)&&d++,e.isDark(i+1,a+1)&&d++,(0==d||4==d)&&(o+=3)}for(var i=0;i<t;i++)for(var a=0;a<t-6;a++)e.isDark(i,a)&&!e.isDark(i,a+1)&&e.isDark(i,a+2)&&e.isDark(i,a+3)&&e.isDark(i,a+4)&&!e.isDark(i,a+5)&&e.isDark(i,a+6)&&(o+=40);for(var a=0;a<t;a++)for(var i=0;i<t-6;i++)e.isDark(i,a)&&!e.isDark(i+1,a)&&e.isDark(i+2,a)&&e.isDark(i+3,a)&&e.isDark(i+4,a)&&!e.isDark(i+5,a)&&e.isDark(i+6,a)&&(o+=40);for(var c=0,a=0;a<t;a++)for(var i=0;i<t;i++)e.isDark(i,a)&&c++;return o+10*(Math.abs(100*c/t/t-50)/5)}};e.exports=s},888632:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},a=n(o(486358)),l=o(667294),s=n(l);function n(e){return e&&e.__esModule?e:{default:e}}var r={bgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,bgD:a.default.string.isRequired,fgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,fgD:a.default.string.isRequired,size:a.default.number.isRequired,title:a.default.string,viewBoxSize:a.default.number.isRequired,xmlns:a.default.string},d=(0,l.forwardRef)(function(e,t){var o=e.bgColor,a=e.bgD,l=e.fgD,n=e.fgColor,r=e.size,d=e.title,c=e.viewBoxSize,_=e.xmlns,u=function(e,t){var o={};for(var i in e)!(t.indexOf(i)>=0)&&Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i]);return o}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",i({},u,{height:r,ref:t,viewBox:"0 0 "+c+" "+c,width:r,xmlns:void 0===_?"http://www.w3.org/2000/svg":_}),d?s.default.createElement("title",null,d):null,s.default.createElement("path",{d:a,fill:o}),s.default.createElement("path",{d:l,fill:n}))});d.displayName="QRCodeSvg",d.propTypes=r,t.default=d},101653:function(e,t,o){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},a=c(o(486358)),l=c(o(249381)),s=c(o(114450)),n=o(667294),r=c(n),d=c(o(888632));function c(e){return e&&e.__esModule?e:{default:e}}var _={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},u=(0,n.forwardRef)(function(e,t){var o=e.bgColor,a=e.fgColor,n=e.level,c=e.size,_=e.value,u=function(e,t){var o={};for(var i in e)!(t.indexOf(i)>=0)&&Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i]);return o}(e,["bgColor","fgColor","level","size","value"]),g=new s.default(-1,l.default[void 0===n?"L":n]);g.addData(_),g.make();var p=g.modules;return r.default.createElement(d.default,i({},u,{bgColor:void 0===o?"#FFFFFF":o,bgD:p.map(function(e,t){return e.map(function(e,o){return e?"":"M "+o+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:void 0===a?"#000000":a,fgD:p.map(function(e,t){return e.map(function(e,o){return e?"M "+o+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:void 0===c?256:c,viewBoxSize:p.length}))});u.displayName="QRCode",u.propTypes=_,t.default=u},535307:function(e,t,o){var i=o(586150);function a(){}function l(){}l.resetWarningCache=a,e.exports=function(){function e(e,t,o,a,l,s){if(s!==i){var n=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw n.name="Invariant Violation",n}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:a};return o.PropTypes=o,o}},486358:function(e,t,o){e.exports=o(535307)()},586150:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},45364:function(e,t,o){var i,a,l,s,n,r;o.r(t),o.d(t,{default:()=>c});let d={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},n={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},r={alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[s,n,r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"fa2a747f003a0b99e4125f5e9b4cdf0458131d673b4d0101e7549de623e26ec8",metadata:{},name:"FullPageSignupIconPinQuery",operationKind:"query",text:null}};d.hash="672f6a12645b2a47bca8385aab15e1dd";let c=d},931260:function(e,t,o){o.d(t,{Z:()=>r});var i=o(686659),a=o(667294),l=o(997526),s=o(24246),n=o(785893);function r({fillColor:e,size:t,noCircle:o}){(0,a.useEffect)(()=>{(0,i.Z)("LogoSvg","/app/packages/LogoSvg.tsx")},[]);let r=(0,s.Z)();return(0,n.jsxs)("svg",{"aria-labelledby":"fullpage-modal-pinterest-logo",height:t,role:"img",style:{display:"block"},viewBox:o?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,n.jsx)("title",{id:"fullpage-modal-pinterest-logo",children:r.bt("Логотип Pinterest", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true)}),o?null:(0,n.jsx)("circle",{cx:"38",cy:"38",fill:e?"transparent":"white",r:"40"}),(0,n.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:e??l.$rz,fillRule:"evenodd"})]})}},818254:function(e,t,o){o.r(t),o.d(t,{default:()=>tz});var i,a=o(686659),l=o(667294),s=o(20256),n=o(505633),r=o(104999),d=o(966502),c=o(576863),_=o(538985),u=o(470967),g=o(673434),p=o(124617),h=o(198617),m=o(197997),y=o(785893);let f=({margin:e})=>((0,l.useEffect)(()=>{(0,a.Z)("Separator","/app/packages/desktopLoginModal/Separator.tsx")},[]),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:e??"10px auto"}},width:110}));var x=o(220854),b=o(24246),w=o(501010),P=o(247387),k=o(46677),v=o(736328),S=o(481889),A=o(145626);function E({type:e}){let{viewer:t}=(0,p.Py)(),o=(0,b.Z)(),i=(0,r.Z)(),a=`${A.C0}${P.Hm8}`,{trackConversionUpsell:l}=(0,S.Z)(),n=(0,v.Z)();return(0,y.jsxs)(s.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",marginStart:"auto",marginTop:2,children:[(0,y.jsx)(s.xv,{size:"100",weight:"normal",children:o.bt("Вы представитель организации?", "Are you a business?", "Prompt for business signup", undefined, true)}),(0,y.jsx)(s.xu,{"data-test-id":"business-start",marginStart:1,children:(0,y.jsx)(s.rU,{href:a,onClick:()=>{n({action:"click",item:"business-start"}),i({event_type:101,component:"signupToLogin"===e?13096:13867,element:10281,aux_data:(0,x.Z)(t.type)}),l({element:10281,eventType:14689})},target:"blank",underline:"none",children:(0,y.jsx)(s.xv,{size:"100",weight:"bold",children:o.bt("Вам сюда", "Get started here!", "Prompt for signing up", undefined, true)})})})]})}let z=({children:e,layout:t})=>{switch(t){case"SIGNUP_LARGE":return(0,y.jsx)(s.xu,{children:(0,y.jsx)(s.xu,{marginTop:4,children:e})});case"SIGNUP_SMALL":return(0,y.jsx)(s.xu,{marginTop:3,children:e});case"SIGNUP_WITH_AGE":return(0,y.jsx)(s.xu,{margin:-4,children:(0,y.jsx)(s.xu,{"data-test-id":"login-button",padding:3,children:e})});case"LOGIN_INLINE":return(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(f,{}),(0,y.jsx)(s.xu,{display:"inlineBlock",marginEnd:1,children:e})]});case"LOGIN_SMALL":return(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(f,{}),e]});case"SIGNUP_DEFAULT":case"LOGIN_DEFAULT":return(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(f,{}),(0,y.jsx)(s.xu,{children:e})]});default:return e}};function C({layout:e,onClick:t,shouldHideBusinessCreateFooterLink:o,type:i}){(0,l.useEffect)(()=>{(0,a.Z)("SignupLoginToggleFooter","/app/packages/desktopLoginModal/SignupLoginToggleFooter.tsx")},[]);let n=(0,b.Z)(),r=(0,v.Z)(),{checkExperiment:d}=(0,w.Z)(),c=d("dweb_unauth_fb_login_account_recovery_flow").anyEnabled||d("dweb_unauth_fb_manual_login_dep_ucan").anyEnabled||d("dweb_unauth_fb_manual_login_dep_row").anyEnabled;return(0,y.jsxs)(z,{layout:e,children:[c&&"loginToSignup"===i&&(0,y.jsx)(m.Z,{}),(0,y.jsx)(s.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",children:(0,y.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"center",children:["signupToLogin"===i&&(0,y.jsx)(s.xv,{size:"100",children:n.bt("Уже зарегистрировались?", "Already a member?", "modernized.nux.footer.text", undefined, true)}),(0,y.jsx)(s.xu,{marginStart:1,children:(0,y.jsx)(s.iP,{dataTestId:"login-signup-toggle",onTap:e=>{r({action:"click",item:"email-signup-button"}),t(e.event)},children:(0,y.jsx)(s.xv,{color:"default",size:"100",weight:"bold",children:"signupToLogin"===i&&n.bt("Войти", "Log in", "modernize.nux.switch.to.login.modal", undefined, true)||n.bt("Еще не зарегистрировались в Pinterest? Зарегистрироваться", "Not on Pinterest yet? Sign up", "nux.unauth.user.sign.up.message", undefined, true)})})})]})}),!o&&(0,y.jsx)(E,{type:i}),c&&"loginToSignup"===i&&(0,y.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto",marginTop:4,width:h.N,children:(0,y.jsx)(k.Z,{})})]})}var j=o(424016),L=o(424868),T=o(637539),M=o(919492),I=o(444382),B=o(64606),Z=o(133080),O=o(935833),R=o(144690),F=o(841270);let N=({disablePostSignupNextUrl:e,handleLoginToggleButtonClick:t,loadingIndicatorCallback:o,nextUrlParam:i,registrationCredentials:n,showResponseMessageModal:r})=>{(0,l.useEffect)(()=>{(0,a.Z)("BirthdayCollection","/app/packages/desktopLoginModal/BirthdayCollection.tsx")},[]);let h=(0,b.Z)(),{isRequirementEnabled:m}=(0,R.vI)(),{register:f,viewer:w}=(0,p.Py)(),{refreshToken:P}=(0,B.D)(),[v,S]=(0,l.useState)(!1),[A,E]=(0,l.useState)(!1),[z,N]=(0,l.useState)(!0),[U,D]=(0,l.useState)(!1),[W,V]=(0,l.useState)(""),[G,H]=(0,l.useState)(void 0),q=m({requirementEnum:1,viewType:10}),Q="other";switch(n?.type){case"google":Q="google";break;case"facebook":Q="facebook";break;case"line":Q="line";break;case"sso":Q="sso"}(0,l.useEffect)(()=>{"1"===u.U2(d.It)&&(D(!0),V(h.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.birthdaycollection.ineligible.msg", undefined, true)))},[h,V]),(0,l.useEffect)(()=>{(0,O.My)("dweb.signup_age_step",{type:n?.type,format:"birthday"})},[n?.type]);let $=async t=>{if(!n||!G)return void o(!1);if(q&&!A){o(!1),E(!0);return}let a={};t&&(a={kr_privacy_consent_opt_in:t.kr_privacy_consent_opt_in,marketing_notifs_opt_out:t.marketing_notifs_opt_out});let l={...n.signupOptions,birthday:(0,g.Z)(G),birthday_source_site:M.E_.PINTEREST,...a};try{let t,o={facebook:I.Z.FACEBOOK,google:I.Z.GPLUS,google_one_tap:I.Z.GOOGLE_ONE_TAP,line:I.Z.LINE,sso:I.Z.SSO,socialSignupWithAge:void 0}[n.type];"google"===n.type?t=12981:"google_one_tap"===n.type&&(t=12982),(0,O.Rp)({event:"signup_api_call_start",provider:Q}),await f(l,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,element:t,aux_data:{...(0,x.Z)(w.type),...o?{signup_login_method:o}:Object.freeze({})}}}),(0,O.My)("dweb.birthdaycollection.signup_success"),(0,O.Rp)({event:"signup_api_call_success",provider:Q}),r?r(!0):T.ZP.handleSignupRedirect(i,e)}catch(e){switch((0,O.Rp)({event:"signup_api_call_failure",provider:Q}),P&&P(),e.api_error_code){case L.tz:(0,O.My)("dweb.birthdaycollection.signup_error.underage"),u.t8(d.It,"1",(0,u.kZ)(d.It)),S(!0),E(!1);break;case L.NF:(0,O.My)("dweb.birthdaycollection.signup_error.eu_missing_age"),V(e.message||h.bt("Чтобы предоставлять вам эту услугу, нам необходимо знать ваш возраст.", "We need to know your age to provide you this service.", "signup.birthdaycollection.error.missingAge", undefined, true));break;case L.tL:(0,O.My)("dweb.birthdaycollection.signup_error.overage"),V(e.message||h.bt("Ой! Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "signup.birthdaycollection.error.overage", undefined, true));break;case L.iZ:(0,O.My)("dweb.birthdaycollection.signup_error.invalid_email"),V(h.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", "signup.birthdaycollection.error.invalidEmail", undefined, true));break;case L.Jt:(0,O.My)("dweb.birthdaycollection.signup_error.email_contain_pinterest"),V(h.bt("Используйте свое имя или название бренда", "Please stick to your name, or the name of your brand", "signup.birthdaycollection.error.emailContainsPinterest", undefined, true));break;default:(0,O.My)("dweb.birthdaycollection.signup_error.other"),V(h.bt("К сожалению, возникла техническая проблема.", "Sorry! Something went wrong on our end.", "signup.birthdaycollection.error.other", undefined, true))}}};return A?(0,y.jsx)(s.xu,{"data-test-id":"consents-step-modal",width:484,children:(0,y.jsx)(Z.Z,{isRegistering:!1,onBackButtonClick:()=>E(!1),onSubmitHandler:$,validationError:W})}):v?(0,y.jsx)(j.Z,{birthday:G,onEditBirthday:()=>S(!1)}):(0,y.jsx)(s.xu,{paddingX:5,paddingY:5,children:(0,y.jsx)(s.xu,{paddingX:12,children:(0,y.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,y.jsx)(s.xu,{height:48,marginBottom:1,marginTop:5,width:48,children:(0,y.jsx)(s.Ee,{alt:h.bt("Изображение на тему дня рождения", "Birthday Image", "signup.birthdaycollection.image.alt", undefined, true),naturalHeight:48,naturalWidth:48,src:c})}),(0,y.jsx)(s.xu,{marginBottom:2,children:(0,y.jsx)(s.X6,{align:"center",size:"700",children:h.bt("Укажите дату рождения", "Enter your birthdate", "signup.birthdaycollection.title", undefined, true)})}),(0,y.jsx)(s.xu,{marginBottom:4,width:310,children:(0,y.jsx)(s.xu,{marginBottom:4,children:(0,y.jsx)(s.xv,{align:"center",children:h.bt("Чтобы позаботиться о безопасности сообщества Pinterest, нам нужно знать дату вашего рождения. Зная вашу дату рождения, мы можем предоставлять вам более персонализированные рекомендации и актуальные объявления. Мы не передаем эту информацию без вашего разрешения, и она не будет видна в вашем профиле.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "signup.birthdaycollection.subheader1", undefined, true)})})}),(0,y.jsx)(s.xu,{marginBottom:4,width:280,children:(0,y.jsx)(s.nv,{autoComplete:"bday",disabled:U,errorMessage:W,id:"birthday",onChange:({value:e})=>{V(""),N(!e),H(e)},size:"lg",type:"date",value:G||""})}),(0,y.jsx)(s.xu,{marginBottom:10,width:280,children:(0,y.jsx)(s.xv,{align:"center",color:"subtle",children:(0,_.ML)(h)})}),(0,y.jsx)(s.xu,{marginBottom:3,width:280,children:(0,y.jsx)(s.zx,{color:"red",disabled:z,fullWidth:!0,onClick:()=>{if((0,O.Rp)({event:"submit_birthday",provider:Q}),G&&!(0,_.Cd)(G,F.kx))return void V((0,_.Uy)(h));$({})},text:h.bt("Создать аккаунт", "Create account", "signup.birthdaycollection.submit_label", undefined, true)})}),(0,y.jsx)(s.xu,{marginBottom:9,marginTop:2,width:340,children:(0,y.jsx)(k.Z,{isSignupStep:!0})}),(0,y.jsx)(s.xu,{marginBottom:2,children:(0,y.jsx)(C,{layout:"SIGNUP_LARGE",onClick:()=>t(),type:"signupToLogin"})})]})})})};var U=o(374217),D=o(774838);function W({disablePostSignupNextUrl:e,onBackButtonClick:t,nextUrlParam:o,onBirthdayUnderage:i,onOtpRequired:s,registrationCredentials:n}){(0,l.useEffect)(()=>{(0,a.Z)("ConsentStepDesktop","/app/packages/desktopLoginModal/ConsentStepDesktop.tsx")},[]);let r=(0,b.Z)(),c=(0,D.B)(),{recaptchaV3Token:_,refreshToken:g}=(0,B.D)(),{register:h,viewer:m}=(0,p.Py)(),[f,w]=(0,l.useState)(!1),[P,k]=(0,l.useState)(""),v="email";switch(n?.signupOptions.type){case"google":v="google";break;case"facebook":v="facebook";break;case"line":v="line";break;case"sso":v="sso"}let S=async({kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:a})=>{w(!0);let l={...n.signupOptions,country:c.country,recaptchaV3Token:_,kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:a},p={};if("email"===n.signupOptions.type){if(n.signupOptions.emailVerificationRequired)return void s({type:"otpSignupViaEmail",signupOptions:{...n.signupOptions,kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:a}});p={first_name:(0,U.Z)(n.signupOptions.email||"",c.country),last_name:""}}try{let t={facebook:I.Z.FACEBOOK,google:I.Z.GPLUS,google_one_tap:I.Z.GOOGLE_ONE_TAP,line:I.Z.LINE,sso:I.Z.SSO,socialSignupWithAge:void 0,consent:void 0}[n.type];(0,O.Rp)({event:"signup_api_call_start",provider:v}),await h({...l,...p},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,aux_data:{...(0,x.Z)(m.type),...t?{signup_login_method:t}:Object.freeze({})}}}),(0,O.My)("dweb.consentStep.signup_success"),(0,O.Rp)({event:"signup_api_call_success",provider:v}),T.ZP.handleSignupRedirect(o,e)}catch(e){switch(w(!1),(0,O.Rp)({event:"signup_api_call_failure",provider:v}),g&&g(),e.api_error_code){case L.tz:(0,O.My)("dweb.consentStep.signup_error.underage"),u.t8(d.It,"1",u.kZ(d.It)),"email"===n.signupOptions.type&&i({email:n.signupOptions.email,birthday:new Date(1e3*n.signupOptions.birthday).toISOString().split("T")[0]});break;case L.NF:(0,O.My)("dweb.consentStep.signup_error.eu_missing_age"),k(e.message||r.bt("Чтобы предоставлять вам эту услугу, нам необходимо знать ваш возраст.", "We need to know your age to provide you this service.", "signup.consentStep.error.missingAge", undefined, true));break;case L.tL:(0,O.My)("dweb.consentStep.signup_error.overage"),k(e.message||r.bt("Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "signup.consentStep.error.overage", undefined, true));break;case L.iZ:(0,O.My)("dweb.consentStep.signup_error.invalid_email"),k(r.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", "signup.consentStep.error.invalidEmail", undefined, true));break;case L.Jt:(0,O.My)("dweb.consentStep.signup_error.email_contain_pinterest"),k(r.bt("Используйте свое имя или название бренда", "Please stick to your name, or the name of your brand", "signup.consentStep.error.emailContainsPinterest", undefined, true));break;default:(0,O.My)("dweb.consentStep.signup_error.other"),k(r.bt("Возникла техническая проблема.", "Sorry! Something went wrong on our end.", "signup.consentStep.error.other", undefined, true))}}};return(0,y.jsx)(Z.Z,{isRegistering:f,onBackButtonClick:()=>{t()},onSubmitHandler:S,validationError:P})}var V=o(312048),G=o(987704),H=o(746868),q=o(562400),Q=o(441579),$=o(227852),K=o(222126),Y=o(826265),X=o(745500),J=o(483359),ee=o(832633),et=o(36796),eo=o(470205),ei=o(236269),ea=o(47755),el=o(924591),es=o(877725),en=o(190970),er=o(943982),ed=o(904278),ec=o(856639),e_=o(825605),eu=o(577356),eg=o(739405),ep=o(659856),eh=o(106338),em=o(496883);function ey(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let ef=(0,l.lazy)(()=>o.e("5212").then(o.bind(o,639976))),ex="emailpwdstep";class eb extends l.Component{constructor(e){super(e),ey(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e(!1),this.setState({accountRecoveryModalType:Q.w[L.an]})}),ey(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),ey(this,"setLoadingState",e=>{let{loadingIndicatorCallback:t,showSignupWelcomeLoadingFn:o}=this.props;return o&&!1===e&&o(!1),t(e)}),ey(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),ey(this,"debouncedCheckIfSsoUser",(0,q.Z)(async e=>{(0,eh.Z)(e??"",[(0,em.aH)({message:"invalid email"}),(0,em.GT)({message:"invalid email"})])?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),ey(this,"handleEmailChange",e=>{this.props.setEmail(e.target.value),this.setState({hideFBGoogleToolTip:!0}),this.props.setEmailErrorForMagicLink?.(""),this.debouncedCheckIfSsoUser(e.target.value)}),ey(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setEmailErrorForMagicLink?.(""),this.props.setPassword(e.target.value)}),ey(this,"handleEmailSignUp",e=>{let{authenticateWithSso:t,email:o,navigate:i,handleSsoRedirect:a,i18n:l}=this.props,{isSsoEmail:s,exchangeCodeToTokenUrl:n,existingUserSso:r,existingUserIsSso:d,ssoAuthorizationUri:c}=this.state;if(s)if(r){if(d){this.props.logContextEvent({event_type:102,view_parameter:3271,element:14367}),t({callbacks:{success:e=>{let{authCode:t,state:o}=e,{container:i,email:a,login:l,pageContext:s}=this.props;if(a&&t){let e={sso_user_email:a,sso_auth_code:t,sso_state:o};l({creds:e,loggingOptions:{loggingData:{container:i,page:s?.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(()=>this.handleLoginSuccess(e),t=>{(0,O.My)(`unauth.login.sso.loginError.${ex}`,{code:t.api_error_code,message:t.message}),this.handleLoginFailure(t,e)})}},error:e=>{(0,O.My)(`unauth.login.sso.error.${ex}`,{code:e.api_error_code,message:e.message}),(0,K.x)(l.bt("Возникла техническая проблема.", "Sorry! Something went wrong on our end.", "emailPasswordStep.errorMessage.sso.login", undefined, true)),this.setLoadingState(!1)}},exchangeCodeToTokenUrl:n,isLogin:!0,modalUrl:c??""});return}}else{a&&a(),(0,er.i)(o,i);return}(0,O.My)("unauth_email_validation_attempt"),this.props.trackInteraction({action:"click",item:"email-signup-button"});let _=(0,eh.Z)(this.props.email??"",this.emailValidators);if(_)this.setState({emailValidationError:_}),(0,O.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${ex}`);else{let t=(0,eh.Z)(this.props.password??"",this.asciiValidators);t&&(this.setState({passwordValidationError:t}),(0,O.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${ex}`)),(_=(0,eh.Z)(this.props.password??"",this.loginPasswordValidators))?(this.setState({passwordValidationError:_}),(0,O.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${ex}`)):(this.setState({passwordValidationError:null}),this.validateEmailAvailable(e)),this.setState({emailValidationError:null}),this.props.setNameFromEmail()}}),ey(this,"register",({birthday:e,progressToken:t},o)=>{let{container:i,email:a,name:l,pageContext:s,password:n,onBirthdayUnderage:r,requestContext:c,signupSource:_,register:g,i18n:p}=this.props,h={type:"email",birthday:e,email:a,password:n,country:c.country,first_name:l,last_name:"",recaptchaV3Token:this.props.recaptchaV3Token||"default"};o?.current&&(h.fingerprintData=o),t&&(h.progress_token=t);let m={container:i,page:s?.pageType,signupSource:_};(0,O.Rp)({event:"signup_api_call_start",provider:"email"}),g(h,{signupContext:m,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}).then(()=>{let{showResponseMessageModal:e}=this.props;(0,O.My)("unauth.signup_one_step.completed"),(0,O.Rp)({event:"signup_api_call_success",provider:"email"}),e?e(!0):T.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl)},e=>{if(this.setLoadingState(!1),!(0,ei.Z)(e,"isArkoseChallengeRequired"))switch((0,O.Rp)({event:"signup_api_call_failure",provider:"email"}),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),(0,ei.Z)(e,"api_error_code")){case L.tz:u.t8(d.It,"1"),r?r({birthday:this.props.birthday,email:a}):this.showUnderAgeError((0,ei.Z)(e,"message"));break;case L.NF:this.setState({birthdayValidationError:(0,ei.Z)(e,"message")||p.bt("Чтобы предоставлять вам эту услугу, нам необходимо знать ваш возраст.", "We need to know your age to provide you this service.", "userRegistration.missingAgeError", undefined, true)});break;case L.tL:this.setState({birthdayValidationError:(0,ei.Z)(e,"message")||p.bt("Ой! Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "userRegistration.overageError", undefined, true)});break;case L.iZ:(0,O.My)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:p.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", " - ", undefined, true)});break;case L.Jt:(0,O.My)("unauth_show_invalid_email_contains_pinterest"),this.setState({emailValidationError:p.bt("Выберите свое имя или название своей марки", "Please stick to your name, or the name of your brand", " - ", undefined, true)});break;default:(0,K.x)(p.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true))}})}),ey(this,"checkEmailExistsWithCompletion",async({birthday:e,email:t,handleEmailExists:o,handleEmailNotExist:i,handleError:a})=>{let{i18n:l,isDesktop:s,checkExperiment:n}=this.props;try{let a=e?(0,g.Z)(e):void 0,{progressToken:r,userExists:c,fieldsValidationResponse:_}=await (0,es.Z)({email:t,birthday:a,checkExperiment:n,isDesktop:s});if(this.setState({emailValidationError:null}),c)o();else{if(_){let{birthdate:e,email:o}=_;if(!o.isValid){this.setLoadingState(!1),(0,O.My)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:l.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", " - ", undefined, true)});return}if(e&&!e.isValid){let{isUnderage:o}=e;if(o){u.t8(d.It,"1");let{onBirthdayUnderage:e}=this.props;e?e({birthday:this.props.birthday,email:t}):(this.setLoadingState(!1),this.showUnderAgeError());return}this.setLoadingState(!1),this.setState({birthdayValidationError:l.bt("Ой! Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "userRegistration.overageError", undefined, true)});return}}i({emailVerificationRequired:_?.email.isOTPRequired??!1,progressToken:r,skipMailgunValidation:!!_})}}catch(t){let e=l.bt("Хм… Это не похоже на адрес электронной почты", "Hmm...that doesn't look like an email address", " - ", undefined, true);(0,ei.Z)(t,"api_error_code")===L.bd?e=(0,ei.Z)(t,"message"):(0,eh.Z)(this.props.email,this.asciiValidators)&&(0,O.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${ex}`),this.setState({emailValidationError:e}),a?.()}}),ey(this,"checkEmailValidation",async e=>{let{i18n:t,showToast:o}=this.props;if((0,et.Z)(e)||(0,et.z)(e,"yahoo")||(0,et.z)(e,"hotmail"))return void this.setState({emailValidationError:t.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)});try{let{data:o}=(await (0,ea.Z)({url:"/v3/email/validation/",data:{email:e}})).resource_response||{};o&&o.is_valid?this.setState({emailValidationError:null}):this.setState({emailValidationError:t.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)})}catch(e){e?.message?o(({hideToast:t})=>(0,y.jsx)(el.Z,{duration:3e3,onHide:t,text:e.message||"",type:"error"})):(0,O.My)(`unauth.login.error.${ex}.ERROR${e.api_error_code}`)}}),ey(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),ey(this,"renderSignupForm",()=>{let{birthday:e,email:t,emailErrorForMagicLink:o,i18n:i,onBirthdayChange:a,password:l,suppressFocus:n,viewType:r,viewParameter:c,component:g,attributionLabel:p,trackConversionUpsell:h,emailSignUpButtonSize:m}=this.props,{birthdayValidationError:f,isSsoEmail:x,existingUserSso:b,existingUserIsSso:w}=this.state,P=x&&(!b||b&&w),k=(0,_.Uy)(i);return this.state.showRegisterForm?(0,y.jsx)(X.Z,{attributionLabel:p,buttonText:P?i.bt("Продолжить с помощью единого входа", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true):i.bt("Продолжить", "Continue", "Continue button on web", undefined, true),buttonTextLabel:i.bt("Продолжить создание аккаунта Pinterest", "Continue creating your Pinterest account", "Accessiblity button text to continue creating an account", undefined, true),component:g,email:t,emailFieldHasError:this.state.emailFieldHasError,emailLabel:i.bt("Ввести адрес электронной почты", "Continue with email", "Sign up button", undefined, true),emailText:i.bt("Введите адрес эл. почты", "Email", "Text on button asking for email", undefined, true),emailValidationError:o||this.state.emailValidationError,isSsoEmail:P,onButtonClick:(t,o)=>"1"===u.U2(d.It)?void this.showUnderAgeError():e&&!(0,_.Cd)(e,F.kx)?void this.setState({birthdayValidationError:k}):void(this.setState({googleValidationError:null,hideFBGoogleToolTip:!1}),this.handleEmailSignUp(o)),onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:l??"",passwordText:i.bt("Создайте пароль", "Create a password", "Text asking the user to create a password while registering", undefined, true),passwordValidationError:this.state.passwordValidationError,signupForm:{birthdayProps:{birthday:e,birthdayValidationError:f,disabled:"1"===u.U2(d.It),setBirthdayValidationError:e=>this.setState({birthdayValidationError:e}),onBirthdayChange:a},checkEmailExistsWithCompletion:this.checkEmailExistsWithCompletion,checkEmailValidation:this.checkEmailValidation,registerRestricted:"1"===u.U2(d.It)},suppressFocus:n,viewParameter:c,viewType:r}):(0,y.jsx)(s.xu,{"data-test-id":"emailSignUpButton",children:(0,y.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:()=>{h({element:13506,eventType:14689}),(0,O.NC)("signup_email_button"),this.props.trackInteraction({action:"click",item:"email-signup-button",within:"bottom-right-upsell"}),this.props.onEmailContinueClick?.(),this.setState({showRegisterForm:!0})},size:m,text:i.bt("Ввести адрес электронной почты", "Continue with email", "Text on the sign up button for signing up with email", undefined, true)})})}),ey(this,"showUnderAgeError",e=>{let{i18n:t}=this.props;this.setState({birthdayValidationError:e||t.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Error message shown when underage user tries to register", undefined, true)})});let t=new URLSearchParams(e.location.search),o=parseFloat(t.get("aec")||"0");t.delete("aec"),t.size>0&&`?${t.toString()}`!==e.location.search&&e.navigate(e.location.pathname+"?"+t.toString(),{replace:!0}),this.state={accountRecoveryModalType:o===L.yV||o===L.$j?T.Ny.SOFT_BANNED:null,birthdayValidationError:null,emailFieldHasError:!1,emailValidationError:null,googleValidationError:null,passwordValidationError:null,showRegisterForm:"home_page"===this.props.container||"lopBoardUpsell"===this.props.container||"lopDownloadUpsell"===this.props.container,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:i}=e;this.emailValidators=[(0,em.aH)({message:i.bt("Вы кое-что забыли! Укажите свой адрес электронной почты.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true)}),(0,em.GT)({message:i.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm...that doesn't look like an email address.", " - ", undefined, true)})];let a=i.bt("Слишком короткий пароль. Он должен содержать не менее 6 символов.", "Your password is too short! You need 6+ characters.", " - ", undefined, true),l=i.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "EmailPasswordStep.password.onlyASCII", undefined, true);this.requireBirthdayValidatorMessage=i.bt("Вы кое-что забыли. Добавьте дату рождения.", "You missed a spot. Don’t forget to add your birthday.", "signup.emailpasswordstep.birthday.require.validator_message", undefined, true);let n=i.bt("Недействительная дата", "Invalid date", "signup.emailpasswordstep.birthday.validator_message", undefined, true);this.asciiValidators=[(0,em.oR)({message:l})],this.loginPasswordValidators=[(0,em.aH)({message:a}),(0,em.oR)({message:l}),(0,em.Gy)({min:6,minErrorString:a})],this.birthdayValidators=[(0,em.aH)({message:this.requireBirthdayValidatorMessage}),(0,em.C9)({date:new Date(new Date().getFullYear(),0,1),message:n})]}componentDidMount(){(0,a.Z)("EmailPasswordStep","/app/packages/desktopLoginModal/EmailPasswordStep.tsx"),this.props.email&&this.checkIfSsoUser()}handleLoginFailure(e,t){let{setPassword:o,email:i,onLoginWithMfa:a,i18n:l}=this.props;if(e.isArkoseChallengeRequired)return void this.setLoadingState(!1);let s=e.http_status===ec.Ej?ec.Ej:e.api_error_code;if(s===L.Zn)return void T.ZP.handleLoginMfa(t,{phoneNumberEnd:e.data?.phone_number_end},a);let n=(0,en.Z)({error:e,source:"emailPasswordStep",onClickPasswordReset:()=>{this.props.trackInteraction({action:"click",item:"password-reset-link"}),(0,ea.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i,type:"reset"}}).then(()=>this.updateAccountRecoveryModal(T.Ny.PASSWORD_RESET_SENT))}});n?(this.setState({...n,accountRecoveryModalType:s?Q.w[s]:void 0}),n.passwordValidationError&&o("")):(0,K.x)(l.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setLoadingState(!1)}handleLoginSuccess(e){T.ZP.storeLoginCredentialsToBrowser(e);let{showResponseMessageModal:t}=this.props;t?t(!1):this.props.nextUrlParam?T.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}signupLoginContextEvent(e){let{viewer:t}=this.props,{isSsoEmail:o,existingUserSso:i,existingUserIsSso:a}=this.state;return{event_type:e,aux_data:{...(0,x.Z)(t.type),signup_login_method:o&&(!i||i&&a)?I.Z.SSO:I.Z.EMAIL}}}validateEmailAvailable(e){let{birthday:t,container:o,email:i,login:a,pageContext:l,password:s}=this.props;this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),this.setLoadingState(!0),this.checkEmailExistsWithCompletion({email:i,birthday:t,handleEmailExists:()=>{let t={username_or_email:i,password:s??""};a({creds:t,loggingOptions:{loggingData:{container:o,page:l?.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default",fingerprintData:e}).then(()=>this.handleLoginSuccess(t),e=>this.handleLoginFailure(e,t))},handleEmailNotExist:async({emailVerificationRequired:t,progressToken:o,skipMailgunValidation:a})=>{a||await this.checkEmailValidation(i);let{birthday:l,password:s,isConsentStepNeeded:n,onConsentStepNeeded:r,onOtpRequired:d}=this.props;if(this.setLoadingState(!1),this.state.emailValidationError)return;let c=await this.props.getPasswordValidationRules({}),_=await (0,eh.U)(s??"",c);if(_){this.setState({passwordValidationError:_}),(0,O.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${ex}`);return}let u=(0,eh.Z)(l||"",this.birthdayValidators);if(u){(0,O.My)(`unauth.login.error.CLIENT_ERROR.invalidbirthday.${ex}`),this.setState({birthdayValidationError:u});return}let p=l?(0,g.Z)(l):void 0;return void 0===p?void this.setState({birthdayValidationError:this.requireBirthdayValidatorMessage}):(0,et.Z)(i)?void this.setState({emailFieldHasError:!0}):(this.setState({emailValidationError:null}),(0,O.My)("unauth.signup_step_1.completed"),n&&r)?void r({type:"consent",signupOptions:{type:"email",email:i,password:s,birthday:p,emailVerificationRequired:t,progressToken:o}}):t?void d({type:"otpSignupViaEmail",signupOptions:{type:"email",email:i,password:s,birthday:p,progress_token:o}}):void this.register({birthday:p,progressToken:o},e)}})}render(){let{additionalChildren:e,container:t,email:o,loadingIndicatorCallback:i,nextUrlParam:a,onLoginWithMfa:n,switchToSocialSignupWithAgeFlow:r,showLineConnectButton:d,showResponseMessageModal:c,trackConversionUpsell:_,width:u=268}=this.props,{accountRecoveryModalType:g,googleValidationError:p,hideFBGoogleToolTip:h,showRegisterForm:m}=this.state,f=e=>{_({element:e,eventType:14689})};return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:u,children:[(0,y.jsx)(Q.Z,{email:o,modalType:g,onLoginWithMfa:n,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,y.jsxs)(s.xu,{children:[this.renderSignupForm(),!!m&&!this.state.isSsoEmail&&(0,y.jsx)($.Z,{}),!this.state.isSsoEmail&&(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[(0,y.jsx)(s.xu,{children:(0,y.jsx)(Y.Z,{container:t,nextUrlParam:a,onClick:()=>{f(13504)},onLoginWithMfa:n,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(T.Ny.RATE_LIMITED),showResponseMessageModal:c,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:r},tooltip:!h&&"string"==typeof p&&p||null},m?"register-form-shown":"register-form-hidden")}),d&&(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(s.xu,{height:10}),(0,y.jsx)(eo.Z,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,y.jsx)(e_.Z,{children:(0,y.jsx)(ef,{container:t,loadingIndicatorCallback:i,nextUrlParam:a,onClick:()=>{f(13507)},onLoginWithMfa:n,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(T.Ny.RATE_LIMITED),showResponseMessageModal:c,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:r}})})})]})]})]}),!this.props.hideTermsOfService&&(0,y.jsx)(k.Z,{isSignupStep:!0}),e]})}}function ew(e){(0,l.useEffect)(()=>{(0,a.Z)("EmailPasswordStep","/app/packages/desktopLoginModal/EmailPasswordStep.tsx")},[]);let{password:t,setPassword:o,birthday:i,setBirthday:s}=e,n=(0,ee.a2)(),d=(0,D.B)(),{showToast:c}=(0,eu.dI)(),{register:_,viewer:u}=(0,p.Py)(),g=(0,J.Z)(),h=(0,r.Z)(),m=(0,eg.HG)(),{viewType:f,viewParameter:x}=(0,H.SU)(),P=(0,v.Z)(),k=(0,b.Z)(),{country:A}=d,E=(0,V.TH)(),z=(0,V.s0)(),{recaptchaV3Token:C,refreshToken:j}=(0,B.D)(),[L,T]=(0,l.useState)(""),{trackConversionUpsell:M}=(0,S.Z)(),{checkExperiment:I}=(0,w.Z)(),{authenticateWithSso:Z,verifySsoUser:O}=(0,ed.ZP)(),F=(0,ep.Z)(),{isRequirementEnabled:N}=(0,R.vI)(),W=N({requirementEnum:1,viewType:10}),{isLoadingFingerprintContext:q}=(0,G.f)()??{isLoadingFingerprintContext:!1};return(0,l.useEffect)(()=>{e.loadingIndicatorCallback(q)},[q]),(0,y.jsx)(eb,{...e,attributionLabel:e.attributionLabel,authenticateWithSso:Z,birthday:i,checkExperiment:I,getPasswordValidationRules:F,i18n:k,isConsentStepNeeded:W,isDesktop:m,location:E,logContextEvent:h,login:g,name:L,navigate:z,onBirthdayChange:e=>s(e.value),pageContext:n,password:t,recaptchaV3Token:C,refreshRecaptchaV3Token:j,register:_,requestContext:d,setNameFromEmail:()=>T((0,U.Z)(e.email,A)),setPassword:o,showLineConnectButton:"JP"===A,showToast:c,trackConversionUpsell:M,trackInteraction:P,verifySsoUser:O,viewer:u,viewParameter:x,viewType:f})}var eP=o(938598),ek=o(819239);let ev=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:n})=>{(0,l.useEffect)(()=>{(0,a.Z)("FacebookEmailCollectionForm","/app/packages/desktopLoginModal/FacebookEmailCollectionForm.tsx")},[]);let r=(0,b.Z)();(0,l.useEffect)(()=>{(0,O.My)("unauth.fb_phone_only_signup.email_step")},[]),r.bt("Мы используем ваш адрес электронной почты для создания аккаунта, а также для отправки важных уведомлений о безопасности и правовых нормах.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let d=r.bt("Ой. Мы не можем создать для вас аккаунт без адреса электронной почты. Укажите его, чтобы продолжить.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,y.jsx)(s.xu,{marginTop:3,children:(0,y.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),n()},children:[(0,y.jsx)(s.xv,{align:"start",overflow:"normal",children:d}),(0,y.jsx)(s.xu,{marginTop:3}),(0,y.jsx)(s.xu,{children:(0,y.jsx)(s.nv,{ref:ek.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:r.bt("Адрес эл. почты", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,y.jsx)(s.xu,{marginTop:5}),(0,y.jsx)(s.zx,{color:"red",disabled:!e,fullWidth:!0,text:r.bt("Продолжить", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,y.jsx)(s.xu,{marginTop:2}),(0,y.jsx)(s.zx,{fullWidth:!0,onClick:()=>{(0,O.My)("unauth.fb_phone_only_signup.email_step.not_now_click"),o&&o()},text:r.bt("Не сейчас", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})},eS=e=>({type:"facebook",first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.picture&&!e.picture.data.is_silhouette?e.picture.data.url:void 0,facebook_id:e.id,facebook_token:e.access_token,birthday:e.birthday?(0,g.Z)(e.birthday):void 0});var eA=o(160125);function eE(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let ez="email";class eC extends l.Component{constructor(e){super(e),eE(this,"mounted",!1),eE(this,"handleEmailChange",({value:e})=>{this.setState({email:e})}),eE(this,"showError",(e,t)=>{this.mounted&&t===ez&&this.setState({emailError:e})}),eE(this,"handleSubmit",()=>{let{i18n:e}=this.props;if((0,O.My)("unauth.fb_phone_only_signup.submit_email"),(0,O.Rp)({event:"submit_email",provider:"facebook"}),this.state.email)(0,O.My)("unauth.fb_phone_only_signup.submit_email"),this.attemptEmailSignupOrLogin();else{let t=e.bt("Укажите адрес электронной почты", "Email is required", "email error message", undefined, true);this.setState({emailError:t})}}),eE(this,"handleSignupSuccess",()=>{T.ZP.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0),(0,O.My)("unauth.fb_phone_only_signup.signup_success"),(0,O.Rp)({event:"signup_api_call_success",provider:"facebook"})}),eE(this,"handleSignupFailure",e=>t=>{let{i18n:o}=this.props,i=t.message||o.bt("Ой! Произошла ошибка… Нажмите «Продолжить», чтобы повторить попытку.", "Oops! Something went wrong… Click Continue to try again.", "Error during signup during FB email collection step", undefined, true);this.showError(i,e),(0,O.My)("unauth.fb_phone_only_signup.signup_failure"),(0,O.Rp)({event:"signup_api_call_failure",provider:"facebook"})}),eE(this,"attemptEmailSignupOrLogin",()=>{let{desktopCoreLoginContext:{register:e},i18n:t}=this.props,{email:o}=this.state,i=[(0,em.GT)({message:t.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],a=(0,eh.Z)(o,i);if(a){(0,O.My)("unauth.fb_phone_only_signup.email_validation_failure"),this.setState({emailError:a});return}let{registrationCredentials:{type:l,signupOptions:s},showSocialSignupWithAgeStep:n,showEmailAlreadyExistModal:r}=this.props;(0,ea.Z)({url:"/v3/register/exists/",data:{email:o}}).then(t=>{if(!1===t.resource_response.data){let t={...s,email:o,email_source_site:M.E_.PINTEREST},{birthday:i}=t;void 0!==i&&(0,eP.Z)(i)?((0,O.Rp)({event:"signup_api_call_start",provider:"facebook"}),(t.facebook_token?(0,eA.MI)(t.facebook_token).then(eS):Promise.resolve(Object.freeze({}))).then(o=>{let{isConsentStepNeeded:a,onConsentStepNeeded:l}=this.props;if(a)return void l({type:"consent",signupOptions:{...o,...t,birthday:i,birthday_source_site:M.E_.FACEBOOK}});e({...o,...t,birthday:i,birthday_source_site:M.E_.FACEBOOK},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(this.handleSignupSuccess,()=>this.handleSignupFailure(ez))})):n({type:l,signupOptions:t})}else r({email:o}),(0,O.My)("unauth.fb_phone_only_signup.email_existed")},e=>{let o=(0,ei.Z)(e,"api_error_code")===L.bd?(0,ei.Z)(e,"message")??"":t.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true);this.showError(o,ez),(0,O.My)("unauth.fb_phone_only_signup.email_exist_api_call_failure")})}),this.state={email:"",emailError:""}}componentDidMount(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}componentWillUnmount(){this.mounted=!1}render(){return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:(0,y.jsx)(ev,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick})})}}let ej=e=>{(0,l.useEffect)(()=>{(0,a.Z)("FacebookEmailCollection","/app/packages/desktopLoginModal/FacebookEmailCollection.tsx")},[]);let t=(0,p.Py)(),o=(0,D.B)(),i=(0,b.Z)(),{isRequirementEnabled:s}=(0,R.vI)(),n=s({requirementEnum:1,viewType:10});return(0,y.jsx)(eC,{...e,desktopCoreLoginContext:t,i18n:i,isConsentStepNeeded:n,requestContext:o})};var eL=o(157459);let eT=({onClick:e,zIndex:t})=>{(0,l.useEffect)(()=>{(0,a.Z)("FullPageSignupBackButton","/app/packages/desktopLoginModal/FullPageSignupBackButton.tsx")},[]);let o=(0,D.B)(),i=(0,b.Z)();return(0,y.jsx)(s.xu,{"data-test-id":"full-page-signup-back-button",display:"block",height:40,left:!o.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:o.isRTL,top:!0,width:40,zIndex:t?new s.Ry(t):void 0,children:(0,y.jsx)(s.hU,{accessibilityLabel:i.bt("Назад", "Go back", "dweb.desktopLoginModal.backButton.accessibilityLabel", undefined, true),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"})})};var eM=o(847771),eI=o(167912),eB=o(440077),eZ=o(319226),eO=o(124631),eR=o(317109),eF=o(520803);let eN=(void 0!==i||(i=o(45364)).hash&&"672f6a12645b2a47bca8385aab15e1dd"!==i.hash&&console.error("The definition of 'FullPageSignupIconPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),eU=({children:e,pinId:t})=>{let o=(0,eI.useLazyLoadQuery)(eN,{pinId:t}),i=o.v3GetPinQuery?.__typename==="V3GetPin"?o.v3GetPinQuery?.data:null,a={"236x":i?.imageSpec_236x?.url??""};return e({pinImageUrl:(0,eO.Z)({imagesUrls:a,embedSrc:i?.embed?.src,embedType:i?.embed?.type,preferredResolution:"236x",excludeOriginals:!0}),dominantColor:i?.dominantColor??""})},eD=({fallback:e,pinId:t,pinImageUrl:o,iconButton:i})=>{let a=(0,b.Z)();return t?(0,y.jsxs)(s.xu,{"data-test-id":"signup-image-wrapper",height:80,margin:"auto",position:"relative",width:82,children:[(0,y.jsx)(s.xu,{height:72,margin:"auto",marginBottom:6,marginTop:4,width:56,children:(0,y.jsx)(s.zd,{height:72,rounding:2,width:56,children:t&&!o?(0,y.jsx)(eU,{pinId:t,children:({dominantColor:e,pinImageUrl:t})=>(0,y.jsx)(s.Ee,{alt:a.bt("Сохранить изображение пина", "Save pin image", "FullPageSignup.signupImage.savePinImage", undefined, true),color:e||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}):(0,y.jsx)(s.Ee,{alt:a.bt("Сохранить изображение пина", "Save pin image", "FullPageSignup.signupImage.savePinImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})}),!!i&&(0,y.jsx)(s.xu,{bottom:!0,position:"absolute",right:!0,children:i})]}):e};function eW({container:e,fallback:t,savePinId:o,savePinImageUrl:i,user:n,signupSource:r}){(0,l.useEffect)(()=>{(0,a.Z)("FullPageSignupIcon","/app/packages/desktopLoginModal/FullPageSignupIcon.tsx")},[]);let d=(0,b.Z)(),{path:c}=(0,eF.Z)(),_=(0,V.TH)(),u=(0,v.Z)(),g=o||(c.startsWith("/pin/:id")?_.pathname.split("/")[2]:null);switch(e){case"follow":return(0,y.jsx)(s.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:8,children:(0,y.jsx)(eZ.qE,{accessibilityLabel:d.bt("Аватар пользователя", "User Avatar", "profile.ProfileHeader.Avatar", undefined, true),color:n?.avatar_color_index,name:n?.full_name??"",outline:!0,size:"md",src:n?.image_large_url??""})});case"save":case"download":return g?(0,y.jsx)(eR.Z,{fallback:t,children:(0,y.jsx)(eD,{fallback:t,iconButton:"downloadImageBtnUnauth"===r?(0,y.jsx)(s.zd,{rounding:"circle",children:(0,y.jsx)("div",{"aria-hidden":"true",onClick:()=>{u({action:"click",item:"download-image-button",within:"unauth-signup-modal"})},children:(0,y.jsx)(s.xu,{alignItems:"center",color:"lightWash",dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",border:`3px solid  ${eB.UTl}`}},direction:"column",display:"flex",height:32,justifyContent:"center",rounding:"circle",width:32,children:(0,y.jsx)(s.JO,{accessibilityLabel:d.bt("Зарегистрируйтесь, чтобы скачать", "Sign up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true),color:"default",icon:"download"})})})}):null,pinId:g,pinImageUrl:i})}):t;default:return t}}var eV=o(931260);function eG({large:e}){return(0,l.useEffect)(()=>{(0,a.Z)("FullPageSignupLogo","/app/packages/desktopLoginModal/FullPageSignupLogo.tsx")},[]),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto 6px"}},display:"block",height:45,width:45,children:(0,y.jsx)(eV.Z,{size:e?50:40})})}class eH extends l.Component{constructor(...e){var t,o,i;super(...e),t="componentDidMount",o=()=>{let{container:e,modalType:t}=this.props;(0,O.My)("web.unauth.modal_title.view"),(0,O.My)(`unauth_web_modal.${e||"unknown"}.tier1.${t}.shown`)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{container:e,titleText:t,visualRefreshTypography:o}=this.props,i="32px",a=600;return o?(i="28px",a=700):"revamped_business_login_page"===e&&(i="28px",a=500),(0,y.jsx)("h1",{style:{color:"#333",fontSize:i,fontWeight:a,letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",padding:"revamped_business_login_page"===e?"0px 0px":"0px 16px",WebkitFontSmoothing:"antialiased",wordBreak:"keep-all",overflowWrap:"break-word"},children:t})}componentDidMount(){(0,a.Z)("FullPageSignupTitle","/app/packages/desktopLoginModal/FullPageSignupTitle.tsx")}}var eq=o(797502),eQ=o(893957);let e$=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:n})=>{(0,l.useEffect)(()=>{(0,a.Z)("LineEmailCollectionForm","/app/packages/desktopLoginModal/LineEmailCollectionForm.tsx")},[]);let r=(0,b.Z)();(0,eQ.Z)(()=>{(0,O.My)("unauth.line_missing_email.email_step")}),r.bt("Мы используем ваш адрес электронной почты для создания аккаунта, а также для отправки важных уведомлений о безопасности и правовых нормах.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let d=r.bt("Ой. Мы не можем создать для вас аккаунт без адреса электронной почты. Укажите его, чтобы продолжить.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,y.jsx)(s.xu,{marginTop:3,children:(0,y.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),n()},children:[(0,y.jsx)(s.xv,{align:"start",overflow:"normal",children:d}),(0,y.jsx)(s.xu,{marginBottom:5,marginTop:3,children:(0,y.jsx)(s.nv,{ref:ek.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:r.bt("Адрес эл. почты", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,y.jsx)(s.zx,{color:"red",disabled:!e,fullWidth:!0,text:r.bt("Продолжить", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,y.jsx)(s.xu,{marginTop:2}),(0,y.jsx)(s.zx,{fullWidth:!0,onClick:()=>{(0,O.My)("unauth.line_missing_email.email_step.not_now_click"),o&&o()},text:r.bt("Не сейчас", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})},eK=({nextUrlParam:e,loadingIndicatorCallback:t,showEmailAlreadyExistModal:o,onNotNowClick:i,registrationCredentials:n,showSocialSignupWithAgeStep:r})=>{(0,l.useEffect)(()=>{(0,a.Z)("LineEmailCollection","/app/packages/desktopLoginModal/LineEmailCollection.tsx")},[]);let d=(0,p.Py)(),c=(0,b.Z)(),_=(0,eg.HG)(),[u,g]=(0,l.useState)(""),[h,m]=(0,l.useState)(""),{checkExperiment:f}=(0,w.Z)();return(0,eQ.Z)(()=>{t(!1)}),(0,y.jsx)(s.xu,{marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,width:268,children:(0,y.jsx)(e$,{email:u,emailError:h,handleEmailChange:({value:e})=>g(e),handleSubmit:()=>{if((0,O.My)("unauth.line_missing_email.submit_email"),!u)return void m(c.bt("Укажите адрес электронной почты", "Email is required", "email error message", undefined, true));(0,O.My)("unauth.line_missing_email.submit_email");let{register:i}=d,a=[(0,em.GT)({message:c.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],l=(0,eh.Z)(u,a);if(l){(0,O.My)("unauth.line_missing_email.email_validation_failure"),m(l);return}let{type:s,signupOptions:g}=n;(0,es.Z)({email:u,checkExperiment:f,isDesktop:_}).then(({userExists:a})=>{if(a){o({email:u}),(0,O.My)("unauth.line_missing_email.email_existed");return}t(!0);let{birthday:l}=g;void 0===l?(r({type:s,signupOptions:{...g,email:u}}),t(!1)):i({...g,email:u,birthday:l},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(()=>{t(!1),T.ZP.handleSignupRedirect(e||T.ZP.defaultSocialLoginRedirectUrl(),!0),(0,O.My)("unauth.line_missing_email.signup_success")},e=>{t(!1),m(e.message||c.bt("Ой! Произошла ошибка… Нажмите «Продолжить», чтобы повторить попытку.", "Oops! Something went wrong… Click Continue to try again.", "unauth.lineEmailCollect.error", undefined, true)),(0,O.My)("unauth.line_missing_email.signup_failure")})},e=>{m((0,ei.Z)(e,"api_error_code")===L.bd?(0,ei.Z)(e,"message")??"":c.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)),(0,O.My)("unauth.line_missing_email.email_exist_api_call_failure")})},onNotNowClick:i})})};var eY=o(40848),eX=o(230201),eJ=o(59355),e0=o(139654),e1=o(216975),e4=o(236906);let e2=function({container:e="unknown",creds:t,isAccountSwitch:o,nextUrlParam:i,phoneNumberEnd:a}){let[n,r]=(0,l.useState)(null),[d,c]=(0,l.useState)(""),[_,u]=(0,l.useState)(!1),[g,p]=(0,l.useState)(!1),{isAuthenticated:h,loginState:m}=(0,D.B)(),f=(0,b.Z)(),x=(0,ee.a2)(),w=(0,J.Z)(),k={container:e,page:x?.pageType},{logContextEvent:v}=(0,eX.u)();(0,eJ.Q)({view_type:565,view_parameter:3731}),(0,l.useEffect)(()=>{!o&&T.ZP.isFullyLoggedIn(h,m)&&T.ZP.handleRedirect(i)},[]);let S=f.bt("Продолжить", "Continue", " - ", undefined, true);return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},width:268,children:[_&&(0,y.jsx)(e4.Z,{rounding:8}),(0,y.jsx)(s.xu,{paddingY:6,children:(0,y.jsx)(s.xv,{align:"center",size:"200",children:a?(0,e1.nk)(f.bt("На ваш телефон (заканчивается на {{ phoneNumberEnd }}) отправлен код. Введите его в поле ниже, чтобы войти.", "Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.", " - ", undefined, true),{phoneNumberEnd:(0,y.jsx)(s.xv,{inline:!0,weight:"bold",children:a},"phone")}):f.bt("На ваш телефон отправлен код. Введите его в поле ниже, чтобы войти.", "Please check your phone for a code and enter it in the field below to log in.", " - ", undefined, true)})}),(0,y.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),v({view_type:565,view_parameter:3731,event_type:101,element:12019});let o=(0,eh.Z)(d??"",[(0,em.aH)({message:f.bt("Вы кое-что забыли! Укажите свой код подтверждения.", "You missed a spot! Don't forget to add your verification code.", " - ", undefined, true)}),(0,em.VC)({message:f.bt("Хм… Это не похоже на код подтверждения.", "Hmm...that doesn't look like a verification code.", " - ", undefined, true)})]);o?(r(o),(0,O.My)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(r(null),u(!0),w({creds:{...t,mfa_token:d},loggingOptions:{loggingData:k,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{v({view_type:565,view_parameter:3731,event_type:9992});let e=window.location.pathname===P.lfe||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname;T.ZP.handleRedirect(i||e)},e=>{let t=(0,ei.Z)(e,"message");t?r(t):(0,K.x)(f.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),u(!1)}))},children:[(0,y.jsx)(e0.Z,{autoComplete:"off",focused:!0,hasError:!!n,id:"mfaCode",name:"code",onChange:e=>c(e.target.value),placeholder:f.bt("Код проверки", "Verification code", " - ", undefined, true),tooltip:n,type:"text",value:d}),(0,y.jsx)(s.xu,{height:10}),(0,y.jsx)(s.zx,{accessibilityLabel:S,color:"red",fullWidth:!0,text:S,type:"submit"})]}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,e1.nk)(f.bt("Если вы не получили его, мы можем {{ resendCode }}.", "If you didn't get it, we can {{ resendCode }}.", " - ", undefined, true),{resendCode:(0,y.jsx)(s.rU,{display:"inlineBlock",href:"",onClick:({event:e,dangerouslyDisableOnNavigation:o})=>{o(),e.preventDefault(),v({view_type:565,view_parameter:3731,event_type:101,element:12920}),u(!0),w({creds:{...t,mfa_resend:!0},loggingOptions:{loggingData:k,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{u(!1),p(!0)},e=>{u(!1);let t=(0,ei.Z)(e,"message");t?r(t):(0,K.x)(f.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true))})},underline:"hover",children:(0,y.jsx)(s.xv,{size:"100",weight:"bold",children:f.bt("повторно отправить код", "resend the code", " - ", undefined, true)})},"code")})}),g&&(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,y.jsx)(el.Z,{duration:5e3,onHide:()=>p(!1),text:f.bt("Мы отправили вам новый код.", "We sent you a new code!", "login2fa.resendCode.success", undefined, true)})})]})};function e3({email:e}){(0,l.useEffect)(()=>{(0,a.Z)("MagicLinkResendFooter","/app/packages/desktopLoginModal/MagicLinkResendFooter.tsx")},[]);let t=(0,b.Z)(),{showToast:o}=(0,eu.dI)(),i=async()=>{try{(0,O.My)("dweb.desktop_login_modal.magic_link.resend_link.request"),await (0,ea.Z)({url:"/v3/users/magic_link/",method:"POST",data:{email:e}}),(0,O.My)("dweb.desktop_login_modal.magic_link.resend_link.success"),o(({hideToast:e})=>(0,y.jsx)(el.Z,{onHide:e,text:t.bt("Сообщение отправлено!", "Email sent!", "desktopLoginModal.magicLinkResend.successToast", undefined, true)}))}catch(i){let e=(0,ei.Z)(i,"api_error_code");(0,O.My)(`dweb.desktop_login_modal.magic_link.resend_link.error.${e}`),o(({hideToast:e})=>(0,y.jsx)(el.Z,{onHide:e,text:(0,ei.Z)(i,"message")??t.bt("Возникла ошибка. Повторите попытку.", "Something went wrong. Please try again.", "desktopLoginModal.magicLinkResend.errorToast", undefined, true)}))}};return(0,y.jsx)(s.xu,{marginTop:4,paddingX:2,children:(0,y.jsxs)(s.kC,{alignItems:"stretch",direction:"row",gap:1,justifyContent:"center",children:[(0,y.jsx)(s.xv,{size:"200",children:t.bt("Нужна новая ссылка? ", "Need a new link? ", "desktopLoginModal.magicLinkResend.needNewLink", undefined, true)}),(0,y.jsx)(s.iP,{onTap:()=>{i(),(0,O.My)("dweb.desktop_login_modal.magic_link.resend_link.click")},children:(0,y.jsx)(s.kC,{children:(0,y.jsx)(s.xv,{size:"200",underline:!0,children:t.bt("Отправить ссылку повторно", "Resend link", "desktopLoginModal.magicLinkResend.resendLink", undefined, true)})})})]})})}var e5=o(653978),e6=o(147712);function e8(e,t){return{checkEmailBouncedOnSubmit:(0,l.useCallback)(async()=>{try{let o=await (0,ea.Z)({url:"/v3/email/validation/",data:{email:e}}),i=e6.z.object({is_valid:e6.z.boolean()}).safeParse(o.resource_response.data);if(!i.success)throw Error("response type error");let{data:a}=i;a.is_valid?(0,O.My)(`dweb.desktop_login_modal.${t}.not_bounced_email`):(0,O.My)(`dweb.desktop_login_modal.${t}.bounced_email`)}catch(e){if(e instanceof Error)return void(0,O.My)(`dweb.desktop_login_modal.${t}.email_bounced_check.error.type_error`);(0,O.My)(`dweb.desktop_login_modal.${t}.email_bounced_check.error.${(0,ei.Z)(e,"api_error_code")}`)}},[e,t])}}var e7=o(363815);let e9=({handleCloseButtonClick:e,loginFormOptions:t,setSignupFlow:o,setEmailErrorForMagicLink:i,magicLinkPrimaryExpGroup:n,children:r,hideLogo:d})=>{(0,l.useEffect)(()=>{(0,a.Z)("MagicLinkLoginForm","/app/packages/desktopLoginModal/MagicLinkLoginForm.tsx")},[]);let c=(0,b.Z)(),_=(0,eg.HG)(),{container:u,titleText:g,currentStep:p,showCloseIcon:m,setCurrentStep:f,loginEmail:x}=t,[P,k]=(0,l.useState)(!0),[v,S]=(0,l.useState)(x||""),[A,E]=(0,l.useState)(""),{checkExperiment:z}=(0,w.Z)(),{showToast:C}=(0,eu.dI)(),{checkEmailBouncedOnSubmit:j}=e8(v,"magic_link_email_send"),T=c.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "dweb.desktop_login_modal.magic_link_email_input.chan_error", undefined, true),M="emailInput"!==p||!z("dweb_unauth_magic_link_login_primary",{dangerouslySkipActivation:!0}).anyEnabled,I=(0,y.jsxs)(s.xu,{padding:3*("emailInput"!==p),children:[M&&(0,y.jsx)(eT,{onClick:()=>{(0,O.My)(`dweb.desktop_login_modal.magic_link.back_button.${p}`),"emailSent"===p?n.startsWith("enabled_pwd")?f("emailPassword"):f("emailInput"):(o({type:"login"}),f("emailInput"))}}),m&&(0,y.jsx)(eM.Z,{onClick:()=>{e?.(),(0,O.My)(`dweb.desktop_login_modal.magic_link.close_button.${p}`)}})]}),B=async()=>{try{(0,O.My)("dweb.desktop_login_modal.magic_link.check_user_request");let{userExists:e}=await (0,es.Z)({email:v,checkExperiment:z,isDesktop:_});e?((0,O.My)("dweb.desktop_login_modal.magic_link_email_exists.found"),o({type:"login",email:v}),f("emailPassword")):((0,O.My)("dweb.desktop_login_modal.magic_link_email_exists.not_found"),E(c.bt("Этот электронный адрес не связан с аккаунтом.", "The email you entered does not belong to any account.", "dweb.desktop_login_modal.magic_link_email_form.email_not_found", undefined, true)))}catch(e){(0,O.My)(`dweb.desktop_login_modal.magic_link_email_exists.error.${(0,ei.Z)(e,"api_error_code")}`)}},Z=async()=>{try{(0,O.My)("dweb.desktop_login_modal.magic_link_email_send.request"),await (0,ea.Z)({url:"/v3/users/magic_link/",method:"POST",data:{email:v}}),o({type:"loginMagicLink",email:v}),f("emailSent"),(0,O.My)("dweb.desktop_login_modal.magic_link_email_send.success")}catch(t){let e=(0,ei.Z)(t,"api_error_code");(0,O.My)(`dweb.desktop_login_modal.magic_link_email_send.error.${e}`),e===L.iZ?E(c.bt("Не удалось найти аккаунт с таким адресом электронной почты. Повторите попытку", "Can’t find an account with that email. Try again", "error.desktop_login_modal_magic_link.user_not_found", undefined, true)):e===L.m8?(C(({hideToast:e})=>(0,y.jsx)(e5.Z,{duration:h.xi,onHide:e,text:c.bt("Вход с помощью ссылки не поддерживается для аккаунтов, использующих двухфакторную аутентификацию. Попробуйте войти другим способом", "Magic link isn’t supported for accounts using two-factor authentication. Try another login method", "error.desktop_login_modal_magic_link.mfa_not_supported", undefined, true),zIndex:h.kb})),o({type:"login",email:v}),f("select")):E((0,ei.Z)(t,"message")??c.bt("Произошла техническая ошибка. Повторите попытку", "Something went wrong on our end, please try again", "error.desktop_login_modal_magic_link.generic", undefined, true))}};return(0,eQ.Z)(()=>{(0,O.My)("dweb.desktop_login_modal.magic_link_email_form.view")}),(0,y.jsxs)(s.xu,{children:[I,!d&&(0,y.jsx)(eG,{}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...eq.mM}},width:["login_page","revamped_business_login_page"].includes(u)?void 0:400,children:(0,y.jsx)(eH,{container:u,modalType:"loginMagicLink",titleText:"emailSent"===p?c.bt("Проверьте почту", "Check your email", "desktopLoginModal.magicLinkSent.title", undefined, true):g,visualRefreshTypography:d})}),(0,y.jsxs)(s.xu,{marginBottom:"emailInput"===p?4:2,marginEnd:"auto",marginStart:"auto",marginTop:-2,width:270,children:[(0,y.jsxs)(s.xv,{align:"center",inline:!0,size:"300",children:["emailSent"===p&&(0,e1.nk)(c.bt("На адрес {{ userEmail }} отправлена одноразовая ссылка", "A one-time link was sent to {{ userEmail }}", "desktopLoginModal.magicLinkSent.description", undefined, true),{userEmail:(0,y.jsx)(s.xv,{inline:!0,weight:"bold",children:v})}),"emailInput"===p&&n.startsWith("enabled_auto")&&"enabled_auto_no_helper_text"!==n&&c.bt("Введите адрес электронной почты, и мы отправим вам одноразовую ссылку", "Enter your account email and we’ll send a one-time link", "desktopLoginModal.magicLinkEmail.description", undefined, true)]}),"emailSent"===p&&n.startsWith("enabled_pwd")&&(0,y.jsx)(e3,{email:v||""})]}),"emailInput"===p&&(0,y.jsx)("form",{"data-test-id":"magicLinkRequestForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),(0,O.My)("dweb.desktop_login_modal.magic_link.continue_click"),(v&&(0,e7.ZP)(v)||(E(T),k(!0),(0,O.My)("dweb.desktop_login_modal.magic_link_email_input.regex_error"),0))&&(n.startsWith("enabled_auto")?Z():B(),j())},children:(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto"}},width:268,children:[z("dweb_unauth_login_signup_form_vr").anyEnabled?(0,y.jsx)(s.xu,{marginBottom:n.startsWith("enabled_auto")?4:8}):(0,y.jsx)(s.xu,{marginBottom:1,marginStart:2,children:(0,y.jsx)(s.__,{htmlFor:"email",children:(0,y.jsx)(s.xv,{align:"start",size:"200",children:c.bt("Адрес электронной почты", "Email", "registerForm.label.email", undefined, true)})})}),(0,y.jsx)(s.xu,{"data-test-id":"emailInputField",marginBottom:4,children:(0,y.jsx)(e0.Z,{autoComplete:"email",focused:!0,hasError:!!A,id:"magic link email",inputLabel:c.bt("Адрес электронной почты", "Email", "desktopLoginModal.magicLinkEmail.label", undefined, true),label:c.bt("Адрес электронной почты", "Email", "desktopLoginModal.magicLinkEmail.label", undefined, true),name:"id",onBlur:()=>{(0,O.My)("dweb.desktop_login_modal.magic_link_email_input.blur")},onChange:e=>{let t=e.target.value.trim();(0,O.My)("dweb.desktop_login_modal.magic_link_email_input.change"),S(t),E(""),i(""),k(""===t)},onFocus:()=>{k(""===v.trim())},placeholder:c.bt("Введите адрес электронной почты", "Enter your email", "desktopLoginModal.magicLinkEmail.placeholder", undefined, true),tooltip:A,type:"email",value:v})}),(0,y.jsx)(s.xu,{"data-test-id":"registerFormSubmitButton",marginTop:2,children:(0,y.jsx)(s.zx,{accessibilityLabel:c.bt("Кнопка для отправки письма со ссылкой для входа", "Button to send magic link email", "desktopLoginModal.magicLinkEmail.buttonAccessibilityLabel", undefined, true),color:"red",disabled:P,fullWidth:!0,onClick:()=>{(0,O.My)("dweb.desktop_login_modal.magic_link_email_send.click")},size:"lg",text:c.bt("Продолжить", "Continue", "desktopLoginModal.magicLinkEmail.continue", undefined, true),type:"submit"})})]})}),r]})};function te({email:e}){(0,l.useEffect)(()=>{(0,a.Z)("OneTimeCodeResendFooter","/app/packages/desktopLoginModal/OneTimeCodeResendFooter.tsx")},[]);let t=(0,b.Z)(),{showToast:o}=(0,eu.dI)(),i=async()=>{try{(0,O.My)("dweb.desktop_login_modal.otp.resend_code.request"),await (0,ea.Z)({url:"/v3/verifications/send/",method:"POST",data:{channel:"email",recipient:e}}),(0,O.My)("dweb.desktop_login_modal.otp.resend_code.success"),o(({hideToast:e})=>(0,y.jsx)(e5.Z,{duration:h.xi,onHide:e,text:t.bt("Код отправлен!", "Code sent!", "desktopLoginModal.otpResend.successToast", undefined, true),zIndex:h.kb}))}catch(i){let e=(0,ei.Z)(i,"api_error_code");(0,O.My)(`dweb.desktop_login_modal.otp.resend_code.error.${e}`),o(({hideToast:e})=>(0,y.jsx)(e5.Z,{duration:h.xi,onHide:e,text:t.bt("Возникла ошибка. Повторите попытку.", "Something went wrong. Please try again.", "desktopLoginModal.otpResend.errorToast", undefined, true),zIndex:h.kb}))}};return(0,y.jsx)(s.xu,{marginBottom:2,marginTop:4,paddingX:2,children:(0,y.jsxs)(s.kC,{alignItems:"stretch",direction:"row",gap:1,justifyContent:"center",children:[(0,y.jsx)(s.xv,{size:"200",children:t.bt("Нужен новый код? ", "Need a new code? ", "desktopLoginModal.otpResend.needNewCode", undefined, true)}),(0,y.jsx)(s.iP,{onTap:()=>{i(),(0,O.My)("dweb.desktop_login_modal.otp.resend_code.click")},children:(0,y.jsx)(s.kC,{children:(0,y.jsx)(s.xv,{size:"200",underline:!0,children:t.bt("Отправить код повторно", "Resend code", "desktopLoginModal.otpResend.resendCode", undefined, true)})})})]})})}let tt=({loadingIndicatorCallback:e,nextUrlParam:t,handleCloseButtonClick:o,loginFormOptions:i,setSignupFlow:n,children:r,hideLogo:d,oneTimeCodeLoginPrimaryExpGroup:c,setOneTimeCodeEmail:_,isOTPLoginV1Enabled:u})=>{(0,l.useEffect)(()=>{(0,a.Z)("OneTimeCodeLoginForm","/app/packages/desktopLoginModal/OneTimeCodeLoginForm.tsx")},[]);let g=(0,b.Z)(),{container:h,titleText:m,currentStep:f,loginEmail:P,showCloseIcon:k,setCurrentStep:v}=i,[S,A]=(0,l.useState)(!0),[E,z]=(0,l.useState)(P||""),[C,j]=(0,l.useState)(""),[M,B]=(0,l.useState)(""),[Z,R]=(0,l.useState)(""),{checkExperiment:F}=(0,w.Z)(),{checkEmailBouncedOnSubmit:N}=e8(E,"otp_email_send"),U=(0,J.Z)(),D=(0,ee.a2)(),{viewer:W}=(0,p.Py)(),V=(0,eg.HG)(),G="emailInput"!==f||!F("dweb_unauth_otp_login_primary",{dangerouslySkipActivation:!0}).anyEnabled,H=(0,y.jsxs)(s.xu,{marginBottom:10,children:[G&&(0,y.jsx)(eT,{onClick:()=>{(0,O.My)(`dweb.desktop_login_modal.otp.back_button.${f}`),"codeInput"===f&&c.startsWith("enabled_pwd")?v("emailPassword"):"emailPassword"===f&&c.startsWith("enabled_auto")?v("codeInput"):"emailInput"===f&&u?(n({type:"login"}),v("login")):(n({type:"loginOtp"}),v("emailInput"))}}),k&&(0,y.jsx)(eM.Z,{onClick:()=>{o?.(),(0,O.My)(`dweb.desktop_login_modal.otp.close_button.${f}`)}})]}),q=g.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "dweb.desktop_login_modal.otp_email_input.error", undefined, true),Q=async()=>{try{(0,O.My)("dweb.desktop_login_modal.otp.check_user_request");let{userExists:e}=await (0,es.Z)({email:E,checkExperiment:F,isDesktop:V});e?((0,O.My)("dweb.desktop_login_modal.otp_email_exists.found"),n({type:"loginOtp",email:E}),v("emailPassword")):((0,O.My)("dweb.desktop_login_modal.otp_email_exists.not_found"),B(g.bt("Не удалось найти аккаунт с таким адресом электронной почты. Повторите попытку", "Can’t find an account with that email. Try again", "error.desktop_login_modal_otp.user_not_found", undefined, true)))}catch(t){let e=(0,ei.Z)(t,"api_error_code");(0,O.My)(`dweb.desktop_login_modal.otp_email_exists.error.${e}`),B((0,ei.Z)(t,"message")??g.bt("Произошла техническая ошибка. Повторите попытку или воспользуйтесь другим способом входа", "Something went wrong on our end, please try again or try another login method", "error.desktop_login_modal_otp.generic", undefined, true))}},$=async()=>{try{(0,O.My)("dweb.desktop_login_modal.otp_email_send.request");let{userExists:e}=await (0,es.Z)({email:E,checkExperiment:F,isDesktop:V});if(!e){(0,O.My)("dweb.desktop_login_modal.otp_email_send.email_not_found"),B(g.bt("Не удалось найти аккаунт с таким адресом электронной почты. Повторите попытку", "Can’t find an account with that email. Try again", "error.desktop_login_modal_otp.user_not_found", undefined, true));return}await (0,ea.Z)({url:"/v3/verifications/send/",method:"POST",data:{channel:"email",recipient:E}}),(0,O.My)("dweb.desktop_login_modal.otp_email_send.success"),n({type:"loginOtp",email:E}),_?.(E),v("codeInput")}catch(t){let e=(0,ei.Z)(t,"api_error_code");(0,O.My)(`dweb.desktop_login_modal.otp_email_send.error.${e}`),B((0,ei.Z)(t,"message")??g.bt("Произошла техническая ошибка. Повторите попытку или воспользуйтесь другим способом входа", "Something went wrong on our end, please try again or try another login method", "error.desktop_login_modal_otp.generic", undefined, true))}},K=async()=>{(0,O.My)("dweb.desktop_login_modal.otp_login.attempt"),U({creds:{recipient:E,code:C},loggingOptions:{loggingData:{container:h,page:D?.pageType},loginAttemptContextEvent:{event_type:7534,aux_data:{...(0,x.Z)(W.type),signup_login_method:I.Z.OTP}}}}).then(()=>{(0,O.My)("dweb.desktop_login_modal.otp_login.success"),e(!0),T.ZP.handleRedirect(t)},t=>{e(!1);let o=(0,ei.Z)(t,"api_error_code");(0,O.My)(`dweb.desktop_login_modal.otp_login.error.${o}`),o===L.Zn?R(g.bt("Вход с помощью кода не поддерживается для аккаунтов, использующих двухфакторную аутентификацию. Попробуйте войти другим способом", "Login code isn’t supported for accounts using two-factor authentication. Try another login method", "error.desktop_login_modal_otp.mfa_not_supported", undefined, true)):R((0,ei.Z)(t,"message")??g.bt("Неверный код. Проверьте свою электронную почту и повторите попытку", "Invalid code. Please check your email and try again", "error.desktop_login_modal_otp.invalid_code", undefined, true))})};return(0,eQ.Z)(()=>{(0,O.My)("dweb.desktop_login_modal.otp_form.view")}),(0,y.jsxs)(s.xu,{children:[H,!d&&(0,y.jsx)(eG,{}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...eq.mM}},width:["login_page","revamped_business_login_page"].includes(h)?void 0:400,children:(0,y.jsx)(eH,{container:h,modalType:"loginOtp",titleText:"codeInput"===f?c.startsWith("enabled_auto")?g.bt("Проверьте почту", "Check your email", "desktopLoginModal.otpCode.auto.title", undefined, true):g.bt("Введите код", "Enter the code", "desktopLoginModal.otpCode.title", undefined, true):m,visualRefreshTypography:d})}),(0,y.jsx)(s.xu,{marginBottom:"emailInput"===f?4:2,marginEnd:"auto",marginStart:"auto",marginTop:-2,width:270,children:(0,y.jsx)(s.xv,{align:"center",inline:!0,size:"300",children:(()=>{switch(f){case"codeInput":return(0,e1.nk)(g.bt("Введите код для входа, отправленный на {{ userEmail }}", "Enter the login code sent to {{ userEmail }}", "desktopLoginModal.otpCodeStep.description", undefined, true),{userEmail:(0,y.jsx)(s.xv,{inline:!0,weight:"bold",children:E},"otp-user-email")});case"emailInput":return c.startsWith("enabled")?"":g.bt("Введите адрес электронной почты, и мы отправим вам код для входа", "Enter your email and we’ll send a login code", "desktopLoginModal.otpEmailStep.description", undefined, true);default:return""}})()})}),"emailInput"===f&&(0,y.jsx)("form",{"data-test-id":"otpEmailRequestForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),(0,O.My)("dweb.desktop_login_modal.otp.email_continue_click"),(E&&(0,e7.ZP)(E)||(B(q),A(!0),(0,O.My)("dweb.desktop_login_modal.otp_email_input.regex_error"),0))&&(c.startsWith("enabled_auto")||u?$():Q(),N())},children:(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto"}},width:268,children:[!F("dweb_unauth_login_signup_form_vr").anyEnabled&&(0,y.jsx)(s.xu,{marginBottom:1,marginStart:2,children:(0,y.jsx)(s.__,{htmlFor:"otp-email",children:(0,y.jsx)(s.xv,{align:"start",size:"200",children:g.bt("Адрес электронной почты", "Email", "registerForm.label.email", undefined, true)})})}),(0,y.jsx)(s.xu,{"data-test-id":"otpEmailInputField",marginBottom:4,children:(0,y.jsx)(e0.Z,{autoComplete:"email",focused:!0,hasError:!!M,id:"otp-email",inputLabel:g.bt("Адрес электронной почты", "Email", "desktopLoginModal.otpEmail.label1", undefined, true),label:g.bt("Адрес электронной почты", "Email", "desktopLoginModal.otpEmail.label", undefined, true),name:"otp-email",onBlur:()=>{(0,O.My)("dweb.desktop_login_modal.otp_email_input.blur")},onChange:e=>{let t=e.target.value.trim();(0,O.My)("dweb.desktop_login_modal.otp_email_input.change"),z(t),B(""),A(""===t)},onFocus:()=>{A(""===E.trim())},placeholder:g.bt("Введите адрес электронной почты", "Enter your email", "desktopLoginModal.otpEmail.placeholder", undefined, true),tooltip:M,type:"email",value:E})}),(0,y.jsx)(s.xu,{"data-test-id":"otpEmailSubmitButton",marginTop:2,children:(0,y.jsx)(s.zx,{accessibilityLabel:g.bt("Кнопка для отправки одноразового кода на электронную почту", "Button to send OTP email", "desktopLoginModal.otpEmail.buttonAccessibilityLabel", undefined, true),color:"red",disabled:S,fullWidth:!0,onClick:()=>{(0,O.My)("dweb.desktop_login_modal.otp_email_send.click")},size:"lg",text:g.bt("Продолжить", "Continue", "desktopLoginModal.otpEmail.continue", undefined, true),type:"submit"})})]})}),"codeInput"===f&&(0,y.jsxs)(s.xu,{children:[(0,y.jsx)("form",{"data-test-id":"otpCodeVerifyForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),(0,O.My)("desktop_login_modal.otp_code.submit"),K()},children:(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto"}},width:268,children:[F("dweb_unauth_login_signup_form_vr").anyEnabled?(0,y.jsx)(s.xu,{marginBottom:3}):(0,y.jsx)(s.xu,{marginBottom:1,marginStart:2,children:(0,y.jsx)(s.__,{htmlFor:"otp-code",children:(0,y.jsx)(s.xv,{align:"start",size:"200",children:g.bt("6-значный код", "6-digit code", "desktopLoginModal.otpCode.label", undefined, true)})})}),(0,y.jsx)(s.xu,{"data-test-id":"otpCodeInputField",marginBottom:4,children:(0,y.jsx)(e0.Z,{focused:!0,hasError:!!Z,id:"otp-code",inputLabel:g.bt("6-значный код", "6-digit code", "desktopLoginModal.otpCode.label2", undefined, true),onChange:e=>{j(e.target.value),R(""),(0,O.My)("dweb.desktop_login_modal.otp_code_input.change")},placeholder:g.bt("Введите код", "Enter code", "desktopLoginModal.otpCode.placeholder", undefined, true),tooltip:Z,type:"text",value:C})}),(0,y.jsx)(s.xu,{"data-test-id":"otpCodeSubmitButton",marginTop:2,children:(0,y.jsx)(s.zx,{accessibilityLabel:g.bt("Кнопка для отправки одноразового кода", "Button to submit OTP code", "desktopLoginModal.otpCode.buttonAccessibilityLabel", undefined, true),color:"red",disabled:!C||6!==C.length||Number.isNaN(Number(C)),fullWidth:!0,onClick:()=>{(0,O.My)("dweb.desktop_login_modal.otp_code_verify.click")},size:"lg",text:g.bt("Войти", "Log in", "desktopLoginModal.otpCode.login", undefined, true),type:"submit"})})]})}),(0,y.jsx)(te,{email:E})]}),(0,y.jsx)(s.xu,{marginTop:-2,children:r})]})};var to=o(473614);function ti({disablePostSignupNextUrl:e,nextUrlParam:t,registrationCredentials:o}){(0,l.useEffect)(()=>{(0,a.Z)("OtpStepDesktop","/app/packages/desktopLoginModal/OtpStepDesktop.tsx")},[]);let i=(0,b.Z)(),s=(0,D.Ts)(),{recaptchaV3Token:n,refreshToken:r}=(0,B.D)(),{register:d,viewer:c}=(0,p.Py)(),[_,u]=(0,l.useState)(""),[g,h]=(0,l.useState)(!1),m="emailWithOtp",f=async({progressToken:a})=>{h(!0),u("");let l={...o.signupOptions,country:s.country,recaptchaV3Token:n,progressToken:a,first_name:(0,U.Z)(o.signupOptions.email||"",s.country),last_name:""};try{(0,O.Rp)({event:"signup_api_call_start",provider:m}),await d(l,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,aux_data:{...(0,x.Z)(c.type)}}}),(0,O.My)("dweb.otpStep.signup_success"),(0,O.Rp)({event:"signup_api_call_success",provider:m}),T.ZP.handleSignupRedirect(t,e)}catch(e){(0,O.Rp)({event:"signup_api_call_failure",provider:m}),r&&r(),(0,O.My)("dweb.otpStep.signup_error.other"),u(i.bt("К сожалению, возникла техническая проблема.", "Sorry! Something went wrong on our end.", "signup.otpStep.error.other", undefined, true))}finally{h(!1)}};return(0,y.jsx)(to.Z,{clearValidationError:()=>u(""),isLoading:g,onContinue:f,progressToken:o.signupOptions.progress_token??"",userEmail:o.signupOptions.email??"",validationError:_})}var ta=o(749474);let tl={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},ts=({children:e,noBoxShadow:t})=>{let o={...tl,...t?{boxShadow:"none"}:{}},{viewer:i}=(0,p.Py)(),a=(0,p.Cw)();return"LIMITED_LOGIN"===i.type&&a?(0,y.jsxs)("div",{"data-test-id":"login-modal-default",style:{...o,display:"flex",width:"auto",padding:""},children:[(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},overflow:"hidden",children:(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{width:"number"==typeof a.height&&"number"==typeof a.width?600*(a.width/a.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:a.url?`url(${a.url})`:""}},height:"100%",maxWidth:400})}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},width:400,children:e})]}):(0,y.jsx)("div",{"data-test-id":"login-modal-default",style:{...o,padding:"32px 0"},children:e})},tn=({children:e,email:t,footer:o,handleNotYouClick:i,header:n,noBoxShadow:r,title:d,viewerInfo:c})=>{(0,l.useEffect)(()=>{(0,a.Z)("PersonalizedLoginWrapper","/app/packages/desktopLoginModal/PersonalizedLoginWrapper.tsx")},[]);let{viewer:_}=(0,p.Py)(),u=(0,b.Z)();return(0,y.jsx)(ts,{noBoxShadow:r,children:(0,y.jsxs)(l.Fragment,{children:[n,(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},display:"block",height:40,width:40,children:(0,y.jsx)(eV.Z,{size:40})}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 48px 16px"}},maxHeight:150,overflow:"hidden",width:"auto",children:d}),"LIMITED_LOGIN"===_.type&&(0,y.jsx)(s.xu,{marginBottom:4,paddingX:12,children:(0,y.jsx)(ta.Z,{})}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:120,children:(0,y.jsx)(eZ.qE,{name:c.firstName,src:c.imageUrl??void 0})}),(0,y.jsx)(s.xu,{marginBottom:3,children:(0,y.jsx)(s.xv,{align:"center",children:t})}),e,(0,y.jsx)(s.xu,{paddingY:5,children:(0,y.jsx)(s.iz,{})}),(0,y.jsx)(s.xu,{"data-test-id":"login-switch-account",children:(0,y.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),i()},children:(0,y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,y.jsx)(s.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:u.bt("Это не вы? Войдите с помощью другого аккаунта", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,y.jsx)(s.xu,{marginBottom:0,marginTop:1,children:o})]})})};var tr=o(101653),td=o(42538);function tc({container:e,isQRCodeExpanded:t,nextUrlParam:o}){(0,l.useEffect)(()=>{(0,a.Z)("QRCodeLogin","/app/packages/desktopLoginModal/QRCodeLogin.tsx")},[]);let[i,n]=(0,l.useState)(!0),[r,d]=(0,l.useState)(null),[c,_]=(0,l.useState)(null),[u,g]=(0,l.useState)(null),h=e6.z.object({qr_token:e6.z.string()}),m=e6.z.object({status:e6.z.string()}),f=(0,b.Z)(),P=(0,ee.a2)(),{viewer:k}=(0,p.Py)(),v=(0,J.Z)(),{checkExperiment:S}=(0,w.Z)(),A=S("dweb_unauth_qr_code_refresh").anyEnabled,{showOneToast:E}=(0,eu.dI)(),z=null!==r&&(!A||6062!==r),C=P?.pageType,j=k.type,L=async()=>{try{let e=await (0,ea.Z)({url:"/v3/qr_auth/",method:"POST"}),t=h.safeParse(e?.resource_response?.data);t.success?(_(t.data.qr_token),g(!1)):((0,O.My)("dweb.generate_qr_token.response_parsing_error"),d(0))}catch(e){d((0,ei.Z)(e,"api_error_code")??0)}};return(0,eQ.Z)(()=>{L(),n(!1)}),(0,l.useEffect)(()=>{let t=setInterval(async()=>{let i;if(c){try{let e=await (0,ea.Z)({url:"/v3/qr_auth/status/",method:"POST",data:{qr_token:c}}),t=m.safeParse(e?.resource_response?.data);t.success?i=t.data.status:((0,O.My)("dweb.fetch_qr_status.response_parsing_error"),d(0))}catch(e){d((0,ei.Z)(e,"api_error_code")??0),A&&6062===r&&g(!0)}"authenticated"===i&&v({creds:{qr_token:c},loggingOptions:{loggingData:{container:e,page:C},loginAttemptContextEvent:{event_type:7534,element:18049,aux_data:{...(0,x.Z)(j),signup_login_method:I.Z.QR_CODE}}}}).then(()=>{(0,O.My)("dweb.qr_code_login.success.authenticated"),n(!0),clearInterval(t),T.ZP.handleRedirect(o)},e=>{d((0,ei.Z)(e,"api_error_code")??0)})}},2e3);return()=>clearInterval(t)},[m,r,e,f,A,v,o,C,c,j]),(0,l.useEffect)(()=>{let e=A&&S("dweb_unauth_qr_code_refresh").group.endsWith("toast");u&&e&&E(({hideToast:e})=>(0,y.jsx)(s.mh,{zIndex:td.C,children:(0,y.jsx)(s.kC,{justifyContent:"center",children:(0,y.jsx)(s.xu,{bottom:!0,display:"flex",justifyContent:"center",margin:6,position:"fixed",children:(0,y.jsx)(el.Z,{duration:4e3,onHide:e,text:f.bt("Срок действия этого QR-кода истек. Обновите страницу, чтобы создать новый.", "This QR code has expired. Refresh to generate a new one.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.qrCodeExpired.errorToast", undefined, true),type:"error"})})})}))},[S,f,u,A,E]),(0,y.jsxs)(s.xu,{marginBottom:6,children:[z&&(0,y.jsx)(s.he,{iconAccessibilityLabel:"Error",message:(e=>{switch(e){case 6061:return f.bt("При создании вашего QR-кода произошла ошибка. Попробуйте перезагрузить страницу и отсканировать код еще раз.", "There was a problem with generating your QR code. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrAuthCacheSetError", undefined, true);case 6062:return f.bt("Ваш QR-код истек или не найден. Попробуйте перезагрузить страницу и отсканировать код еще раз.", "Your QR code has expired or was not found. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrTokenNotFoundError", undefined, true);case 6065:return f.bt("Ваш QR-код был отсканирован с другого IP-адреса или устройства. Убедитесь, что ваше мобильное устройство подключено к той же сети Wi-Fi, что и компьютер, и попробуйте отсканировать код снова.", "Your QR code was scanned from a different IP address or device. Make sure that your mobile device is connected to the same WiFi as your computer and try scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrIPAddressOrDeviceMismatchError", undefined, true);case 30:return f.bt("Не удалось найти ваш аккаунт. Попробуйте войти в другой аккаунт.", "We couldn't find your account. Try logging in with a different account.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.userNotFoundError", undefined, true);case 82:return f.bt("Вход с помощью QR-кода не поддерживается для деактивированных аккаунтов. Сначала попробуйте восстановить аккаунт.", "QR code login isn't supported for deactivated accounts. Try reactivating your account first.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.loginDeactivatedUserError", undefined, true);case 4951:return f.bt("Вход с использованием QR-кода не поддерживается для аккаунтов с единым входом. Попробуйте войти с использованием единого входа.", "QR code login isn't supported for accounts using single sign-on. Try logging in with single sign-on instead.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.ssoFailureError", undefined, true);default:return f.bt("Не удалось войти с помощью QR-кода. Попробуйте перезагрузить страницу и отсканировать код еще раз.", "We couldn’t log you in with QR code. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.defaultError", undefined, true)}})(r),type:"error"}),(0,y.jsxs)(s.kC,{direction:"column",gap:10,children:[!t&&(0,y.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,y.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,y.jsx)(s.xv,{align:"center",children:f.bt("1. Войдите в приложение Pinterest на телефоне", "1. Log in to the Pinterest app on your phone", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)}),(0,y.jsx)(s.xv,{align:"center",children:f.bt("2. Отсканируйте QR-код с помощью камеры телефона", "2. Scan the QR code with your phone's camera", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)}),(0,y.jsx)(s.xv,{align:"center",children:f.bt("3. Подтвердите вход в приложение Pinterest", "3. Confirm login in the Pinterest app", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)})]})}),(0,y.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",children:[u&&((0,O.My)("dweb.qr_code_refresh_button.view"),(0,y.jsx)(s.xu,{alignItems:"center",display:"flex",height:180,justifyContent:"center",position:"absolute",width:180,zIndex:td.C,children:(0,y.jsx)(s.zx,{accessibilityLabel:"Refresh button",color:"dark",iconStart:"refresh",onClick:()=>{(0,O.My)("dweb.qr_code_refresh_button.click"),L()},text:f.bt("Обновить", "Refresh", "unauth.desktopWeb.loginForm.qrCodeLoginModal.refreshButton", undefined, true)})})),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{border:t?"16px solid #ffffff":"none"}},rounding:t?4:void 0,children:(0,y.jsx)(tr.default,{"data-test-id":"qr-code-image",fgColor:i||u?"#f1f1f1":"#000000",size:t?104:180,value:`https://www.pinterest.com/qr_code_login/${c}`})}),(0,y.jsx)(s.xu,{position:"absolute",children:(0,y.jsx)(s.xH,{show:i})})]}),t&&(0,y.jsx)(s.xu,{marginTop:-6,children:(0,y.jsxs)(s.kC,{direction:"column",gap:2,justifyContent:"center",children:[(0,y.jsx)(s.qd,{align:"center",size:"500",children:f.bt("Мгновенный вход", "Log in instantly", "unauth.desktopWeb.loginForm.qrCodeLoginModal.expandedDesign.heading", undefined, true)}),(0,y.jsx)(s.xv,{align:"center",children:f.bt("Отсканируйте QR-код с помощью телефона и подтвердите вход в приложении Pinterest", "Scan QR code with your phone and confirm login in the Pinterest app", "unauth.desktopWeb.loginForm.qrCodeLoginModal.expandedDesign.subheading", undefined, true)})]})})]})]})}var t_=o(358136),tu=o(609252),tg=o(936367),tp=o(675410),th=o(954928),tm=o(629724),ty=o(20717),tf=o(157498),tx=o(305375);let tb={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},tw={home_page:{...tb,minHeight:"initial"},pinBookmarklet:{...tb,boxShadow:"none"},revamped_business_login_page:{...tb,margin:void 0,textAlign:void 0}},tP={minHeight:"400px",padding:"20px 10px 24px"},tk={minHeight:"400px",padding:"32px 10px 32px"},tv={minHeight:"350px",padding:"30px 10px 20px"},tS={minHeight:"350px",padding:"0px 0px 30px"},tA={minHeight:"400px",padding:"24px 24px 24px 24px"},tE=(e,t)=>{switch(t){case"boardInvite":return e.bt("Войдите, чтобы принять приглашение на доску", "Log in to accept your board invite", "Login copy board invite", undefined, true);case"homePage":return e.bt("Добро пожаловать в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Войти, чтобы сохранить этот пин", "Sign in to save this Pin!", "Login copy save button from third party website", undefined, true);case"saveButton":return e.bt("Войдите в Pinterest, чтобы сохранить идею", "Log in to save this idea", "Login copy save upsell", undefined, true);case"lopBoardUpsell":return e.bt("Упорядочивайте любимые пины с помощью досок", "Boards let you organize what you love", "unauth.desktop.signup_modal.lopBoardUpsell.header", undefined, true);case"lopDownloadUpsell":return e.bt("Войдите, чтобы скачать", "Log in to download", "unauth.desktop.signup_modal.lopDownloadUpsell.header", undefined, true);default:return e.bt("Войдите, чтобы увидеть больше", "Log in to see more", "Title on desktop login modal", undefined, true)}};function tz({container:e,savePinId:t,savePinImageUrl:o,customLoginTagline:i,customSignupTagline:d,handleCloseButtonClick:c,handleShowingSignupWelcomeLoading:_,handleSsoRedirect:u,hideAccountSwitchValueProp:g,hideLogo:h,inviter:m,isAccountSwitch:P=!1,isBusiness:k,nextUrlParam:A,removeSignupLoginToggleFooter:E,renderBusinessCreateButton:z,showCloseIcon:L,showResponseMessageModal:T,signupRedirectUrl:M,signupSource:I="defaultSource",suppressFocus:B,toggleType:Z="DEFAULT_TOGGLE",signupFlow:R,attributionLabel:F,onRedirectToSignup:U}){(0,l.useEffect)(()=>{(0,a.Z)("FullPageSignup","/app/packages/desktopLoginModal/FullPageSignup.tsx")},[]);let V=(0,D.B)(),G=(0,b.Z)(),{viewer:{info:H,type:q}}=(0,p.Py)(),Q=(0,r.Z)(),$=(0,v.Z)(),{checkExperiment:K}=(0,w.Z)(),[Y,X]=(0,l.useState)(!1),[J,ee]=(0,l.useState)(!1),[et,eo]=(0,l.useState)(!1),[ei,ea]=(0,l.useState)("signup"===(0,tm.Z)().type?{type:"signup"}:R),[el,es]=(0,l.useState)(""),[en,er]=(0,l.useState)(""),{trackConversionUpsell:ed}=(0,S.Z)(),[ec,e_]=(0,l.useState)(!1),eu=(0,x.Z)(q),{username:eg}=(0,tx.Z)(),ep=(0,tf.cm)(),eh=eg?ep(eg):null,em="commentComposer"===I,ey="login"===ei.type?14212:14214,[ef,ex]=(0,l.useState)(ey),eb=K("dweb_unauth_fb_login_account_recovery_flow").anyEnabled||K("dweb_unauth_fb_manual_login_dep_ucan").anyEnabled||K("dweb_unauth_fb_manual_login_dep_row").anyEnabled,[eP,ek]=(0,l.useState)(!1),[ev,eS]=(0,l.useState)("login"),[eA,eE]=(0,l.useState)("login"),[ez,eC]=(0,l.useState)(""),[eI,eO]=(0,l.useState)(""),[eR,eF]=(0,l.useState)(!1),eN=(0,ty.cO)(),eU=eN?.data||{},{expGroup:eD="",socialModalUpdateExpGroup:eV=""}=eU.popoverData||{},{inDwebFullPageModalExp:eQ}=eU.modalData||{},e$="revamped_business_login_page"===e,eX=(0,l.useRef)(null);(0,l.useEffect)(()=>((0,O.My)(`unauth.authentication_modal.shown.${Z}.${ei.type}`),()=>{P&&((0,tp.Z)("add_account_dismiss",null,e),tu.Z.resume(tg.LU),(0,O.My)(`web.dismiss_account_switcher.${e}`))}),[]);let eJ=(0,l.useRef)(ei.type);(0,l.useEffect)(()=>{eJ.current!==ei.type&&(eJ.current=ei.type,(0,O.My)(`unauth.authentication_modal.shown.${Z}.${ei.type}`))});let e0=(0,l.useRef)(R);(0,l.useEffect)(()=>{e0.current.type!==R.type&&(e0.current=R,ea(R))}),(0,l.useEffect)(()=>{let e=()=>{if(!eX.current)return;let e=eX.current,t=e.getBoundingClientRect();if(t.top<150){let o=150-t.top;e.style.transform=`translateY(${o}px)`}else e.style.transform=""};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]);let e3=tw[e]??tb,e5=h?tk:tP,e6=()=>A?decodeURIComponent(A):A,e8=e=>e6()?(0,th.Z)(e,{next:e6()}):e,e7=e=>ea({type:"EmailCollection",registrationCredentials:e}),te=e=>ea({type:"socialSignupWithAge",registrationCredentials:e}),to=e=>ea({type:"consents",registrationCredentials:e}),ta=e=>ea({type:"otpSignupViaEmail",registrationCredentials:e}),ts=(e,t)=>ea({type:"loginMfa",creds:e,phoneNumberEnd:t?.phoneNumberEnd||void 0}),tr=e=>{(0,O.My)(`unauth.personalized_login.prevent_register.${e}`),e_(!0),ee(!1),ea({type:"signup"})},td=()=>{$({action:"click",item:"login-switch-account",within:"personalized-login"}),(0,O.NC)("click_change_signin_account"),Q({aux_data:eu,element:10879,event_type:101}),ed({eventType:14689,element:10879})},tz=e=>{(0,O.My)(`unauth.authentication_modal.${e}.${Z}.${ei.type}`)},tC=e=>{tz("login_toggle_click"),(0,O.NC)("click_toggle_login"),$({action:"click",item:"login-button"}),ed({eventType:14689,element:13914}),ea({type:"login",email:e?.email}),ex(14212),ed({eventType:14688,component:14212,element:13914,upsellReason:F,incrementUpsellReasonCounter:!1}),X(!1)},tj=({email:e})=>{if(tz("signup_toggle_click"),(0,O.NC)("click_toggle_signup"),ed({eventType:14689,element:13913}),M)return void(0,n.Z)(M,!1);ex(14214),ed({eventType:14688,component:14214,element:13913,upsellReason:F,incrementUpsellReasonCounter:!1}),ea({type:"signup",email:e})},tL=({email:e})=>(0,y.jsx)(s.iP,{fullWidth:!1,onTap:t=>{let o={event_type:101,element:10880};k?Q(o):(t.event.preventDefault(),$({action:"click",item:"signup-toggle-button",within:"personalized-login"}),Q({...o,aux_data:eu}),tj({email:e}))},children:(0,y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,y.jsx)(s.xu,{"data-test-id":"need-account-link",children:(0,y.jsx)(s.rU,{href:k?e8("/business/create"):"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:G.bt("Нужен аккаунт? Зарегистрируйтесь", "Need an account? Sign up now", "Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account", undefined, true)})})})}),tT=()=>{ee(!1),ek(!0)},tM=({step:e,email:t})=>{eE(e),ea({type:"loginOtp",email:t??ez})},tI=L&&(0,y.jsx)(eM.Z,{onClick:c}),tB=({inVisualPLPUpsellExp:e=!1,inviter:t,isVerified:o,shouldUseLargeImage:i=!1})=>(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:i?150:108,children:(0,y.jsx)(eZ.qE,{color:e?t.avatar_color_index:void 0,name:t.first_name||t.full_name||"",outline:e&&null==t.avatar_color_index,src:i&&t.image_large_url?t.image_large_url:t.image_medium_url,verified:o})});if(et&&["signup","login","socialSignupWithAge"].includes(ei.type))return(0,y.jsx)(t_.Z,{});switch(ei.type){case"signup":case"respondMessage":{let i=Y?G.bt("С возвращением в Pinterest!", "Welcome back to Pinterest!", "welcoming user back to pinterest in signup modal when we recognize their email", undefined, true):d||((e,t)=>{switch(t){case"boardInvite":return e.bt("Зарегистрируйтесь, чтобы принять приглашение на доску", "Sign up to accept your board invite", "Sign up copy board invite", undefined, true);case"saveButton":return e.bt("Регистрируйтесь, чтобы увидеть больше", "Sign up to see more", "signup copy save button", undefined, true);case"saveButtonExp":return e.bt("Зарегистрируйтесь в Pinterest, чтобы сохранить эту идею", "Join Pinterest to save this idea", "FullPageSignup.signupTagline.save", undefined, true);case"homePage":return e.bt("Добро пожаловать в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Зарегистрироваться, чтобы сохранить этот пин", "Sign up to save this Pin!", "signup copy save button from third party website", undefined, true);case"downloadImageBtnDweb":return e.bt("Чтобы больше не терять свои идеи, создайте аккаунт", "Never lose track of your ideas again! Sign up for an account", "mweb.unauth.download_modal.download_value_prop", undefined, true);case"downloadImageBtnUnauth":return e.bt("Зарегистрируйтесь, чтобы скачать", "Sign up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true);case"followButton":return e.bt("Зарегистрируйтесь в Pinterest, чтобы подписаться", "Join Pinterest to follow", "mweb.unauth.follow_modal.follow_value_prop", undefined, true);case"lopBoardUpsell":return e.bt("Упорядочивайте любимые пины с помощью досок", "Boards let you organize what you love", "unauth.desktop.signup_modal.lopBoardUpsell.header", undefined, true);default:return e.bt("Регистрируйтесь, чтобы увидеть больше", "Sign up to see more", "sigup copy default includes pin click and scrolling", undefined, true)}})(G,I),a=!("save"===e&&eD.startsWith("enabled")),n=m&&a&&!eR&&K("ce_dweb_visual_plp_upsell").anyEnabled,r=m&&(!m.is_default_image||eQ||n)?m:null,c=n?tS:tv,g=null;r&&a&&(g=n?(G.bt("Ищите идеи вместе с пользователем {{ name }}", "Start discovering ideas with {{ name }}", "FullPageSignup.signupTitle.social_visual_upsell", undefined, true)).replace("{{ name }}",r.first_name||r.full_name):"respondMessage"===R.type?(G.bt("Зарегистрируйтесь и поделитесь своим мнением с пользователем {{ name }}", "Sign up and let {{ name }} know what you think", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",r.first_name||r.full_name):(G.bt("Присоединяйтесь к пользователю {{ name }} в Pinterest, чтобы найти больше идей", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",r.first_name||r.full_name));let p=(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:eq.mM},width:"login_page"!==e?400:void 0,children:(0,y.jsx)(eH,{container:e,modalType:"signup",titleText:g||(["login_page","home_page","save","download","follow","lopBoardUpsell","lopDownloadUpsell"].includes(e)?i:G.bt("Неограниченный бесплатный доступ к наилучшим идеям со всего мира", "Unlimited free access to the world's best ideas", "FullPageSignup.signupTitle.save", undefined, true)),visualRefreshTypography:h||n})}),f=r&&(n?(0,y.jsxs)(l.Fragment,{children:[(0,y.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:eB.jc_,borderRadius:"32px 32px 0 0",marginBottom:30}},display:"flex",height:347,justifyContent:"center",overflow:"hidden",position:"relative",width:"100%",children:[(0,y.jsx)("img",{alt:"Pinterest upsell background",src:"https://s.pinimg.com/webapp/unauth_dweb_social_visual_upsell-3817bbf1.png",style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",zIndex:new s.Ry(1),children:(0,y.jsx)(tB,{inVisualPLPUpsellExp:n,inviter:r,isVerified:"respondMessage"===R.type,shouldUseLargeImage:!0})})]}),p,(0,y.jsx)(s.xu,{marginBottom:4,marginTop:-4,children:(0,y.jsx)(s.xv,{align:"center",size:"300",children:G.bt("Присоединяйтесь к Pinterest, чтобы собирать идеи вместе", "Join Pinterest to collect ideas together", "mweb.unauth.signup_modal.social_visual_subheader", undefined, true)})})]}):(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(tB,{inviter:r,isVerified:"respondMessage"===R.type}),p]}));return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"signup-default-modal",width:n?540:484,children:[J&&(0,y.jsx)(e4.Z,{rounding:8*!r}),(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:r?c:e5},children:[r&&a?f:(0,y.jsxs)(l.Fragment,{children:[!h&&(0,y.jsx)(eW,{container:e,fallback:(0,y.jsx)(eG,{large:"homePage"!==I}),savePinId:t,savePinImageUrl:o,signupSource:I,user:eh}),p,(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:eq.mM},children:!Y&&(0,y.jsx)(s.xu,{marginBottom:4,marginTop:-4,children:(0,y.jsx)(s.xv,{align:"center",size:"300",children:"login_page"!==e&&"home_page"!==e&&"save"!==e&&"download"!==e&&"follow"!==e&&"lopBoardUpsell"!==e&&"lopDownloadUpsell"!==e?i:"downloadImageBtnDweb"===I&&G.bt("Узнайте, как эффективно упорядочивать идеи", "Discover a better way to keep your ideas organized", "mweb.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"downloadImageBtnUnauth"===I&&G.bt("Скачайте это изображения и не только с помощью аккаунта Pinterest", "Download this image and more with a Pinterest account", "web.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"followButton"===I&&(0,e1.nk)(G.bt("Создайте аккаунт, чтобы подписаться на автора {{ creatorName }}", "Create an account to follow {{ creatorName }}", "mweb.unauth.signup_modal.follow_value_prop_subheader", undefined, true),{creatorName:eh?.full_name})||"homePage"===I&&G.bt("Находите новые идеи для вдохновения", "Find new ideas to try", "Value prop on desktop signup modal on home page", undefined, true)||"saveButtonExp"===I&&G.bt("Неограниченный бесплатный доступ к наилучшим идеям со всего мира", "Unlimited free access to the world's best ideas", "FullPageSignup.signupSubTitle.saDDve", undefined, true)||"lopBoardUpsell"===I&&G.bt("Зарегистрируйтесь, чтобы создать доску!", "Sign up to make one!", "unauth.desktop.signup_modal.lopBoardUpsell.subheader", undefined, true)||G.bt("Ищите полезное", "Discovery starts here", "Pinterest value proposition on desktop login modal", undefined, true)})})})]}),tI,(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},"data-test-id":"signup-options",position:"relative",children:(0,y.jsx)(ew,{additionalChildren:!E&&(0,y.jsx)(C,{layout:"NOT_NOW_BUTTON"===Z&&"SIGNUP_LARGE"||"home_page"===e&&"SIGNUP_SMALL"||"SIGNUP_DEFAULT",onClick:()=>tC({email:ei.email}),shouldHideBusinessCreateFooterLink:!!z,type:"signupToLogin"}),attributionLabel:F,birthday:en,component:ef,container:e,disablePostSignupNextUrl:!A,email:ei.email??"",emailErrorForMagicLink:eI,emailSignUpButtonSize:n?"lg":void 0,handleSsoRedirect:u,loadingIndicatorCallback:ee,nextUrlParam:e6(),onBirthdayUnderage:({birthday:e,email:t})=>{ea({type:"UnderageConfirmation",birthday:e,email:t})},onConsentStepNeeded:to,onEmailContinueClick:n?()=>eF(!0):void 0,onFBMissingEmail:e7,onFBPhoneOnlyConnectVerified:e7,onLoginWithMfa:ts,onOtpRequired:ta,password:el,setBirthday:er,setEmail:e=>ea((ei.type,{...ei,email:e})),setEmailErrorForMagicLink:eO,setPassword:es,showResponseMessageModal:"respondMessage"===R.type?T:void 0,showSignupWelcomeLoadingFn:e=>{eo(e),_&&_(e)},signupSource:I,suppressFocus:B,switchToSocialSignupWithAgeFlow:te,width:n?400:void 0})})]}),z&&z()]})}case"otpSignupViaEmail":return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"otp-signup-step-modal",width:484,children:(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{...e5}},children:[(0,y.jsx)(s.kC,{alignContent:"between",children:(0,y.jsx)(s.hU,{accessibilityLabel:G.bt("Назад на страницу входа", "Go back to login", "signup.otpStep.goBackToLoginButton", undefined, true),dataTestId:"otp-signup-arrow-back-button",icon:"arrow-back",iconColor:"dark",onClick:()=>{(0,O.My)("dweb.otpStep.back_button.click"),Q({view_type:10,view_parameter:4095,element:34,event_type:101}),ea({type:"signup",email:"email"===ei.registrationCredentials.signupOptions.type?ei.registrationCredentials.signupOptions.email:""})},size:"lg"})}),(0,y.jsx)(ti,{disablePostSignupNextUrl:!A,nextUrlParam:e6(),registrationCredentials:ei.registrationCredentials})]})});case"login":{let t,o,a;if("limited_login"!==e&&!P){if(K("dweb_unauth_magic_link_login_primary").anyEnabled&&"select"!==ev&&"emailPassword"!==ev)return ea({type:"loginMagicLink"}),eS("emailInput"),null;if(K("dweb_unauth_otp_login_primary").anyEnabled&&"select"!==eA&&"emailPassword"!==eA)return ea({type:"loginOtp"}),eE("emailInput"),null}if(!ec&&!P&&H&&"AUTH"!==q&&"bottom.right.upsell.email"!==e){let t=H.hasPassword||H.connectedToFacebook||H.connectedToGoogle;return(0,y.jsx)(tn,{email:ei.email??"",footer:tL({email:ei.email}),handleNotYouClick:()=>{e_(!0),td()},header:(0,y.jsxs)(l.Fragment,{children:[J&&(0,y.jsx)(e4.Z,{}),tI]}),noBoxShadow:"pinBookmarklet"===e,title:(0,y.jsx)(eH,{container:e,modalType:"personalizedLogin",titleText:(0,e1.nk)(G.bt("С возвращением, {{name}}!", "Welcome back, {{name}}!", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:H?H.firstName:""}).join(""),visualRefreshTypography:h}),viewerInfo:H,children:(0,y.jsx)(eY.ZP,{attributionLabel:F,component:ef,container:e,disableFBSignup:tT,disablePostSignupNextUrl:!A,email:H.email,handleMagicLinkSendSuccess:()=>{eS("emailSent"),ea({type:"loginMagicLink",email:H?.email})},hideEmailField:!0,hideFacebookButton:t&&!H.connectedToFacebook,hideGoogleButton:t&&!H.connectedToGoogle,hideLineButton:t,hidePasswordField:t&&!H.hasPassword,hideTermsOfService:!0,isBusiness:k,isFBManualLoginDeprecationEnabled:eb,loadingIndicatorCallback:ee,loginButtonTextOverride:G.bt("Продолжить", "Continue", " - ", undefined, true),magicLinkLoginStep:ev,magicLinkPrimaryExpGroup:K("dweb_unauth_magic_link_login_primary").group,nextUrlParam:e6(),onEmailChange:()=>{},oneTimeCodeLoginPrimaryExpGroup:K("dweb_unauth_otp_login_primary").group,oneTimeCodeLoginStep:eA,onLoginWithMfa:ts,requestContext:V,setOneTimeCodeLoginStepAndSignupFlow:tM,shouldHideFBButtonForSignup:eP,showResponseMessageModal:"respondMessage"===R.type?T:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:tr},suppressFocus:B})})}let r=m&&eV&&K("ce_dweb_unauth_splp_modal_update").anyEnabled,d=K("dweb_unauth_qr_code_expanded_on_login_modal").anyEnabled,_="";_=r?(G.bt("Войдите, чтобы сохранять идеи с пользователем {{ name }}", "Log in to save ideas with {{ name }}", "dweb.unauth.splp.header.login.upsell_tagline", undefined, true)).replace("{{ name }}",m.first_name||m.full_name):em?G.bt("Войдите в аккаунт, чтобы оставить комментарий", "Log in to comment", "dweb.unauth.comment_compose.upsell_tagline", undefined, true):i||tE(G,I);let p=["login_page","revamped_business_login_page"].includes(e);t=d?400:r?458:p?void 0:300;let x=(0,y.jsxs)(s.xu,{padding:4,children:[(0,y.jsx)(eT,{onClick:()=>{(0,O.My)(`dweb.desktop_login_modal.magic_link.back_button.${ev}`),"emailPassword"===ev?(eS("emailInput"),ea({type:"loginMagicLink"})):"emailSent"===ev&&(K("dweb_unauth_magic_link_login_primary").group.startsWith("enabled_pwd")?eS("emailPassword"):eS("emailInput"),ea({type:"login",email:ei.email}))}}),L&&(0,y.jsx)(eM.Z,{onClick:()=>{c?.(),(0,O.My)(`dweb.desktop_login_modal.magic_link.close_button.${ev}`)}})]}),b=(0,y.jsx)(s.xu,{bottom:!0,color:"secondary",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 32px 32px"}},height:62,left:!0,width:"100%",children:(0,y.jsx)(s.iP,{fullHeight:!0,onTap:()=>{(0,n.Z)((0,th.Z)("/login",{}),!0),(0,O.My)("unauth.business.login_personal_account.click"),Q({event_type:101,component:13096,element:10773,aux_data:{is_revamped_business_login:!0}})},children:(0,y.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,y.jsx)(s.xv,{weight:"bold",children:G.bt("Войти в личный аккаунт", "Log in to a personal account", "bizsite.revampSignup.redirectToPersonalAccountLogin", undefined, true)})})})});o=d?772:e$?480:484,a=d?tA:r?tv:{...e5,...e$?{padding:"40px"}:{}};let w=(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(eY.ZP,{attributionLabel:F,component:ef,container:e,disableFBSignup:tT,disablePostSignupNextUrl:!A,email:ei.email,handleMagicLinkSendSuccess:()=>{eS("emailSent"),ea({type:"loginMagicLink",email:ei.email})},handleSsoRedirect:u,isAccountSwitch:P,isBusiness:k,isFBManualLoginDeprecationEnabled:eb,loadingIndicatorCallback:ee,magicLinkLoginStep:ev,magicLinkPrimaryExpGroup:K("dweb_unauth_magic_link_login_primary").group,nextUrlParam:e6(),onEmailChange:e=>ea({...ei,email:e.target.value}),oneTimeCodeLoginPrimaryExpGroup:K("dweb_unauth_otp_login_primary").group,oneTimeCodeLoginStep:eA,onFBPhoneOnlyConnectVerified:e7,onLoginWithMfa:ts,onRedirectToSignup:U,qrCodeLoginButtonClickHandler:()=>ea({type:"loginQRCode"}),requestContext:V,setOneTimeCodeLoginStepAndSignupFlow:tM,shouldExpandQRCode:d,shouldHideFBButtonForSignup:eP,showResponseMessageModal:"respondMessage"===R.type?T:void 0,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:te},suppressFocus:B}),k?!e$&&(0,y.jsxs)(s.kC,{alignItems:"center",direction:"column",children:[(0,y.jsx)(f,{}),(0,y.jsx)(s.xv,{size:"100",weight:"bold",children:(0,y.jsx)(s.rU,{href:e8("/business/create"),children:G.bt("Создать аккаунт", "Create new account", "Link to the page to create a new business account instead of logging in", undefined, true)})})]}):!P&&!E&&"emailPassword"!==ev&&"emailPassword"!==eA&&(0,y.jsx)(C,{layout:"NOT_NOW_BUTTON"===Z&&"LOGIN_INLINE"||"SMALL_TOGGLE"===Z&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{tj({email:ei.email})},type:"loginToSignup"})]}),v=(0,y.jsxs)(s.kC,{direction:"row",justifyContent:"between",children:[(0,y.jsxs)(s.xu,{width:400,children:[(0,y.jsx)(s.qd,{align:"center",size:"600",children:G.bt("Добро пожаловать в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true)}),(0,y.jsx)(s.xu,{marginTop:4,children:w})]}),(0,y.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#f6f6f3"}},direction:"column",display:"flex",fit:!0,justifyContent:"center",padding:4,rounding:8,width:300,children:(0,y.jsx)(tc,{container:e,isQRCodeExpanded:d,nextUrlParam:A})})]});return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"login-modal-default",width:o,children:[J&&(0,y.jsx)(e4.Z,{rounding:8}),(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:a},children:["emailPassword"===ev||"emailSent"===ev?x:tI,eP&&(0,y.jsx)(eL.Z,{}),!d&&!e$&&!h&&(0,y.jsx)(eG,{large:"homePage"!==I}),(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{...e$?{...eq.mM,width:void 0,marginBottom:"40px"}:eq.mM,...L&&h&&!r?{marginTop:"32px"}:{}}},width:t,children:[r&&(0,y.jsx)(tB,{inviter:m,isVerified:"respondMessage"===R.type}),!d&&(0,y.jsx)(eH,{container:e,modalType:"login",titleText:_,visualRefreshTypography:h}),d&&(0,y.jsx)(s.xu,{color:"transparent",height:8,width:"100%"}),"lopBoardUpsell"===I&&(0,y.jsx)(s.xu,{marginBottom:4,marginTop:1,children:(0,y.jsx)(s.xv,{align:"center",size:"300",children:G.bt("Войдите, чтобы создать доску.", "Log in to make one!", "unauth.desktop.signup_modal.lopBoardUpsell.subheader", undefined, true)})}),"lopDownloadUpsell"===I&&(0,y.jsx)(s.xu,{marginBottom:4,marginTop:2,children:(0,y.jsx)(s.xv,{align:"center",size:"300",children:G.bt("Скачайте это изображения и не только с помощью аккаунта Pinterest", "Download this image and more with a Pinterest account", "unauth.desktop.signup_modal.download_upsell.subheader", undefined, true)})})]}),P&&!g&&(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:eq.mM},children:(0,y.jsx)(s.xu,{marginBottom:8,marginTop:-4,children:(0,y.jsx)(s.xv,{align:"center",size:"300",children:G.bt("У вас есть другой аккаунт Pinterest? Войдите, чтобы удобно переключаться между ними", "Have another Pinterest account? Log in to easily switch between them", "Subtitle on the login modal that explains to a user why they would add an additional account to their profile", undefined, true)})})}),d?v:w]}),e$&&b]})}case"loginMagicLink":{let t="enabled_pwd_lite"===K("dweb_unauth_magic_link_login_primary").group&&"emailSent"===ev;return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"login-modal-magic-link",width:e$?480:484,children:[J&&(0,y.jsx)(e4.Z,{rounding:8}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:t?{minHeight:"auto",padding:"62px 20px 96px"}:e5},children:(0,y.jsxs)(e9,{handleCloseButtonClick:c,hideLogo:h,loginFormOptions:{container:e,showCloseIcon:L,loginEmail:ei.email,titleText:tE(G,I),currentStep:ev,setCurrentStep:eS},magicLinkPrimaryExpGroup:K("dweb_unauth_magic_link_login_primary").group,setEmailErrorForMagicLink:eO,setSignupFlow:ea,children:[(0,y.jsx)(eY.ZP,{container:e,disableFBSignup:tT,disablePostSignupNextUrl:!A,email:ei.email,handleMagicLinkSendSuccess:()=>{eS("emailSent"),ea({type:"loginMagicLink",email:ei.email})},hideTermsOfService:K("dweb_unauth_magic_link_login_primary").group.startsWith("enabled_pwd")&&"emailSent"===ev,isBusiness:k,isFBManualLoginDeprecationEnabled:eb,loadingIndicatorCallback:ee,magicLinkLoginStep:ev,magicLinkPrimaryExpGroup:K("dweb_unauth_magic_link_login_primary").group,qrCodeLoginButtonClickHandler:()=>ea({type:"loginQRCode"}),requestContext:V,shouldHideFBButtonForSignup:eP,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:te},suppressFocus:B}),!E&&"emailSent"!==ev&&"emailPassword"!==ev&&(0,y.jsx)(C,{layout:"NOT_NOW_BUTTON"===Z&&"LOGIN_INLINE"||"SMALL_TOGGLE"===Z&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{tj({email:ei.email})},type:"loginToSignup"})]})})]})}case"loginMfa":return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"login-modal-mfa",width:489,children:(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e5},children:[tI,!h&&(0,y.jsx)(eG,{}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...eq.mM,padding:"0 10px"}},width:"100%",children:(0,y.jsx)(eH,{container:e,modalType:"loginMfa",titleText:G.bt("Требуется двухфакторная аутентификация", "Two-factor authentication required", "desktopLoginModal.2fa.title", undefined, true),visualRefreshTypography:h})}),(0,y.jsx)(e2,{container:e,creds:ei.creds,isAccountSwitch:P,nextUrlParam:e6(),phoneNumberEnd:ei.phoneNumberEnd})]})});case"socialSignupWithAge":return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"birthday-collection-modal",minHeight:"0",children:(0,y.jsx)(N,{disablePostSignupNextUrl:!A,handleLoginToggleButtonClick:tC,loadingIndicatorCallback:ee,nextUrlParam:e6(),registrationCredentials:ei.registrationCredentials,showResponseMessageModal:"respondMessage"===R.type?T:void 0})});case"EmailCollection":{let e=()=>{ea({type:"signup",email:ei.registrationCredentials.signupOptions.email}),ee(!1)},t=({email:e})=>ea({type:"EmailAlreadyExist",email:e});return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:tb},"data-test-id":"line"===ei.registrationCredentials.type?"signup-modal-line-phone-only":"signup-modal-facebook-phone-only",minHeight:400,children:[J&&(0,y.jsx)(e4.Z,{rounding:8}),(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e5},children:[tI,!h&&(0,y.jsx)(eG,{}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:eq.mM},width:310,children:(0,y.jsx)(s.X6,{size:"700",children:G.bt("Укажите свой адрес электронной почты", "What's your email address?", "Prompt for email address in after sign in with line", undefined, true)})}),"line"===ei.registrationCredentials.type?(0,y.jsx)(eK,{loadingIndicatorCallback:ee,nextUrlParam:A,onNotNowClick:e,registrationCredentials:ei.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:te}):(0,y.jsx)(ej,{loadingIndicatorCallback:ee,nextUrlParam:A,onConsentStepNeeded:to,onNotNowClick:e,registrationCredentials:ei.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:te})]})]})}case"EmailAlreadyExist":return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:tl},"data-test-id":"login-modal-existing-email",children:[J&&(0,y.jsx)(e4.Z,{}),!h&&(0,y.jsx)(eG,{}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:eq.mM},maxHeight:120,overflow:"hidden",width:350,children:(0,y.jsx)(eH,{container:e,modalType:"personalizedLogin",titleText:(0,e1.nk)(G.bt("Похоже, вы уже зарегистрированы в Pinterest", "Looks like you're already on Pinterest", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:H?H.firstName:""}).join(""),visualRefreshTypography:h})}),(0,y.jsx)(s.xu,{marginBottom:3,children:(0,y.jsx)(s.xv,{align:"center",children:ei.email})}),(0,y.jsx)(eY.ZP,{attributionLabel:F,component:ef,container:e,disableFBSignup:tT,disablePostSignupNextUrl:!A,email:ei.email,hideEmailField:!0,hideFacebookButton:!0,hideLineButton:!0,hideTermsOfService:!0,isBusiness:k,isFBManualLoginDeprecationEnabled:eb,loadingIndicatorCallback:ee,loginButtonTextOverride:G.bt("Продолжить", "Continue", " - ", undefined, true),nextUrlParam:e6(),onEmailChange:()=>{},onLoginWithMfa:ts,requestContext:V,shouldHideFBButtonForSignup:eP,showResponseMessageModal:"respondMessage"===R.type?T:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:tr},suppressFocus:B}),(0,y.jsx)(s.xu,{paddingY:5,children:(0,y.jsx)(s.iz,{})}),(0,y.jsx)(s.xu,{"data-test-id":"login-switch-account",children:(0,y.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),ea({type:"login"}),e_(!0),td()},children:(0,y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,y.jsx)(s.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:G.bt("Это не вы? Войдите с помощью другого аккаунта", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,y.jsx)(s.xu,{marginBottom:4,marginTop:1,children:tL({email:ei.email})}),tI]});case"UnderageConfirmation":return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"underage-confirmation-modal",children:(0,y.jsx)(j.Z,{birthday:ei.birthday,onEditBirthday:()=>{ea({type:"signup",email:ei.email}),ee(!1)}})});case"consents":return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"consents-step-modal",width:484,children:[tI,(0,y.jsx)(W,{disablePostSignupNextUrl:!A,nextUrlParam:e6(),onBackButtonClick:()=>{ea({type:"signup",email:"email"===ei.registrationCredentials.signupOptions.type?ei.registrationCredentials.signupOptions.email:""})},onBirthdayUnderage:({birthday:e,email:t})=>{ea({type:"UnderageConfirmation",birthday:e,email:t})},onOtpRequired:ta,registrationCredentials:ei.registrationCredentials})]});case"loginQRCode":return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"qr-code-login-modal",width:484,children:(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{...e5}},children:[(0,y.jsxs)(s.kC,{alignContent:"between",children:[(0,y.jsx)(s.hU,{accessibilityLabel:G.bt("Назад на страницу входа", "Go back to login", "unauth.desktopWeb.loginForm.qrCodeLoginModal.goBackToLoginButton", undefined, true),dataTestId:"arrow-back-button",icon:"arrow-back",iconColor:"dark",onClick:()=>{(0,O.My)("dweb.qr_code_modal.back_button.click"),ea({type:"login"})},size:"md"}),tI]}),!h&&(0,y.jsx)(eG,{}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:eq.mM},width:["login_page","revamped_business_login_page"].includes(e)?void 0:400,children:(0,y.jsx)(eH,{container:e,modalType:"loginQRCode",titleText:G.bt("Сканирование с помощью телефона", "Scan with your phone", "desktopLoginModal.qrCode.title", undefined, true),visualRefreshTypography:h})}),(0,y.jsx)(tc,{container:e,isQRCodeExpanded:!1,nextUrlParam:A})]})});case"loginOtp":return(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"login-modal-one-time-code",width:e$?480:484,children:[J&&(0,y.jsx)(e4.Z,{rounding:8}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...tP,padding:"20px 10px 104px"}},children:(0,y.jsxs)(tt,{handleCloseButtonClick:c,hideLogo:h,isOTPLoginV1Enabled:K("dweb_unauth_otp_login_v1",{dangerouslySkipActivation:!0}).anyEnabled,loadingIndicatorCallback:ee,loginFormOptions:{container:e,showCloseIcon:L,loginEmail:ei.email,titleText:tE(G,I),currentStep:eA,setCurrentStep:eE},nextUrlParam:A,oneTimeCodeLoginPrimaryExpGroup:K("dweb_unauth_otp_login_primary").group,setOneTimeCodeEmail:eC,setSignupFlow:ea,children:[(0,y.jsx)(eY.ZP,{container:e,disableFBSignup:tT,disablePostSignupNextUrl:!A,email:ei.email,hideEmailField:!0,hidePasswordField:!0,hideTermsOfService:"codeInput"===eA,isBusiness:k,isFBManualLoginDeprecationEnabled:eb,loadingIndicatorCallback:ee,oneTimeCodeLoginPrimaryExpGroup:K("dweb_unauth_otp_login_primary").group,oneTimeCodeLoginStep:eA,qrCodeLoginButtonClickHandler:()=>ea({type:"loginQRCode"}),requestContext:V,setOneTimeCodeLoginStepAndSignupFlow:tM,shouldHideFBButtonForSignup:eP,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:te},suppressFocus:B}),!E&&"codeInput"!==eA&&"emailPassword"!==eA&&(0,y.jsx)(C,{layout:"NOT_NOW_BUTTON"===Z&&"LOGIN_INLINE"||"SMALL_TOGGLE"===Z&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{tj({email:ei.email})},type:"loginToSignup"})]})})]});default:return null}}},847771:function(e,t,o){o.d(t,{Z:()=>d});var i=o(686659),a=o(667294),l=o(20256),s=o(24246),n=o(774838),r=o(785893);let d=({onClick:e,zIndex:t})=>{(0,a.useEffect)(()=>{(0,i.Z)("FullPageSignupCloseButton","/app/packages/desktopLoginModal/FullPageSignupCloseButton.tsx")},[]);let o=(0,n.B)(),d=(0,s.Z)();return(0,r.jsx)(l.xu,{"data-test-id":"full-page-signup-close-button",display:"block",height:40,left:o.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!o.isRTL,top:!0,width:40,zIndex:t?new l.Ry(t):void 0,children:(0,r.jsx)(l.hU,{accessibilityLabel:d.bt("закрыть", "close", "accessible label for close button", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:e,size:"md"})})}},424016:function(e,t,o){o.d(t,{Z:()=>p});var i=o(686659),a=o(667294),l=o(20256),s=o(966502),n=o(538985),r=o(470967),d=o(924591),c=o(24246),_=o(637539),u=o(935833),g=o(785893);let p=({birthday:e,onEditBirthday:t,onConfirmBirthday:o=()=>{}})=>{(0,a.useEffect)(()=>{(0,i.Z)("UnderageConfirmation","/app/packages/desktopLoginModal/UnderageConfirmation.tsx")},[]);let p=(0,c.Z)(),[h,m]=(0,a.useState)(!1);return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(l.xu,{"data-test-id":"underageconfirmation-modal",padding:8,children:(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,g.jsx)(l.xu,{"data-test-id":"underageconfirmation-title",marginBottom:5,width:420,children:(0,g.jsx)(l.X6,{align:"center",size:"700",children:(0,n.ew)(e||"",p)})}),(0,g.jsx)(l.xu,{marginBottom:10,maxWidth:540,children:(0,g.jsx)(l.xv,{align:"center",children:(0,n.Pe)(p)})}),(0,g.jsx)(l.xu,{children:(0,g.jsxs)(l.kC,{children:[(0,g.jsx)(l.xu,{marginEnd:2,children:(0,g.jsx)(l.zx,{onClick:()=>{(0,u.My)("dweb.underageconfirmation.edit"),r.t8(s.It,"0",(0,r.kZ)(s.It)),t()},text:p.bt("Изменить", "Edit", "signup.underageconfirmation.edit", undefined, true)})}),(0,g.jsx)(l.zx,{color:"red",onClick:()=>{m(!0),(0,u.My)("dweb.underageconfirmation.confirm"),o(),setTimeout(()=>{_.ZP.handleRedirect("/")},4e3)},text:p.bt("Подтвердить", "Confirm", "signup.underageconfirmation.confirm", undefined, true),type:"submit"})]})})]})}),h&&(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,g.jsx)(d.Z,{duration:3500,onHide:()=>m(!h),text:p.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.underageconfirmation.error", undefined, true)})})]})}},819239:function(e,t,o){function i(e){e&&e.focus()}o.d(t,{Z:()=>i})},954928:function(e,t,o){o.d(t,{Z:()=>i});let i=(e,t)=>{let o=new URL(e,"https://pinterest.com");return o.search=new URLSearchParams(t).toString(),o.toString().substring(o.origin.length)}},576863:function(e){e.exports="https://s.pinimg.com/webapp/birthday-d809c2dd.png"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/38456.ru_RU-9503ce7c0f3f7ed5.mjs.map