(self.modernJsonp=self.modernJsonp||[]).push([["46123"],{335193:function(e,t,l){var n,r,i,a,s,o,d,u,c,p,f;l.r(t),l.d(t,{default:()=>g});let h=(d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},r={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:o=[s={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:o,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},d,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[i,a,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},u,c,p,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[d,f],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[u,p,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[f],storageKey:null},c,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:o,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:o,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:o,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},a],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},r],storageKey:null}]},params:{id:"80c1a1abebbd5ea74f29a00e3aceaa146b22d1a4b6dc1141fd7de9c55c51a678",metadata:{},name:"SearchLandingPageFeaturedBoardsQuery",operationKind:"query",text:null}});h.hash="3ca45565a804bd5428a8509aa83434c3";let g=h},932334:function(e,t,l){var n;l.r(t),l.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},n,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};r.hash="92b841173868ce353dd00b5fce287546";let i=r},353491:function(e,t,l){var n,r,i,a,s;l.r(t),l.d(t,{default:()=>d});let o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};o.hash="5a3162913508a33c37676bde5973ea45";let d=o},433100:function(e,t,l){l.d(t,{f:()=>b,l:()=>S});var n=l(667294),r=l(178226),i=l(735243),a=l(477738),s=l(148),o=l(252974),d=l(250182),u=l(655068),c=l(531624),p=l(515511),f=l(213491),h=l(360033),g=l(986475),_=l(640200),m=l(785893);let y=(e,t,l)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===l);if(!n)return;let r=(0,g.Z)(_.Z,!0)(n),i=e.findIndex(({action:e})=>e?.filter?.productFilterType===l);e[i]?e[i]=r:e.push(r)},v=(e,t,l,n)=>{let r=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(r?.action?.filter){let e=r.action.filter.filterOptions;r.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[l]&&t.split(",").includes(String(e[l]))).map(e=>({...e,selected:!0})):[]}},{Provider:x,get:S}=(0,f.Z)("OneBarProductFilters");function b({children:e}){let[t,l]=(0,n.useState)([]),[f,g]=(0,n.useState)(null),_=function(){let{scope:e}=(0,s.n)();return[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(e)}(),S=(0,c.Z)(),b=(0,d.Z)(),w=(0,r.Z)(),I=(0,i.Z)(),k=(0,u.Z)(),P=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let r=e?.filter(({module_type:e})=>17===e||0===e);if(!r||r?.length===0||!n)return;let i=n!==f,a=i?[]:t;(i||!_)&&y(a,r,4),(i||!S)&&y(a,r,1),(i||!b)&&y(a,r,0),(i||!w)&&y(a,r,3),(i||!I)&&y(a,r,6),(i||!k)&&[7,8,9].forEach(e=>{y(a,r,e)}),(0,h.ZP)(a,t)||(l(a),g(n))},[t,w,I,_,b,k,S,f]),E=(0,o.Z)(),{priceMax:F,priceMin:C,scope:T,brands:Z,onSale:L,colors:B,domains:A}=(0,s.n)();(0,n.useEffect)(()=>{if(!E||0===t.length)return;let e=(0,p.Z)(t);if(T!==a.lw.PINS){let t=(0,a.gi)(T),l=e.find(({moduleType:e})=>0===e);l?.action?.filter&&(l.action.filter.appliedFilterOptions=[...l.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:l}=e;return{searchType:l,selected:l===t}}))}if("string"==typeof F||"string"==typeof C){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(C)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(F)}:null].filter(Boolean))}v(new Set([3]),Z,"stringValue",e),v(new Set([6]),B,"stringValue",e),v(new Set([0]),A,"stringValue",e),v(new Set([7,8,9]),L,"numericValue",e),(0,h.ZP)(e,t)||l(e)},[t,E,F,C,T,Z,B,A,L]);let O=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:P}),[t,P]);return(0,m.jsx)(x,{value:O,children:e})}},310878:function(e,t,l){l.d(t,{N$:()=>L,wy:()=>A,VA:()=>T});var n,r=l(667294),i=l(167912),a=l(433100),s=l(675450),o=l(17832),d=l(856853);let u=(e,t,l)=>l&&(0,o.nZ)(l,t)?s.v.MODIFIED:(0,o.B1)(t,e)||l&&(0,o.Uv)(l,e)||(0,o.Uv)(t,e)?s.v.CLEARED:s.v.APPLIED;function c(e,t){(0,o.ph)(t);let l=e.find(e=>e?.id===t.id),n=l?.rules,r=l?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||n;if(!r)return[e,[]];let i=[],a=[];return e.forEach(e=>{void 0!==e.product_filter_type&&r.includes(e.product_filter_type)?i.push(e):a.push(e)}),[i,a]}function p(e,t){switch(t.type){case"RESET_FILTERS":let[l,n]=t.payload,r=l,i=(0,d.Z)(n)?(0,o.iP)(l):n;return Object.values(i).forEach(e=>{let[t]=c(r,e);r=t}),{models:l,availableFilterModels:r,appliedFilters:n,filters:i,isFetching:!1,pendingDeletedSelections:{},status:u(l,n,i)};case"CLEAR_FILTERS":let a=e.models,p=(0,o.P5)(e.models);return Object.values(p).forEach(e=>{let[t]=c(a,e);a=t}),{...e,filters:p,availableFilterModels:a,pendingDeletedSelections:{},status:u(e.models,e.appliedFilters,p)};case"UPDATE_FILTER":let{payload:f}=t,[h,g]=c(e.models,f),_={...e.filters,[f.id]:f},m={...e.pendingDeletedSelections};return h.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(_[e.id]=t,delete m[e.id])}),g.forEach(e=>{if(!e.id)return;let t=_[e.id];t&&(m[e.id]=t,delete _[e.id])}),(0,o.ph)(f,e.models.find(e=>e.id===f.id))&&delete _[f.id],{...e,availableFilterModels:h,filters:_,pendingDeletedSelections:m,status:u(e.models,e.appliedFilters,_)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:s.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:s.v.FAILED};case"SUBMIT_COMPLETE":let{filters:y}=e;return{...e,appliedFilters:y,pendingDeletedSelections:{},status:u(e.models,y)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var f=l(178226),h=l(735243),g=l(250182),_=l(655068),m=l(531624),y=l(360033);let v=new Set([1,0,3,6,7,8,9]),x=(e,t,l)=>{let n=t?.find(({product_filter_type:e})=>e===l);if(!n)return;let r=e.findIndex(({product_filter_type:e})=>e===l);e[r]?e[r]=n:e.push(n)},S=(e,t,l)=>{let n=t?.find(({product_filter_type:e})=>e===l);if(!n)return e;let r=e.findIndex(({product_filter_type:e})=>e===l);return e[r]?e[r]=n:e.push(n),e};var b=l(252974),w=l(213491),I=l(661376),k=l(148),P=l(657476),E=l(785893);let F=()=>{},{Provider:C,getMaybe:T}=(0,w.Z)("UnifiedFiltersContext"),Z=({applyInitFilters:e,children:t,filterModels:l,filters:n,isFetching:i,refreshFiltersData:a})=>{let{query:d}=(0,k.n)(),u=(0,b.Z)(),{getCachedFilters:c,cacheUnifiedFilterModelsWithProductFilters:w}=function(){let[e,t]=(0,r.useState)([]),[l,n]=(0,r.useState)(null),i=(0,m.Z)(),a=(0,g.Z)(),s=(0,f.Z)(),o=(0,h.Z)(),d=(0,_.Z)(),u=(0,r.useCallback)(({unifiedFilterModels:r,baseCacheKey:u})=>{let c=r?.filter(({product_filter_type:e})=>void 0!==e&&v.has(e));if(!c||c?.length===0||!u)return;let p=u!==l,f=p?[]:e;(p||!i)&&x(f,c,1),(p||!a)&&x(f,c,0),(p||!s)&&x(f,c,3),(p||!o)&&x(f,c,6),(p||!d)&&[7,8,9].forEach(e=>{x(f,c,e)}),(0,y.ZP)(f,e)||(t(f),n(u))},[e,s,o,a,d,i,l]);return{getCachedFilters:(0,r.useCallback)(t=>{if(!t||t?.length===0)return[];let l=[...t];return i&&(l=S(l,e,1)),a&&(l=S(l,e,0)),s&&(l=S(l,e,3)),o&&(l=S(l,e,6)),d&&[7,8,9].forEach(t=>{l=S(l,e,t)}),l},[e,s,o,a,d,i]),cacheUnifiedFilterModelsWithProductFilters:u}}(),I=e?.(l)||n||{},[P,F]=(0,r.useReducer)(p,{models:l,availableFilterModels:l,appliedFilters:I,filters:I,pendingDeletedSelections:{},isFetching:i,status:(0,o.B1)(I,l)||(0,o.Uv)(I,l)?s.v.CLEARED:s.v.APPLIED}),[T,Z]=(0,r.useState)(l);(0,r.useEffect)(()=>{i&&F({type:"LOADING"})},[i]),(0,r.useEffect)(()=>{if(i||P.isFetching&&0===l.length)return;if(!(0,o.a$)(T,l))return void F({type:"LOADING_COMPLETED_OR_FAILED"});let t=l;u||(t=c([...l]),w({unifiedFilterModels:[...l],baseCacheKey:d})),F({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),Z(l)},[e,l,T,i,P.isFetching,c,w,d,u]);let L=(0,r.useMemo)(()=>({filterState:P,dispatch:F,refreshFiltersData:a}),[P,a]);return(0,E.jsx)(C,{value:L,children:t})},L=({bookmark:e="",children:t,generateInitFilterCb:l})=>{let n=(0,b.Z)(),{data:r=null,refresh:i,isLoaded:s}=(0,I.Z)(!n&&e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{cachedProductFilterOneBarModules:d}=(0,a.l)(),u=d.map(o.tx).filter(Boolean);return(0,E.jsx)(Z,{applyInitFilters:l,filterModels:(n?u:r)||[],isFetching:n?0===u.length:!s||!e,refreshFiltersData:i,children:t})},B=(void 0!==n||(n=l(932334)).hash&&"92b841173868ce353dd00b5fce287546"!==n.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),A=({children:e,oneBarModulesKey:t})=>{let{data:l,isFetching:n,isLoaded:a}=(0,P.Z)(),{oneBarModules:o}=l||{},d=(0,i.useFragment)(B,t),u=(0,r.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:n,pendingDeletedSelections:{},status:s.v.CLEARED},refreshFiltersData:F}),[n]),c=(d?[d]:o?.map(e=>e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(e=>({isSelected:e.is_selected??null,id:e.id??null,display:e.display?{displayText:e.display.display_text??null}:null,action:e.action?{feedUrl:e.action.feed_url??null}:null})):null}:null,id:e.id??null,moduleType:e.module_type??null}))?.find(({moduleType:e})=>0===e),p=c?.action?.filters;if(!c||!p)return(0,E.jsx)(C,{value:u,children:e});let f=c.id||"",h={[f]:{id:f,selectedOptionId:p.find((e,t)=>e?.isSelected&&0!==t)?.id||"",type:"single",lastChangedLocation:1}};return(0,E.jsx)(Z,{filterModels:[{filter_component_type:2,filter_options:p.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:f,title:"",product_filter_type:4}],filters:h,isFetching:!a,refreshFiltersData:F,children:e})}},675450:function(e,t,l){l.d(t,{$:()=>n,v:()=>r});let n=50,r={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},190665:function(e,t,l){l.d(t,{Z:()=>u});var n=l(433100),r=l(310878),i=l(17832),a=l(986475),s=l(537701),o=l(629724),d=l(148);function u(){let{brands:e,colors:t,domains:l,onSale:u,priceMax:c,priceMin:p}=(0,d.n)(),f=(0,r.VA)(),{cachedProductFilterOneBarModules:h}=(0,n.l)(),g=Number((0,o.Z)().filter_location);if(1===g){let{filterState:e}=f||{};return e?(0,i.Ax)(e.appliedFilters,e.models):null}if(0===g){let n=(0,a.Z)(s.Z,!0)(h.map(e=>e.action?.filter).filter(Boolean));return(0,i.vJ)({brandsParam:e,colorsParam:t,domainsParam:l,onSaleParam:u,priceMaxParam:c,priceMinParam:p,unifiedFilterModels:n})}return null}},178226:function(e,t,l){l.d(t,{Z:()=>i});var n=l(312048),r=l(575820);function i(){return!!(0,r.mB)((0,n.TH)().search).brands}},735243:function(e,t,l){l.d(t,{Z:()=>a});var n=l(312048),r=l(501010),i=l(575820);function a(){let{checkExperiment:e}=(0,r.Z)(),t=(0,n.TH)(),{colors:l}=(0,i.mB)(t.search);return!!l&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,l){l.d(t,{Z:()=>r});var n=l(501010);function r(){let{checkExperiment:e}=(0,n.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,l){l.d(t,{Z:()=>i});var n=l(312048),r=l(575820);function i(){return!!(0,r.mB)((0,n.TH)().search).domains}},531624:function(e,t,l){l.d(t,{Z:()=>i});var n=l(312048),r=l(575820);function i(){let e=(0,n.TH)(),{price_max:t,price_min:l}=(0,r.mB)(e.search);return!!(l??t)}},17832:function(e,t,l){l.d(t,{Ak:()=>w,Ax:()=>x,B1:()=>p,LG:()=>b,P5:()=>g,UP:()=>I,Uv:()=>f,a$:()=>u,eF:()=>k,i7:()=>m,iP:()=>h,nZ:()=>d,ph:()=>c,rc:()=>v,tx:()=>S,vJ:()=>y});var n=l(675450),r=l(360033),i=l(477738);let a=e=>e.map(({filter_component_type:e,filter_options:t,title:l})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:l,image_url:n,is_verified:r,numeric_value:i,string_value:a,unit:s})=>({id:e,label:t,count:l,image_url:n,is_verified:r,numeric_value:i,string_value:a,unit:s})),title:l})),s=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,r.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},o=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(o(e)&&o(t))return!1;if(o(e)||o(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let l in e)if(s(e[l],t?.[l]))return!0;return!1},u=(e,t)=>!(0,r.ZP)(a(e),a(t)),c=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},p=(e,t)=>{try{for(let l in e){let n=e[l],r=t.find(e=>e.id===n?.id);if(n&&!c(n,r))return!1}return!0}catch(e){return!0}},f=(e,t)=>{if(!t||0===t.length)return!1;let l=t[0];if(!l)return!1;switch(l?.filter_component_type){case 2:let n=l.filter_options?.[0];for(let t in e){let l=e[t];if(!l)break;if("selectedOptionId"in l&&l.selectedOptionId===n?.id)return!0}return!1;case 1:for(let t in e){let n=e[t];if(!n)break;if(n.id===l.id&&"selectedOptionIds"in n&&0===n.selectedOptionIds.size)return!0}return!1;default:return!1}},h=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let l=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return l&&l.length>0?{selectedOptionIds:new Set(l),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),g=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let l=t.filter_options?.[0]?.id;return l&&"string"==typeof t.id?{[t.id]:{selectedOptionId:l,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},_=e=>e.map(e=>{let{filter_id:t,filter_options:l,product_filter_type:n}=e,r=t;return"number"==typeof n&&(r+=`_${n}`),l.length>0&&(r+=":",l.forEach((e,t)=>{let{filter_option_id:n,numeric_value:i,string_value:a,unit:s}=e;r+=`${n}`,"number"==typeof i&&(r+=`_${i}`),"string"==typeof a&&(r+=`_${a}`),"string"==typeof s&&(r+=`_${s}`),t<l.length-1&&(r+=",")})),r}).join("|"),m=({brands:e,colors:t,domains:l,onSale:n,priceMax:r,priceMin:a,scope:s,unifiedFilterModels:o})=>{let d={};for(let{filter_options:u,id:c,product_filter_type:p}of o)if(c&&u?.length){if(1===p&&("number"==typeof a||"number"==typeof r)){let[e,t,l,n]=u,i=a??l?.numeric_value??e?.numeric_value??0,s=r??n?.numeric_value??t?.numeric_value??100;d[c]={min:i,max:s,id:c,type:"range",lastChangedLocation:1}}if(0===p&&l&&l.length>0){let e=l.map(e=>{let t=u.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===p&&e&&e.length>0){let t=e.map(e=>{let t=u.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===p&&t&&t.length>0){let e=t.map(e=>{let t=u.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===p&&s){let e=(0,i.gi)(s),t=u.find(({search_type:t})=>t===e);t?.id&&(d[c]={id:c,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof p&&new Set([7,8,9]).has(p)&&n){let e=u[0]?.id;e&&(d[c]={id:c,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},y=({brandsParam:e,colorsParam:t,domainsParam:l,onSaleParam:n,priceMaxParam:r,priceMinParam:i,unifiedFilterModels:a})=>{let s=[],o=Number(i),d=Number(r),u=Number.isNaN(o)?void 0:o,c=Number.isNaN(d)?void 0:d,p=l?.split(",").filter(Boolean)??[],f=e?.split(",").filter(Boolean)??[],h=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:l}of a)if(t&&e?.length){if(1===l&&"number"==typeof u&&"number"==typeof c){let n={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?u:c,unit:e.unit||"USD"})),location:0,product_filter_type:l};s.push(n)}if(0===l&&p&&p.length>0){let n=p.map(t=>{let l=e.find(e=>e.string_value===t);return l?l.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};s.push(e)}}if(3===l&&f&&f.length>0){let n=f.map(t=>{let l=e.find(e=>e.string_value===t);return l?l.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};s.push(e)}}if(6===l&&h&&h.length>0){let n=h.map(t=>{let l=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return l?l.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};s.push(e)}}if(7===l&&n){let r=e[0]?.id;if(r){let e={filter_id:t,filter_options:[{filter_option_id:r,numeric_value:Number(n)}],location:0,product_filter_type:l};s.push(e)}}}return 0===s.length?null:_(s)},v=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:l})=>{let n=null,r=null,a=!1,s=null,o=null,d=null,u=null,c=null;for(let p in e){let f=e[p];if(f){let e=l.find(e=>e.id===f.id);if(e)if("range"===f.type&&1===e.product_filter_type)d=f.min,o=f.max;else if("multi"===f.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>f.selectedOptionIds.has(e.id||""));s=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===f.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>f.selectedOptionIds.has(e.id||""));n=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===f.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>f.selectedOptionIds.has(e.id||""));r=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===f.type&&4===e.product_filter_type){let l=e.filter_options?.find(e=>f.selectedOptionId===e.id),n=l&&void 0!==l.search_type?(0,i.zh)(l.search_type):i.lw.PINS;c=n,t&&(c=n===i.lw.PINS_BUYABLE?i.lw.PINS:n,a=n===i.lw.PINS_BUYABLE)}else"single"===f.type&&7===e.product_filter_type&&(u=e.filter_options?.[0]?.numeric_value)}}let p=l.find(e=>4===e.product_filter_type),f=p?.filter_options?.find(e=>e.is_selected);return null===c&&"number"==typeof f?.search_type&&(c=(0,i.zh)(f.search_type)),{brands:n,colors:r,commerce_only:a,domains:s,max:o,min:d,on_sale:u,scope:c}},x=(e,t)=>{let l=[];return(Object.entries(e).forEach(([e,n])=>{let r=t.find(e=>e.id===n.id);if(!r||4===r.product_filter_type||"number"!=typeof r.product_filter_type||!r.filter_options)return;let i=[];if("range"===n.type){let[e,t]=r.filter_options;if(!e?.id||!t?.id)return;i=[{filter_option_id:e.id,numeric_value:n.min,unit:e.unit},{filter_option_id:t.id,numeric_value:n.max,unit:t.unit}]}if("single"===n.type){let e=r.filter_options.find(e=>e.id===n.selectedOptionId);if(!e?.id)return;i=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===n.type){let e=r.filter_options.filter(e=>e.id&&n.selectedOptionIds.has(e.id));if(0===e.length)return;i=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}l.push({filter_id:e,filter_options:i,location:n.lastChangedLocation,product_filter_type:r.product_filter_type})}),l&&0!==l.length)?_(l):null},S=e=>{let{filter:t,title:l}=e.action||{},{title:n}=t||{},r=l||n;if(!t||!r)return null;let{filterComponentType:i,productFilterType:a,id:s}=t,o=(t.filterOptions||[]).filter(Boolean);if(void 0===i||void 0===o||0===o.length||null==a||null==s)return null;let d=(e=>{let t=e.map(e=>{if(!e)return null;let{auxData:t,id:l,imageUrl:n,isVerified:r,label:i,numericValue:a,searchType:s,stringValue:o,unit:d,rules:u}=e;return null===n||null===n||null===a||null===r||null===o||null===d?null:{id:l||"",label:i||"",count:0,image_url:n,is_verified:r,numeric_value:a,...u?{rules:[...u]}:{},..."number"==typeof s?{search_type:s}:{},string_value:o,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean);return t.length>0?t:null})(o);return d?{filter_component_type:i,filter_options:[...d],id:s||"",product_filter_type:a,title:r}:null};function b(e,t,l){let[r,i,a,s]=l,{numeric_value:o=0}=s??r??{},{numeric_value:d=o+n.$}=a??i??{},{unit:u="USD"}=r??{},c=e.filters[t]?.type==="range"?e.filters[t]:{min:o,max:d,id:t,type:"range",lastChangedLocation:1};return{defaultMax:d,defaultMin:o,unit:u,range:c}}function w(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function I(e,t){let l=[];return Object.entries(t).forEach(([t,n])=>{let r=e.find(e=>e?.id===t);if(r){let e=r.aux_data?.module_id;e&&l.push(e);let t=("multi"===n.type?Array.from(n.selectedOptionIds):"single"===n.type?[n.selectedOptionId]:[]).map(e=>{let t=r.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);l.push(...t)}}),l}function k(e,t){let l=[];return Object.keys(t).forEach(t=>{let n=e.find(e=>e?.id===t);if(n){let e=n.product_filter_type;e&&l.push(e)}}),l}},860536:function(e,t,l){l.d(t,{Z:()=>i,t:()=>r});var n=l(405897);let r=[n.i.GUIDED_SEARCH_LANDING,n.i.GUIDED_SEARCH_ENTRY],i=296},667980:function(e,t,l){l.d(t,{N:()=>o,Z:()=>s});var n=l(686659),r=l(667294),i=l(20256),a=l(785893);function s({children:e,fullWidth:t,overrideDataTestId:l}){return(0,r.useEffect)(()=>{(0,n.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":l||"pointer-events-wrapper",children:e})}function o({children:e,enabled:t}){return(0,r.useEffect)(()=>{(0,n.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),t?(0,a.jsx)(s,{children:e}):e}},568736:function(e,t,l){function n(e){return[0,24,21,26].includes(e)}function r({articleType:e,id:t,title:l}){let n=l.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}l.d(t,{x:()=>r,y:()=>n})},514837:function(e,t,l){l.d(t,{Z:()=>o});var n=l(686659),r=l(667294),i=l(20256),a=l(69841),s=l(785893);function o({carouselData:e,contextLogData:t,height:l,id:o,index:d,slideWidth:u,view:c,impressionType:p,viewParameter:f}){(0,r.useEffect)(()=>{(0,n.Z)("CarouselImpressionItem","/app/packages/gestaltExtensions/Carousel/CarouselImpressionItem.tsx")},[]);let[h,g]=(0,r.useState)(null),[_,m]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{h!==d?(g(d),m(!1)):m(!0)},[d,h]),e)?(0,s.jsx)(a.JE,{carouselData:{...e,type:"canonical"},contextLogData:t,impressionType:p??"Pin",isPaused:!_,loggingId:o,slotIndex:d,viewParameter:f,viewType:c,children:({impressionTrackerRef:e})=>(0,s.jsx)(i.xu,{ref:e,"data-test-id":`carousel-impression-ref-${o}-${d}`,height:l,overflow:"hidden",position:"absolute",width:u})},`carousel-impression-key-${d}`):null}},806513:function(e,t,l){l.d(t,{$H:()=>s,$q:()=>x,$u:()=>r,Az:()=>c,Cw:()=>I,D6:()=>u,GZ:()=>w,Ke:()=>v,Lo:()=>i,P2:()=>_,TS:()=>b,Wv:()=>S,ZZ:()=>f,g5:()=>h,jC:()=>o,lX:()=>g,oX:()=>m,qG:()=>y,tG:()=>a,yF:()=>n,yc:()=>p,yt:()=>d});let n=236,r=270,i=157.33333333333334,a=175,s=24,o=4,d=8,u=2,c=8,p=2,f=14,h=16,g=16,_=24,m=16,y=-1,v=2,x=(e=!1,t=!1)=>e?t?g:12:_,S=({defaultItemWidth:e,contentVisibleItemCount:t,gap:l,moduleWidth:n})=>t||n?(n-((Math.ceil(t)+1)*l+8))/t:e,b=(e,t,l)=>{let r=l?3:2,i=t?5:r,s=t?n:a,o=t?m:d,u=s*i+o*i-(t||!t&&l?12:6);if(!e)return u;for(let t=i;t>=2;t-=1)if(e>u)break;else u=s*t+o*t;return u};function w(e){let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}}function I(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},431006:function(e,t,l){l.d(t,{Z:()=>u});var n=l(686659),r=l(667294),i=l(20256),a=l(342462),s=l(501010),o=l(739405),d=l(785893);function u({allBold:e,searchDelightConfig:t,query:l="",text:u}){(0,r.useEffect)(()=>{(0,n.Z)("HighlightTerm","/app/packages/search/HighlightTerm.tsx")},[]);let{checkExperiment:c}=(0,s.Z)(),p=(0,o.HG)(),f=l.trim(),h=u.toLowerCase(),g=(h.startsWith(f.toLowerCase())?f:"").length,_=t?(0,a.pF)(u,t.search_query_list):null;if(_&&t)return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,d.jsx)(a.KS,{allBold:e,searchDelightConfig:t,searchDelightParts:_,text:u,weightPivot:g})});if(!p&&c("web_search_autocomplete_visual_treatment").anyEnabled){let e=((e,t)=>{let l=Array(e.length).fill(!1);t.forEach(t=>{if(!t)return;let n=0;for(;n<=e.length-t.length;){let r=e.indexOf(t,n);if(-1===r)break;let i=r+t.length,a=!1;for(let e=r;e<i;e+=1)if(l[e]){a=!0;break}if(!a){for(let e=r;e<i;e+=1)l[e]=!0;break}n=i}});let n=[],r=0;for(;r<l.length;){let e=l[r],t=r+1;for(;t<l.length&&l[t]===e;)t+=1;n.push({matched:!!e,start:r,end:t}),r=t}return n})(h,f.toLowerCase().split(/\s/));return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:e.map(({matched:e,start:t,end:l})=>(0,d.jsx)(i.xv,{color:e?"subtle":"default",inline:!0,weight:e?"normal":"bold",children:u.substring(t,l)},`search-autocomplete-suggestion-${u}-${t}-${l}`))})}return(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,d.jsx)(i.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:u.substring(0,g)}),(0,d.jsx)(i.xv,{inline:!0,weight:"bold",children:u.substring(g)})]})}},722157:function(e,t,l){l.d(t,{Z:()=>x,b:()=>y});var n,r=l(667294),i=l(581722),a=l(422578),s=l(312048),o=l(20256),d=l(249459),u=l(173874),c=l(774838),p=l(935833),f=l(197908),h=l(739405),g=l(956226),_=l(305375);let m=(void 0!==n||(n=l(353491)).hash&&"5a3162913508a33c37676bde5973ea45"!==n.hash&&console.error("The definition of 'useDynamicSearchPlaceholderDataQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),y=e=>{let t={pageType:"other",isEligiblePageTypeForDynamicSearchPlaceholder:!1};return(0,u.uM)(e)?(t.pageType="pin",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,u.am)(e)?(t.pageType="board",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,u.dr)(e)&&(t.pageType="klp",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0),t},v=({fetchedSuggestedTerms:e,deviceType:t,pageType:l,dataType:n})=>{let r={deviceType:t,dataType:n,pageType:l};return e.length<3?((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",{termsCount:e.length,...r}),e=[]):(e=e.filter(e=>e.split(" ").length>1).map(e=>e.toLowerCase())).length<3&&((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",{termsCount:e.length,...r}),e=[]),e};function x(){let[e,t]=(0,r.useState)([]),l=(0,s.TH)(),n=(0,_.Z)(),x=(0,o.JZ)(),S=(0,f.Z)(l.pathname)||"",{isAuthenticated:b}=(0,c.B)(),w=(0,h.ZP)(),I=(0,u.uM)(l),k=(0,u.am)(l),P=(0,u.dr)(l),{pageType:E,isEligiblePageTypeForDynamicSearchPlaceholder:F}=y(l),C=n.id||(0,d.G)(n.interest||""),T=!b&&F&&!x,Z=(0,a.useRelayEnvironment)(),L=(0,i.v9)(e=>(0,g.Z)(e)[l.pathname]),B=(0,i.v9)(({topics:e})=>Object.keys(e).reduce((t,l)=>{let n=e[l];return t[n.slug]=n,t[l]=n,t},{})[C]),A=e=>e.reduce((e,t)=>t.name?[...e,t.name]:e,[]),O=(0,r.useCallback)(()=>{(0,a.fetchQuery)(Z,m,{pinId:S},{fetchPolicy:"store-or-network"}).subscribe({next:e=>{let l=[],n=e.v3GetPinQuery?.__typename==="V3GetPin"?e.v3GetPinQuery?.data:null;n?.isUnsafe?(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(n?.pinJoin?.visualAnnotation&&(l=n.pinJoin.visualAnnotation),l=v({fetchedSuggestedTerms:l,deviceType:w,pageType:E,dataType:"vase"})),t(l.slice(0,5))},error:e=>{(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[w,S,Z,E]),j=(0,r.useCallback)(()=>{if(L?.seo_related_interests&&!L.owner?.is_partner){let e=A(L.seo_related_interests);t((e=v({fetchedSuggestedTerms:e,deviceType:w,pageType:E,dataType:"board_annotations"})).slice(0,5))}},[L,E,w]),D=(0,r.useCallback)(()=>{if(B?.seo_related_interests){let e=A(B.seo_related_interests);t((e=v({fetchedSuggestedTerms:e,deviceType:w,pageType:E,dataType:"klp_annotations"})).slice(0,5))}},[B,E,w]);return(0,r.useEffect)(()=>{!b&&T&&("desktop"!==w?t([]):(I&&O(),k&&j(),P&&D()))},[L,I,k,P,T,b,w,O,j,D]),(0,r.useEffect)(()=>{I||k||P||0===e.length||t([])},[I,e.length,k,P]),e}},735403:function(e,t,l){l.d(t,{Z:()=>r});var n=l(900946);function r(e){let{enteredQuery:t,filters:l,guideAdded:r,query:i,requestParams:a,rs:s,scope:o,selectedOneBarModules:d,user:u,inlineSuggestion:c}=e;if(!i)return"/";let p={q:i,rs:s,...a};if(l&&(p.filters=l),u&&(p.user=u),d&&(p.selected_one_bar_modules=d),r&&r.term&&(p.add_refine=`${r.term}|guide|word|${r.index}`),t&&(p.entered_query=t),c&&(p.inline_suggestion=c),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,n.Z)(p)}`;let f=o;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(f??"")||(f="pins"),f?`/search/${f}/?${(0,n.Z)(p)}`:`${window.location.pathname}?${(0,n.Z)(p)}`}},197601:function(e,t,l){l.d(t,{Z:()=>r});var n=l(575820);function r(e){let t,l=(0,n.mB)(e.search)||{};if(l.q){let l=e.pathname.split("/");t=l.length>2?l[2]:"pins"}if(l.q&&t){let e=Array.isArray(l.q)?l.q.join(" "):l.q,n=Array.isArray(l.rs)?"":l.rs,r=Array.isArray(l.user)?"":l.user;return{filters:l.filters||"",user:r,query:e||"",rs:n||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},764210:function(e,t,l){l.d(t,{Z:()=>i});var n=l(568736),r=l(900946);function i({bubbleId:e,pinId:t,query:l,referringSource:i,storyCategory:a,storyId:s,title:o}){let d=void 0!==a&&[0,24,21,26].includes(a),u=(0,r.Z)({q:l,rs:i||void 0,b_id:e,source_id:s,top_pin_ids:t}),c=d&&o?(0,n.x)({title:o,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?c:`/search/pins/${u?"?"+u:""}`}},574991:function(e,t,l){l.d(t,{J:()=>n,Z:()=>r});let n=-1;function r(e){switch(e){case n:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},537701:function(e,t,l){l.d(t,{Z:()=>n});function n(e,t){let l=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(l,(e,t)=>"_"+t.toLowerCase())}},113759:function(e,t,l){l.d(t,{bq:()=>d,x4:()=>u});var n=l(686659),r=l(667294),i=l(15392),a=l(785893);let s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},o=(0,r.createContext)(s);function d({children:e,value:t}){(0,r.useEffect)(()=>{(0,n.Z)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let l=(0,r.useMemo)(()=>({...s,...t}),[t]);return(0,a.jsx)(o,{value:l,children:e})}function u(){let e=(0,r.useContext)(o);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},15392:function(e,t,l){l.d(t,{$T:()=>g,CI:()=>a,Ch:()=>o,E$:()=>w,ER:()=>h,Gb:()=>d,Gg:()=>r,Hf:()=>y,Id:()=>S,Ie:()=>c,KP:()=>p,Kn:()=>s,O5:()=>_,d2:()=>u,dm:()=>b,fF:()=>x,g9:()=>f,iB:()=>v,rv:()=>m,u6:()=>i});var n=l(20256);let r=508,i=1016,a=488,s=992,o=672,d=1176,u=40,c=72,p=740,f=32,h=16,g=24,_=2,m=1,y=new n.Ry(5),v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},x={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},S="calc(90vh - 80px)",b="calc(55vh + 80px)",w="calc(75vh - 80px)"},501755:function(e,t,l){l.d(t,{Z:()=>k});var n=l(686659),r=l(667294),i=l(20256),a=l(788730),s=l(352015),o=l(230201),d=l(342462),u=l(514837),c=l(806513),p=l(24246),f=l(79271),h=l(59111),g=l(216975),_=l(774838),m=l(893957),y=l(113759),v=l(785893);function x({index:e,length:t,showBadge:l}){return(0,r.useEffect)(()=>{(0,n.Z)("CarouselBadge","/app/www/common/Carousel/CarouselBadge.tsx")},[]),(0,v.jsx)(i.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:.8*!!l,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new i.Ry(1),children:(0,v.jsx)(i.xv,{color:"inverse",children:`${(e??0)+1}/${t}`})})}var S=l(834182),b=l(228612),w=l(74195);let I=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function k(e){let t;(0,r.useEffect)(()=>{(0,n.Z)("Carousel","/app/www/common/Carousel/Carousel.tsx")},[]);let{backgroundColor:l="transparent",children:k,componentType:P,containerRef:E,contextLogData:F,disableTransition:C,gap:T=0,height:Z,id:L,impressionType:B,index:A,responsiveSizing:O=!1,shouldBeDragCarousel:j,showCarouselBadge:D,styleOverrides:K,innerCarouselWidthRef:R,slideWidth:M,surface:N,paddingX:U,view:z,viewParameter:q,widthRatio:$=1,setSlideIndex:H,sliderRef:V,showCarouselOverflow:G,isHorizontalScrollable:W}=e,{showBadge:Q}=(({index:e})=>{let[t,l]=(0,r.useState)(!0),n=(0,r.useRef)(void 0),i=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>(n.current=setTimeout(()=>{l(!1)},3e3),()=>{clearTimeout(n.current)}),[]),(0,r.useEffect)(()=>{if(!i.current){i.current=e;return}clearTimeout(n.current),l(!0)},[e]),{showBadge:t}})({index:A}),{logContextEvent:Y}=(0,o.u)(),X=(0,b.S6)()(L),J=(0,p.Z)(),{isRTL:ee}=(0,_.B)(),et=(0,r.useRef)(void 0),el=(0,r.useRef)(null),en=(0,r.useRef)(0),er=(0,r.useRef)(void 0),ei=(0,w.Z)(),{peekCloseupEnabled:ea,viewportSize:es}=(0,y.x4)();if((0,m.Z)(()=>{let e=el.current;if(!e)return;V&&e&&(V.current=e);let t=()=>{let e=en.current;if(W){let t=new IntersectionObserver(([l])=>{let n=-(l.boundingClientRect.x??0),i=r.Children.toArray(k),a=V?(0,S.yR)(V.current,n+ei,M,$,T,i.length):0;H?.(a),Math.abs(e-n)>=10&&Y({aux_data:{...F},component:P,event_type:"right"==(e<n?"right":"left")?9315:9316,view_type:z,view_parameter:q}),en.current=n,er.current&&t.unobserve(er.current)});er.current&&t.observe(er.current)}else{let t=-(er.current?.getBoundingClientRect().x??0);Math.abs(e-t)>=10&&Y({aux_data:{...F},component:P,event_type:"right"==(e<t?"right":"left")?9315:9316,view_type:z,view_parameter:q}),en.current=t}};return j&&(W&&e?.addEventListener("scroll",t),e?.addEventListener("touchend",t)),()=>{j&&(W&&e?.removeEventListener("scroll",t),e?.removeEventListener("touchend",t))}}),$>1||$<0)throw Error("widthRatio should be between 0 and 1 inclusive");let eo=Math.floor(M*$),ed=r.Children.toArray(k),eu=ed.length*eo,ec=E?.clientWidth||eu,{maxHeight:ep,fiftyPercentHeight:ef,fiftyPercentWidth:eh}=(0,a.Re)(),eg=ea&&"lg"===es&&"ShoppingGridSmallCarousel"===N;ea&&(t="sm"===es?ef:ep);let e_=K?.justifyContent??(ec>eu?"center":"start"),em=e=>void 0!==e?`${e}px`:j?`${c.yt}px`:void 0,ey=em(K?.horizontalScrollContainerPaddingLeft),ev=em(K?.horizontalScrollContainerPaddingRight);R&&(R.current="center"===e_?el.current:null);let ex=O||j?void 0:(0,S.CU)({slotWidth:eo,gap:T,numberOfSlides:ed.length,index:A,containerWidth:ec,paddingX:U});return(0,v.jsxs)("div",{className:"BoardMoreIdeasRep"===B?"moreIdeasBoardRepCarousel":"",style:O?{height:"inherit"}:{},children:[(0,v.jsxs)(i.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:O?"inherit":void 0,justifyContent:e_,overflow:eg||G?void 0:"hidden",children:[D&&(0,v.jsx)(x,{index:A,length:ed.length,showBadge:Q}),"BoardMoreIdeasRep"!==B&&(0,v.jsx)(s.P,{pinKey:null!=X?{type:"Legacy",data:X}:null,children:e=>(0,v.jsx)(u.Z,{carouselData:{...e,type:"canonical"},contextLogData:F,height:Z??et.current?.clientHeight??1,id:L,impressionType:"Pin",index:A,slideWidth:M,view:z??1,viewParameter:q??72},`carousel-impression-key-${A}`)}),j&&(0,v.jsx)(h.Z,{unsafeCSS:I}),(0,v.jsx)("div",{ref:el,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:l,overflowX:j?"scroll":"visible",paddingLeft:ey,paddingRight:ev,display:"flex",flexDirection:K?.flexDirection??"row",height:O?"inherit":void 0,marginLeft:U?`${U}px`:void 0,marginRight:U?`${U}px`:void 0,position:"relative",scrollbarWidth:0,transition:j||C?void 0:ee?"right .5s":"left .5s",right:ee?ex:void 0,left:ee?void 0:ex,width:O?"100%":void 0},children:ed.map((e,l)=>{let n=l===ed.length-1,r=Math.ceil(T/4),s=0;r>=-12&&r<=12&&(s=r);let o=(0,v.jsx)(i.xu,{ref:e=>{et.current=e,0===l&&(er.current=e)},"aria-label":(0,g.Wc)(J.bt("Слайд {{ currentSlide }} из {{ totalSlides }}", "Slide {{ currentSlide }} of {{ totalSlides }}", "CloseupCarousel.Carousel.labelSlide", undefined, true),{currentSlide:`${l+1}`,totalSlides:`${ed.length}`}),"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${l}`,display:l!==A&&O?"none":"block",height:O?"100%":Z??void 0,marginEnd:n?0:s,maxHeight:t,maxWidth:eg?`calc(${a.LV}px - ${a.Gd}px * 2)`:eh,role:"group",width:O?"100%":eo,children:e},`carousel-slot-${L}-${l}`);if("BoardMoreIdeasRep"===B){let t=e.props,n={total_object_count:t?.story.objects.length,storyType:t?.story.story_type,boardIdStr:t?.item.board_id,slotIndex:t?.slotIndex,story_id:t?.story.id};return(0,v.jsx)(f.Fw,{componentType:P,contextLogData:n,impressionAuxFields:n,impressionType:"BoardMoreIdeasRep",loggingId:L,slotIndex:l,viewParameter:q??72,viewType:z??1,children:({impressionTrackerRef:e})=>(0,v.jsx)(i.xu,{ref:e,children:o})},`carousel-slot-${L}-${l}`)}return o})})]}),14114===P&&(0,v.jsx)(d.Qp,{anchor:er.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},206928:function(e,t,l){l.d(t,{Z:()=>o});var n=l(686659),r=l(667294),i=l(20256),a=l(24246),s=l(785893);let o=({iconType:e,showFab:t,moduleHovered:l,opacity:o=.8})=>{(0,r.useEffect)(()=>{(0,n.Z)("NavigationFab","/app/www/common/Carousel/NavigationFab.tsx")},[]);let d=(0,a.Z)(),[u,c]=(0,r.useState)(!1),p=l??u;return(0,s.jsx)(i.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),opacity:p?1:p===l?0:o,children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:+!!t,children:(0,s.jsx)(i.hU,{accessibilityLabel:"forward"===e?d.bt("Просмотреть следующее изображение", "View Next", "Button to advance carousel to the next image", undefined, true):d.bt("Просмотреть предыдущее изображение", "View Previous", "Button to advance carousel to the previous image", undefined, true),bgColor:"white",dataTestId:"navigation-fab",icon:"forward"===e?"arrow-forward":"arrow-back",size:"md"})})})}},834182:function(e,t,l){l.d(t,{CU:()=>r,GH:()=>s,Iw:()=>a,c3:()=>c,gA:()=>o,tD:()=>i,vF:()=>d,yR:()=>u});let n=({containerWidth:e,contentWidth:t,index:l,slotAndGapWidth:r})=>{let i=l-1,a=i*r;return t-a>=e?a:n({index:i,slotAndGapWidth:r,containerWidth:e,contentWidth:t})},r=({containerWidth:e,gap:t,index:l,numberOfSlides:r,slotWidth:i,paddingX:a})=>{let s=i+t,o=s*r,d=a?e-a:e;if(o<=d)return 0;let u=d/s,c=(({index:e,numberOfSlides:t,slidesShownPerPosition:l})=>t-e-Math.floor(l)<1)({index:l,numberOfSlides:r,slidesShownPerPosition:u})?(({containerWidth:e,contentWidth:t,gap:l,index:r,slidesShownPerPosition:i,slotAndGapWidth:a,paddingX:s=0})=>n({containerWidth:e,contentWidth:t,index:r,slotAndGapWidth:a})+(({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t)({slidesShownPerPosition:i,slotAndGapWidth:a})-l+s)({containerWidth:d,contentWidth:o,gap:t,index:l,slidesShownPerPosition:u,slotAndGapWidth:s,paddingX:a}):l*s;return c?Math.round(-c):0},i=({containerWidth:e,gap:t,index:l,numberOfSlides:n,slotWidth:i,isHorizontalScrollable:a,paddingX:s,rows:o=1})=>{let d=n/o*i+t*(n-1),u=s?e-s:e;return 0!==e&&(d<=u||(a?d<=u:Math.abs(r({containerWidth:e,gap:t,index:l,numberOfSlides:n,slotWidth:i,paddingX:s}))+t>=d-u))},a=({containerWidth:e,currentIndex:t,gap:l,index:n,numberOfSlides:i,slotWidth:a,paddingX:s})=>{let o=a+l,d=s?e-s:e;if(o*i<=d||0===e)return!0;let u=r({containerWidth:e,gap:l,index:t,numberOfSlides:i,slotWidth:a,paddingX:s}),c=s?d+o+s:e+o;return u+o*n<c},s=(e,t,l)=>e||`${t.bt("изображение пина-карусели", "carousel image", "Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed", undefined, true)} ${l}`;function o({highResOnly:e,slot:t}){let{images:l}=t;return e?`${l?.["564x"]?.url??""} 1x`:[l?.["474x"]&&`${l["474x"].url??""} 2x`,l?.["736x"]&&`${l["736x"].url??""} 3x`,l?.orig&&`${l.orig.url??""} 4x`].filter(Boolean).join(", ")}let d=(e,t,l,n,r=0,i)=>{let a=i?l-i:l;if(a===t)return-(n*t*1)+(i||0);let s=Math.floor(a-t),o=t+r;return n===e-1?-1*n*o+s+(i||0):-1*n*o+(i||0)},u=(e,t,l,n,r,i,a)=>{if(!e||t<=0)return 0;let s=Math.floor(l*n),o=e?.clientWidth||i*s;return Math.round(((a?t-a:t)+(a?o-a:o)-s/2)/(s+r))-1},c=(e,t,l,n,r,i)=>{e.current&&t&&e.current.scrollBy({left:(l-n)*(r+i),behavior:"smooth"})}},667389:function(e,t,l){l.d(t,{O:()=>c,Z:()=>p});var n=l(686659),r=l(667294),i=l(20256),a=l(24246),s=l(247387),o=l(785893);let d=(0,r.lazy)(()=>l.e("38647").then(l.bind(l,541583))),u={xs:12,sm:16,md:20,lg:24};function c({children:e}){(0,r.useEffect)(()=>{(0,n.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let t=(0,a.Z)();return(0,o.jsx)(i.u,{dataTestId:"verified-badge-tooltip",link:(0,o.jsx)(i.rU,{href:s.vBy,target:"blank",children:(0,o.jsx)(i.xe,{color:"inverse",size:"100",weight:"bold",children:t.bt("Подробнее", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("Этот магазин отвечает требованиям Pinterest к продавцам", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function p({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:l,showText:s,size:p,inspirationalBadges:f,inspirationalBadgesColor:h}){(0,r.useEffect)(()=>{(0,n.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let g=(0,a.Z)(),[_,m]=(0,r.useState)(!1);if(l){let l=(0,o.jsxs)(i.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,o.jsx)(i.iP,{onTap:()=>m(!0),children:(0,o.jsx)(i.JO,{accessibilityLabel:g.bt("Значок подтвержденного продавца", "Merchant verification badge", "merchantVerification.badge.icon", undefined, true),color:"info",icon:"check-circle-fill",inline:!0,size:u[p]})}),s&&(0,o.jsx)(i.xu,{marginStart:2,children:(0,o.jsx)(i.xe,{color:"default",inline:!0,weight:"bold",children:g.bt("Подтвержденный продавец", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,o.jsxs)(r.Fragment,{children:[e?l:(0,o.jsx)(c,{children:l}),!t&&!e&&_&&(0,o.jsx)(r.Suspense,{children:(0,o.jsx)(d,{inspirationalBadges:f,inspirationalBadgesColor:h,setShowModal:m,showModal:_})})]})}return t&&!l?(0,o.jsx)(i.JO,{accessibilityLabel:g.bt("Подтверждение домена", "Domain verification", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle-fill",size:u[p]}):null}},137679:function(e,t,l){l.d(t,{w:()=>B,$:()=>L});var n=l(213491),r=l(667294),i=l(312048),a=l(860536),s=l(99643),o=l(230201),d=l(935059),u=l(609252),c=l(514223),p=l(173874),f=l(501010),h=l(774838),g=l(735403),_=l(197601),m=l(336024),y=l(405897),v=l(477738),x=l(575820),S=l(74972),b=l(818282),w=l(372164),I=l(720517),k=l(622900),P=l(275894),E=l(576105),F=l(657476),C=l(520803),T=l(785893);let{Provider:Z,get:L}=(0,n.Z)("SearchBoxHandlers");function B({children:e,handleIconOnlyChange:t,iconOnly:l,widthType:n,isPartner:L}){let B=function({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:l=!1,widthType:n="md"}){let{logContextEvent:T}=(0,o.u)(),{country:Z,language:L,isRTL:B}=(0,h.B)(),A=(0,d.Z)(),O=(0,i.s0)(),j=(0,i.TH)(),{path:D}=(0,C.Z)(),{checkExperiment:K}=(0,f.Z)(),[,R]=(0,r.useTransition)(),{isLensModalOpen:M}=(0,s.m)(),N=A.isAuth&&K("web_lens").anyEnabled,{auxData:U}=(0,F.Z)({skipResourceCall:!(0,p.En)(j)}),z=U?.metadata?.unity_search_query,{query:q,scope:$,rs:H}=(0,_.Z)(j),V=K("web_search_sticky_guides_iterated_entered_query",{dangerouslySkipActivation:!0}).anyEnabled&&z||(0,x.mB)(j.search).entered_query,G=(a.t.includes(H)?"":V||q)??"",[W,Q]=(0,r.useState)(G),[Y,X]=(0,r.useState)(),J=Y?(0,w.Lq)(Y):W,ee=(0,w.WY)(),et=$??v.lw.PINS;ee&&(et=v.lw.PINS_MINE),et===v.lw.PINS_BUYABLE&&(et=v.lw.PINS);let[el,en]=(0,r.useState)(et),er=A.isAuth&&el===v.lw.PINS_MINE,ei=+!!er;(0,w.hb)(ei);let[ea,es]=(0,r.useState)([]),[eo,ed]=(0,r.useState)(),[eu,ec]=(0,r.useState)(!1),[ep,ef]=(0,r.useState)(!1),[eh,eg]=(0,r.useState)(!1),[e_,em]=(0,r.useState)(!1),ey=ep||e_,[ev,ex]=(0,r.useState)(!1),[eS,eb]=(0,r.useState)(0),[ew,eI]=(0,r.useState)(""),[ek,eP]=(0,r.useState)(0),[eE,eF]=(0,r.useState)(""),[eC,eT]=(0,r.useState)("");(0,r.useEffect)(()=>{eT("")},[ey]),(0,r.useEffect)(()=>{if(ey&&W.trim().length>0&&ek===W.length){if(ew&&ew.startsWith(W)){let e=(0,w.Cx)(ea,eo),t=e&&["recent_pin_searches","query"].includes(e.type)&&e.query;if(!e_||!e||t===ew)return}else if(ea&&ea.length>0){let e=ea[0]?.items.find(e=>["recent_pin_searches","query"].includes(e.type));if(e&&e.query.startsWith(W)){let{anyEnabled:t,group:l}=K("dweb_search_autocomplete_inline_suggestions");if(t&&e.show_inline_query&&function({enteredQuery:e,group:t,viewedInlineSuggestion:l}){if(!t.includes("continuous")&&l)return!1;let n=t.includes("2word")&&2||t.includes("3word")&&3||1;return!!e.endsWith(" ")&&e.split(" ").filter(e=>!!e).length>=n}({enteredQuery:W,group:l,viewedInlineSuggestion:eE})){eI(e.query),eF(e.query);return}}}}eI("")},[W,ea,K,ey,ek,ew,e_,eE,eo]);let eZ=(0,k.Z)()&&"US"===Z&&L.startsWith("en")&&A.isAuth&&K("web_voice_search").anyEnabled,[eL,eB]=(0,r.useState)(P.K.NULL);function eA(){ed(void 0),X(void 0)}let{setAppFocusState:eO,toggleTypeaheadOverlay:ej}=(0,S.G)(),eD=(0,I.Z)(ei),eK=(0,E.Z)(),[eR,eM]=(0,r.useState)(t);(0,r.useEffect)(()=>{eM(t)},[t]);let[eN,eU]=(0,r.useState)(!1),[ez,eq]=(0,r.useState)();(0,w.sy)({setShouldHideGhostText:eU,setSuggestionsMaxHeight:eq,isSyop:er});let e$=A.isAuth&&"shrink"!==n&&(G||ee),eH=["shrink","auto"].includes(n)?"8px":0;e$&&(eH="4px");let[eV,eG,eW]=(0,w.PN)({shouldHideGhostText:eN,isSyop:er,inputFocused:ep,voiceSearchPlaceholder:eL}),eQ=(0,r.useRef)(void 0);function eY(){eb(Date.now()),ef(!0)}function eX(e){Q(e),eA()}function eJ(){T({event_type:8721,view_type:b.Ie,view_parameter:103,component:15487,aux_data:{entered_query:W,inline_suggestion:ew}}),Q(ew),eT(ew),eI("")}function e0({index:e,isKeyDown:t,suggestion:l,suggestionStoryId:n}){let r=t?97:101,i=(0,w.yQ)({index:e,suggestion:l,enteredQuery:W,additionalAuxData:{user_id:"user"===l.type?l.id:void 0}});switch(l.type){case"recent_pin_searches":case"recent_query":case"query":if(l.query===G)break;T({event_type:r,view_type:b.Ie,view_parameter:"recent_query"===l.type?3467:103,component:35,element:["recent_query","recent_pin_searches"].includes(l.type)?253:104,aux_data:i,object_id_str:l.id});let a=(0,w.Ek)({suggestion:l,query:W,lastFocusTime:eS,inlineSuggestion:eC});er&&"recent_query"===l.type&&(a=a.replace("pins","my_pins")),eK(a),O(a);break;case"recent_save":O(l.url);break;case"explorearticle":let s=26===l.story_category?13865:200;T({event_type:101,view_type:b.Ie,view_parameter:3467,component:s,aux_data:i});let o=(0,w.Ek)({suggestion:l,query:"",suggestionStoryId:n});eK(o),O(o);break;case"todayarticle":T({event_type:101,view_type:b.Ie,view_parameter:3467,component:200,aux_data:i}),O((0,w.Ek)({suggestion:l,query:""}));break;case"board":case"user":T({event_type:r,view_type:b.Ie,view_parameter:103,component:35,element:104,aux_data:i,object_id_str:l.id}),eK(l.url),O(l.url)}eA(),ef(!1),em(!1)}(0,r.useEffect)(()=>{eQ.current!==ey&&R(()=>{ey?u.Z.pause():u.Z.resume(),eO(!ey),ey||(eA(),Q(G)),ej(ey),eQ.current=ey})},[G,ey,eO,ej]),(0,r.useEffect)(()=>{Q(G),en(et),G||eD(),ef(!1),em(!1)},[G,et,eD]),(0,r.useEffect)(()=>{W||eD()},[W,eD]);let e1=()=>{if(J===G&&el===et)return;let e=(0,m.Z)(J);if(!e.length)return;let t=(0,g.Z)({query:e,rs:y.i.TYPED??"",scope:el,inlineSuggestion:eC});eK(t),ef(!1),em(!1),O(t)};return{allowLens:N,allowVoiceSearch:eZ,appliedQuery:G,autocompleteRequestSurface:ei,delayedSearchBoxOpen:function(){setTimeout(eY,500)},displayedQuery:J,endPadding:eH,enteredQuery:W,enteredScope:el,getSuggestionImpressionOptions:function({additionalAuxData:e,index:t,groupIndex:l,suggestion:n,loggingId:r}){let i=b.Ie,a=(0,w.yQ)({index:t,suggestion:n,enteredQuery:W,additionalAuxData:e});switch(n.type){case"query":case"user":return{viewType:i,componentType:35,elementType:104,viewParameter:103,loggingId:r,objectIdStr:r,contextLogData:a,impressionType:"Search",slotIndex:l};case"recent_pin_searches":return{viewType:i,componentType:35,elementType:253,viewParameter:103,loggingId:r,objectIdStr:r,contextLogData:a,impressionType:"Search",slotIndex:l};case"recent_query":return{viewType:i,componentType:35,elementType:253,viewParameter:3467,loggingId:r,objectIdStr:r,contextLogData:a,impressionType:"Search",slotIndex:l};case"explorearticle":case"todayarticle":return{contextLogData:a,impressionType:"Article",loggingId:r,objectIdStr:r,slotIndex:t,viewParameter:3467,viewType:i};case"story":return{componentType:200,contextLogData:a,impressionType:"Story",loggingId:r,objectIdStr:r,slotIndex:l,viewParameter:3467,viewType:i};default:return null}},handleClearSearch:function(){if(K("dweb_search_clear_search").anyEnabled){Q(""),eA(),eY(),eL===P.K.LISTENING&&eB(P.K.CANCEL);return}Q(""),en(v.lw.PINS),eA(),eB(P.K.CANCEL),A.isAuth&&G?O("/"):l&&e&&e(!0)},handleInclusiveProductFilterClick:function(e,t,l){let n={};W&&(n.entered_query=W),T({event_type:101,view_type:b.Ie,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...n}});let r=(0,w.Ek)({suggestion:e,query:W,lastFocusTime:eS,filterSelectedTerm:l});eK(r),em(!1),O(r)},handleInputBlur:e=>{let{currentTarget:t}=e;setTimeout(()=>{t.contains(document.activeElement)||(ef(!1),eF(""))},0)},handleInputChange:e=>{eP(e.currentTarget?.selectionStart||0),eX(e.target.value)},handleInputClick:e=>{T({event_type:101,component:43,element:227}),eP(e.currentTarget?.selectionStart||0)},handleInputFocus:e=>{eP(e.currentTarget?.selectionStart||0),eY()},handleKeyDown:e=>{switch(e.keyCode){case c.Z.ENTER:{let t=(0,w.Cx)(ea,eo);ey&&t&&e.preventDefault(),t&&eu?(e0({index:t.resultIndex||0,isKeyDown:!0,suggestion:t}),ec(!1)):e1();break}case c.Z.ESCAPE:ey&&e.preventDefault(),e.stopPropagation(),ef(!1),em(!1);break;case c.Z.UP:ey&&e.preventDefault();let[t,l]=(0,w.VE)(ea,eo);ed(t),ec(!0),X(l);break;case c.Z.DOWN:{ey&&e.preventDefault();let[t,l]=(0,w.VE)(ea,eo,!0);ed(t),ec(!0),X(l);break}case c.Z.RIGHT:!B&&ew&&(e.preventDefault(),e.stopPropagation(),eJ());break;case c.Z.LEFT:B&&ew&&(e.preventDefault(),e.stopPropagation(),eJ());break;case c.Z.TAB:eG&&!W&&ey?(e.preventDefault(),e.stopPropagation(),Q(eG)):ew&&(e.preventDefault(),e.stopPropagation(),eJ());break;case c.Z.BACKSPACE:ew&&eI("")}},handleKeyUp:e=>{eP(e.currentTarget?.selectionStart||0)},handleScopeChange:function(e){en(e),ef(l&&!W),eA()},handleSearchIconButtonClick:()=>{ef(!0),l&&T({event_type:101,element:11809})},handleSuggestionSelect:e0,handleSyopCtaClick:function(){let e=(0,m.Z)(W);if(!e.length)return;let t=(0,g.Z)({query:e,rs:y.i.AC,scope:v.lw.PINS_MINE});eK(t),O(t)},handleTextChange:eX,handleTypedSearchSubmit:e1,handleVoiceSearchSubmit:e=>((e,t)=>{let l=(0,g.Z)({query:e,rs:t,scope:el});eK(l),ef(!1),em(!1),O(l)})(e,y.i.VOICE_SEARCH),handleFeaturedBoardSubmit:()=>{eA(),ef(!1),em(!1)},inlineACSuggestion:ew,inputFocused:ep,isContentTypeFilterHovered:ev,isCurrentlyOnLensPage:"/lens-search"===D,isInTypeaheadSession:ey,isLensModalOpen:M,isSyop:er,logInlineSuggestionView:function(){T({event_type:13,view_type:b.Ie,view_parameter:103,component:15487,aux_data:{entered_query:W,inline_suggestion:ew}})},searchBoxHovered:eh,searchBoxPlaceholder:eV,setContentTypeFilterHovered:ex,setSearchBoxHovered:eg,setVoiceSearchPlaceholder:eB,setSuggestionsFocusIndex:ed,setSuggestionsHovered:em,showContentTypeFilter:e$,showIconOnly:eR,voiceSearchPlaceholder:eL,suggestedSearchTerms:eW,suggestionGroups:ea,suggestionsFocusIndex:eo,suggestionsMaxHeight:ez,updateSuggestionGroups:es}}({handleIconOnlyChange:t,iconOnly:l,widthType:n,isPartner:L});return(0,T.jsx)(Z,{value:B,children:e})}},535486:function(e,t,l){l.d(t,{Z:()=>I});var n,r=l(686659),i=l(667294),a=l(167912),s=l(20256),o=l(24246),d=l(774838),u=l(739405),c=l(662911),p=l(501755),f=l(620766),h=l(206928),g=l(834182),_=l(773919),m=l(765381),y=l(785893);let v=(void 0!==n||(n=l(335193)).hash&&"3ca45565a804bd5428a8509aa83434c3"!==n.hash&&console.error("The definition of 'SearchLandingPageFeaturedBoardsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),x=({board:e,isLastBoard:t,handleFeaturedBoardSubmit:l})=>{let n=(0,u.HG)();return e?(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{flex:"none",paddingRight:t?n?"36px":"16px":void 0}},marginBottom:2,paddingX:+!n,role:"option",width:t?n?268:216:n?236:200,children:(0,y.jsx)(s.iP,{onTap:()=>l?l():void 0,children:(0,y.jsx)(c.default,{boardKey:"__fragments"in e?e:{type:"Legacy",data:e},display:"responsive",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,isUsingMask:!0,noPaddings:!0,showFollowButton:!1,trackInteractionObjectProp:{action:"click",item:"slp-featuredboards-board",within:"slp-featuredboards-section"},type:"grid",viewParameter:3070,viewType:2})})}):null},S={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",showFab:!0,size:"sm",opacity:1},b=({handleFeaturedBoardSubmit:e})=>{let t=(0,o.Z)(),l=(0,u.HG)(),n=(0,u.ml)(),r=(0,_.Sm)(),a=(0,i.useRef)(null),d=(0,i.useRef)(null),[c,v]=(0,i.useState)(0),[b,w]=(0,i.useState)("0px"),[I,k]=(0,i.useState)([]),P=a?.current?.clientWidth??0;(0,i.useEffect)(()=>{r.data&&r.data.filter(e=>"board"===e.type).length<_.yN&&r.fetchMore()},[r]),(0,i.useEffect)(()=>{r.data&&k(r.data.filter(e=>"board"===e.type).slice(0,_.yN))},[r]);let E=(0,_.eK)(t);if((0,i.useEffect)(()=>{I&&c===I.length-1?w("-80px"):w("0px")},[c,I]),!r.data||r.error)return null;let F=(0,g.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:P,gap:16,numberOfSlides:I.length,index:c});return(0,y.jsxs)(s.kC,{direction:"column",children:[(0,y.jsx)(s.xu,{alignItems:"center",display:"flex",marginStart:4*!l,children:(0,y.jsx)(m.Z,{headerMarginTopOverride:n?6:3,sectionHeader:E,smallHeader:!0})}),(0,y.jsx)(s.xu,{children:l?(0,y.jsxs)(s.xu,{ref:a,display:"flex",marginBottom:l?4:6,paddingX:3*!!n,position:"relative",children:[(0,y.jsx)(f.Z,{backNode:(0,y.jsx)(h.Z,{...S,iconType:"back"}),carouselData:{index:c,entityId:"",carouselSlots:I.map(e=>({id:e.entityId,title:null}))},carouselIndex:c,forwardNode:(0,y.jsx)(h.Z,{...S,iconType:"forward"}),handleCarouselSwipe:e=>{v(e),d.current&&(0,g.c3)(d,!0,e,c,236,16)},isShowingLastSlide:F,itemsPerPage:l?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:b,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,y.jsx)(p.Z,{containerRef:a.current,gap:6,id:"featured-boards",index:c,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:v,showCarouselOverflow:!0,sliderRef:d,slideWidth:236,children:I.map((t,l)=>(0,y.jsx)(x,{board:t,handleFeaturedBoardSubmit:e},`board--${l}`))})})]}):(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:l?3:6,paddingX:3*!l,children:r.data.filter(e=>"board"===e.type).slice(0,_.yN).map((e,t)=>e&&(0,y.jsx)(x,{board:e,isLastBoard:t===_.yN-1},`board--${t}`))})})]})},w=({handleFeaturedBoardSubmit:e})=>{let t=(0,o.Z)(),l=(0,u.HG)(),n=(0,u.ml)(),r=(0,i.useRef)(null),d=(0,i.useRef)(null),[c,b]=(0,i.useState)(0),[w,I]=(0,i.useState)("0px"),k=r?.current?.clientWidth??0,P=(0,a.useLazyLoadQuery)(v,{}),E=P.v3RootPageFeaturedBoardsQuery?.__typename==="V3RootPageFeaturedBoards"?P.v3RootPageFeaturedBoardsQuery.data:void 0;if((0,i.useEffect)(()=>{E&&c===E.length-1?I("-80px"):I("0px")},[c,E]),P.v3RootPageFeaturedBoardsQuery?.error?.message||!E)return null;let F=(0,_.eK)(t),C=(0,g.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:k,gap:16,numberOfSlides:E.length,index:c});return(0,y.jsxs)(s.kC,{direction:"column",children:[(0,y.jsx)(s.xu,{alignItems:"center",display:"flex",marginStart:4*!l,children:(0,y.jsx)(m.Z,{headerMarginTopOverride:n?6:3,sectionHeader:F,smallHeader:!0})}),(0,y.jsx)(s.xu,{children:l?(0,y.jsxs)(s.xu,{ref:r,display:"flex",marginBottom:l?4:6,paddingX:3*!!n,position:"relative",children:[(0,y.jsx)(f.Z,{backNode:(0,y.jsx)(h.Z,{...S,iconType:"back"}),carouselData:{index:c,entityId:"",carouselSlots:E.map(e=>({id:e.entityId,title:null}))},carouselIndex:c,forwardNode:(0,y.jsx)(h.Z,{...S,iconType:"forward"}),handleCarouselSwipe:e=>{b(e),d.current&&(0,g.c3)(d,!0,e,c,236,16)},isShowingLastSlide:C,itemsPerPage:l?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:w,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,y.jsx)(p.Z,{containerRef:r.current,gap:6,id:"featured-boards",index:c,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:b,showCarouselOverflow:!0,sliderRef:d,slideWidth:236,children:E.map((t,l)=>(0,y.jsx)(x,{board:t,handleFeaturedBoardSubmit:e},`board--${l}`))})})]}):(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:l?3:6,paddingX:3*!l,children:E.slice(0,_.yN).map((e,t)=>e&&(0,y.jsx)(x,{board:e,isLastBoard:t===_.yN-1},`board--${t}`))})})]})};function I({handleFeaturedBoardSubmit:e}){(0,i.useEffect)(()=>{(0,r.Z)("SearchLandingPageFeaturedBoards","/app/www/discover/SearchBox/SearchLandingPageFeaturedBoards.tsx")},[]);let{country:t}=(0,d.B)();return(0,_.CE)(t)?(0,y.jsx)(w,{handleFeaturedBoardSubmit:e}):(0,y.jsx)(b,{handleFeaturedBoardSubmit:e})}},818282:function(e,t,l){l.d(t,{Ag:()=>g,Fj:()=>c,Gh:()=>S,H2:()=>x,Ie:()=>b,Lo:()=>i,Ny:()=>m,P$:()=>p,TD:()=>y,UE:()=>f,Ub:()=>_,XI:()=>n,YO:()=>v,a3:()=>d,ht:()=>s,le:()=>u,r5:()=>r,sA:()=>o,v6:()=>a,yY:()=>h});let n=48,r=8,i=4,a="searchBoxContainer",s={md:407,sm:332,auto:"auto"},o=7,d=["pin.description","pin.id","pin.images[236x]"],u=360,c=76,p=5,f=10,h=7.5,g=40,_=24,m=192,y=7,v=116,x={__style:{backgroundColor:"rgba(0,0,0, .4)"}},S=90,b=2},372164:function(e,t,l){l.d(t,{Cx:()=>P,Ek:()=>x,Gp:()=>I,Lq:()=>w,PN:()=>T,VE:()=>E,WY:()=>F,YO:()=>B,cW:()=>k,hb:()=>L,kj:()=>S,sy:()=>C,yQ:()=>b,zj:()=>Z});var n=l(312048),r=l(568736),i=l(935059),a=l(24246),s=l(774838),o=l(917569),d=l(661376),u=l(722157),c=l(764210),p=l(336024),f=l(477738),h=l(925201),g=l(629724),_=l(893957),m=l(818282),y=l(609370),v=l(275894);function x({suggestion:e,query:t,lastFocusTime:l=0,filterSelectedTerm:n,suggestionStoryId:i,inlineSuggestion:a}){if("explorearticle"===e.type){let{aux_fields:t,id:l,query:n,story_category:r}=e;return e.action?.url??(0,c.Z)({bubbleId:l,pinId:t?.image_pin_id,query:n,referringSource:2===r?"trending":"autocomplete_bubble",storyCategory:r,storyId:i})}if("todayarticle"===e.type){let{id:t,title:l}=e;return(0,r.x)({title:l,id:t,articleType:"today"})}let s={eq:(0,p.Z)(t)};return l&&(s.etslf=String(Date.now()-l)),n&&(s.filters=n),a&&(s.inline_suggestion=a),(0,h.Z)("url"in e&&e.url?e.url:"",s)}function S(e){switch(e){case"app_upsell_autocomplete":case"autocompleteupsell":case"unauth_search_header":case"news_hub_search":case"recent_save":case"recent_view":return;case"generic_query":case"personal_query":return"query";case"recent_personal_searches":case"recent_pin_searches":return"recent_query";case"recommended_query":return"recommended";case"explorearticle":case"todayarticle":case"story":return"recommended_article";default:return e}}function b({enteredQuery:e,suggestion:t,index:l,additionalAuxData:n={}}){let r={...n,entered_query:e||void 0,selected_query:t.query||t.label||void 0,autocomplete_type:S(t.type)};switch(t.type){case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return{...r,result_index:l,user_id:"user"===t.type?t.id:void 0,ac_suggestion_id:t.id};case"explorearticle":return 26===t.story_category?{...r,article_id:t.id,story_id:t.storyId,story_type:"shopping_spotlight"}:{...r,autocomplete_type:2===t.story_category?"trending":"recommended",result_index:l};case"todayarticle":return{...r,article_id:t.id,story_type:"shopping_spotlight"};default:return{}}}function w(e){switch(e.type){case"explorearticle":case"news_hub_search":return e.title.format;case"todayarticle":return e.title;case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return e.label;default:return""}}function I(e,t){return`SuggestionGroup-Option-${e}-${t}`}let k=e=>{let t=0;return e.map(e=>{let l=t;return t+=(e.items??[]).length??0,l})},P=(e,t)=>{if(null==t)return;let l=k(e);for(let n=0;n<l.length;n+=1)if(e[n].items.length&&t-l[n]<e[n].items.length)return e[n].items[t-l[n]];return null};function E(e,t,l){let n=e.map(e=>e.items.length??0).reduce((e,t)=>e+t,0),r=l?null==t?0:t===n-1?void 0:t+1:null==t?n-1:0===t?void 0:t-1,i=P(e,r);return[r,i]}function F(){let e=(0,n.TH)(),t=(0,i.Z)(),{ideas_referrer:l,view_parameter_type:r}=(0,g.Z)(e.search);l=parseInt(l,10),r=parseInt(r,10);let a=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),s=t.isAuth&&e.pathname.startsWith("/recently-viewed"),o=3173===r&&(1===l||25===l);return(a||s)&&!o}function C({setShouldHideGhostText:e,setSuggestionsMaxHeight:t,isSyop:l}){let n=(0,y.Z)({isSyop:l}).anyEnabled;function r(){let l=document.getElementById(m.v6)?.offsetWidth||0,r=n?window.innerHeight/4:0;e(l<=m.le),t(window.innerHeight-14-m.Fj-r)}(0,_.Z)(()=>(window.addEventListener("resize",r),r(),()=>{window.removeEventListener("resize",r)}))}function T({shouldHideGhostText:e,isSyop:t,inputFocused:l,voiceSearchPlaceholder:n}){let r=(0,a.Z)(),{isAuth:s}=(0,i.Z)(),o=(0,d.Z)(s?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),c=s?r.bt("Поиск", "Search", "searchBox.placeholder.defaultText", undefined, true):r.bt("Идеи простых блюд на ужин, модных образов и многое другое", "Search for easy dinners, fashion, etc.", " - ", undefined, true),p="";if(n)c=n===v.K.LISTENING?r.bt("Прослушивание…", "Listening...", "searchBox.placeholder.search", undefined, true):r.bt("Запрос не распознан! Повторите попытку", "Didn't get that! Try again", "searchBox.placeholder.search", undefined, true);else if(!e&&o.isLoaded&&o.data&&o.data.length>0){let e=o.data[0].text;p=o.data[0].query,c=e}return t&&(c=l?r.bt("Введите название или описание", "Try a title or description", "searchBox.placeholder.searchYourOwnPinsFocusedText", undefined, true):r.bt("Поиск ваших пинов", "Search your Pins", "searchBox.placeholder.searchYourOwnPinsText", undefined, true)),[c,p,(0,u.Z)()]}function Z({suggestionsFocusIndex:e,suggestionGroups:t}){let l,n,r=k(t);if("number"==typeof e){for(let t=r.length-1;t>=0;t-=1)if(e>=r[t]){l=t,n=e-r[t];break}}return"number"==typeof l&&"number"==typeof n?I(l,n):""}function L(e){let t=(0,i.Z)(),{isBot:l}=(0,s.B)(),{isAuth:n,isLimitedLogin:r}=t,a=(0,o.Z)()();(0,d.Z)(!a&&n?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:f.lw.PINS,autocomplete_request_surface:e},noCache:!0}:null),(0,d.Z)(a||l?null:{name:"SearchTabResource"}),(0,d.Z)(n&&!r?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:m.a3.join(","),pin_preview_count:m.sA}}}:null)}function B({pillLabels:e,maxWidth:t}){let l=e.length;if(!t)return l;let n=0;for(let r=0;r<e.length;r+=1){let i=e[r];if(!i)continue;let a=i.length*m.yY+m.Ag+m.Ub;if(a+n<t)n+=a;else{l=r;break}}return l}},609370:function(e,t,l){l.d(t,{Z:()=>r});var n=l(501010);function r({isSyop:e}){let{checkExperiment:t}=(0,n.Z)();return e?{anyEnabled:!1,group:""}:t("web_search_autocomplete_empty_state")}},720517:function(e,t,l){l.d(t,{Z:()=>a});var n=l(667294),r=l(581722),i=l(233597);function a(e){let t=(0,r.I0)();return(0,n.useMemo)(()=>()=>{t((0,i.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins",autocomplete_request_surface:e}}))},[t,e])}},148:function(e,t,l){l.d(t,{n:()=>p,v:()=>f});var n=l(667294),r=l(312048),i=l(213491),a=l(477738),s=l(739405),o=l(582610),d=l(305375),u=l(785893);let{Provider:c,get:p}=(0,i.Z)("SearchParams"),f=({children:e,value:t})=>{let l=function(){let e=(0,s.HG)(),{search:t,pathname:l}=(0,r.TH)(),{scope:n}=(0,d.Z)(),i=!n&&l.includes("/_tools/shop");return(0,o.Z)({isDesktop:e,scope:i?a.lw.SHOP_TOOL:n,search:t})}(),i=(0,n.useMemo)(()=>({...l,...t}),[l,t]);return(0,u.jsx)(c,{value:i,children:e})}},55424:function(e,t,l){l.d(t,{Z:()=>r});var n=l(261926);function r(e){let t=e?.modified_filter_eligibility;return t?"hair_pattern"in t?n.ti.HAIR:"skin_tone"in t?n.ti.SKIN:null:null}},622900:function(e,t,l){l.d(t,{Z:()=>n});function n(){return"undefined"!=typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}},275894:function(e,t,l){l.d(t,{K:()=>n});let n={LISTENING:"listening",DEFAULT:"default",CANCEL:"cancel",NULL:null}},261926:function(e,t,l){l.d(t,{CT:()=>n,HE:()=>r,Mq:()=>i,ti:()=>a});let n={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},r={CLOSEUP:"closeup"},i={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},a={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},582610:function(e,t,l){l.d(t,{Z:()=>i});var n=l(477738),r=l(575820);function i({isDesktop:e,scope:t,search:l}){let{auto_correction_disabled:i="",b_id:a,brands:s,category:o,colors:d,commerce_only:u="",cover_pin_sig:c,deb_d:p,domains:f,filters:h,guided_search_query:g,inline_suggestion:_,interest_id:m,journey_depth:y,on_sale:v,price_max:x,price_min:S,q:b,query_pin_sigs:w,request_params:I,rs:k,selected_one_bar_modules:P,source_id:E,source_module_id:F,tab:C,top_pin_ids:T,user:Z}=(0,r.mB)(l),L="true"===u.toLowerCase()&&"shop_tool"!==t?n.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===i.toLowerCase(),brands:s,bubbleId:a,category:o,colors:d,commerceOnly:"true"===u.toLowerCase(),coverPinSig:c,currentlyAppliedFiltersParamTerm:h,debD:p,domains:f,guidedSearchQuery:g,inlineSuggestion:_,interestId:m,journeyDepth:y?parseInt(y,10):void 0,onSale:v,personalizationPinSig:w,placementId:(0,n.Hd)(L,e),priceMax:x,priceMin:S,query:b,requestParams:I,rs:k,scope:L,selectedOneBarModules:P,sourceId:E,sourceModuleId:F,tab:C||"",topPinIds:T,user:Z,viewParameter:(0,n._R)(L),viewType:L===n.lw.SHOP_TOOL?1:2}}},576105:function(e,t,l){l.d(t,{Z:()=>d});var n=l(667294),r=l(581722),i=l(647908),a=l(233597),s=l(42676),o=l(582610);function d(){let e=(0,r.I0)(),t=(0,n.useRef)(void 0);return l=>{l&&function({appliedUnifiedFilters:e,dispatch:t,optionsKeyRef:l,isAuthenticated:n=!0,isDesktop:r=!0,url:d}){let u=new URL(d.startsWith("http")?d:`${window.location.origin}${d}`),c=u.pathname.split("/");if(4!==c.length||"search"!==c[1])return;let{search:p}=u,f=c[2],h=(0,o.Z)({isDesktop:r,scope:f,search:p}),g=(0,s.vW)({searchParams:h,appliedUnifiedFilters:e,isAuthenticated:n,isDesktop:r,sourceUrl:d}),_=(0,i.Z)(g);l.current!==_&&(l.current=_,t((0,a.U)(g.name,{options:g.options},null)))}({dispatch:e,optionsKeyRef:t,url:l})}}},657476:function(e,t,l){l.d(t,{X:()=>f,Z:()=>p});var n=l(312048),r=l(190665),i=l(501010),a=l(774838),s=l(661376),o=l(42676),d=l(477738),u=l(739405),c=l(148);function p(e){let{resource:t}=f(e);return t}function f(e){let{skipResourceCall:t}=e||{},{checkExperiment:l}=(0,i.Z)(),{isAuthenticated:p}=(0,a.B)(),{pathname:f,search:h}=(0,n.TH)(),g=(0,u.HG)(),_=!p||!g,m=(0,c.n)(),y=(0,r.Z)(),v=(0,o.vW)({searchParams:m,sourceUrl:f+h,isDesktop:g,isAuthenticated:p,appliedUnifiedFilters:y}),x=_;_&&(x=!!p&&!l("unify_search_resource_auth_mweb").anyEnabled);let S=t||m.scope===d.lw.USERS&&!_||x;return{resource:(0,s.Z)(S?null:v),options:v.options}}},956226:function(e,t,l){l.d(t,{Z:()=>n});let n=(0,l(442279).createSelector)(e=>e.boards,e=>Object.keys(e).reduce((t,l)=>{let n=e[l];t[n.url??""]=n;let r=n.url?.toLocaleLowerCase();r&&n.url!==r&&(t[r]=n);let i="oldSlugUrl"in n?n.oldSlugUrl:null;return i&&(t[i]=n),t},{}))},773919:function(e,t,l){l.d(t,{CE:()=>p,Cm:()=>f,Sm:()=>g,eK:()=>h,fA:()=>u,yN:()=>s});var n=l(667294),r=l(173874),i=l(774838),a=l(661376);let s=10,o=window.location.host.startsWith("testing"),d=e=>{let t=new Date(e.getFullYear(),9,3),l=new Date(e.getFullYear(),9,31);return e>=t&&e<=l},u=["US","CA","GB","AU","DE","FR"],c=["US","CA"],p=e=>{if(o)return!1;let t=new Date;return!!d(t)&&!!d(t)&&c.includes(e)},f=(e,t,l)=>(!e||l&&(0,r.gT)(l))&&u.includes(t),h=e=>e.bt("Просмотрите популярные доски", "Explore featured boards", "featured_boards.header", undefined, true),g=()=>{let{country:e}=(0,i.B)(),t=(0,n.useMemo)(()=>{var t;return"DE"===(t=e)?"pinterestde":"FR"===t?"pinterestfr":"AU"===t?"pinterestaustralia":"CA"===t?"pinterest_canada":"GB"===t?"pinterestuk":"pinterest"},[e]);return(0,a.Z)({name:"BoardsFeedResource",options:(({username:e,sort:t="last_pinned_to"})=>({field_set_key:"profile_grid_item",filter_stories:!1,sort:t,username:e}))({username:t})})}},765381:function(e,t,l){l.d(t,{Z:()=>c});var n=l(686659),r=l(667294),i=l(20256),a=l(24246),s=l(739405),o=l(785893);let d=({isPhone:e,url:t,handleClick:l})=>{let n=(0,a.Z)(),r=n.bt("Стрелка для просмотра дополнительной информации", "See more arrow", "unauth_section_header.see_more_a11y", undefined, true);return e?(0,o.jsx)(i.I_,{accessibilityLabel:r,bgColor:"transparent",href:t,icon:"arrow-forward",iconColor:"default",onClick:l,padding:1,size:"xs"}):(0,o.jsx)(i.ZP,{accessibilityLabel:r,color:"transparent",href:t,iconEnd:"arrow-forward",onClick:l,size:"md",text:n.bt("Подробнее", "See more", "unauth_section_header.see_more", undefined, true)})},u=({children:e,linkProps:t})=>t?(0,o.jsx)(i.Tg,{fullWidth:!1,href:t.url,mouseCursor:"pointer",onTap:t.handleClickHeader||t.handleClick,children:e}):(0,o.jsx)(i.xu,{children:e}),c=({sectionHeader:e,sectionHeaderA11yLevel:t,pretext:l,pretextA11yLevel:a,linkProps:c,headerMarginTopOverride:p,smallHeader:f=!1})=>{(0,r.useEffect)(()=>{(0,n.Z)("UnauthSectionHeader","/app/www/unauth/unified/UnauthSectionHeader.tsx")},[]);let h=(0,s.ml)(),g=p??(h?12:16),_=f||h?"200":"300",m=f||h?"300":"600";return(0,o.jsxs)(i.xu,{alignItems:"end",direction:"row",display:"flex",justifyContent:"between",marginBottom:4,marginTop:g,width:"100%",children:[(0,o.jsxs)(u,{linkProps:c,children:[!!l&&(0,o.jsx)(i.xu,{marginBottom:1,children:a?(0,o.jsx)(i.X6,{accessibilityLevel:a,size:_,children:(0,o.jsx)(i.xe,{size:_,children:l})}):(0,o.jsx)(i.xe,{lineClamp:2,size:_,children:l})}),(0,o.jsx)(i.X6,{accessibilityLevel:t||2,size:m,children:e})]}),!!c&&(0,o.jsx)(d,{...c,isPhone:h})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/46123.ru_RU-3931a071730e1931.mjs.map